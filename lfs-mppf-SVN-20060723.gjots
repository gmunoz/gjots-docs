\NewEntry
Desktop - May 30, 2004
\NewFolder
\NewEntry
LFS-CVS-20040525
\NewFolder
\NewEntry
Optimizations

-O2 -march=athlon -mmmx -m3dnow -pipe -fomit-frame-pointer

Except where otherwise noted.
\NewEntry
Re-entering chroot

***** Begin Code Block *****
mount -t proc proc $LFS/proc
chroot "$LFS" /usr/bin/env -i \
    HOME=/root TERM="$TERM" PS1='\u:\w\$ ' \
    PATH=/bin:/usr/bin:/sbin:/usr/sbin \
    /bin/bash --login
mount -n -t ramfs none /dev
/sbin/udevstart
ln -s /proc/self/fd /dev/fd
ln -s /proc/self/fd/0 /dev/stdin
ln -s /proc/self/fd/1 /dev/stdout
ln -s /proc/self/fd/2 /dev/stderr
ln -s /proc/kcore /dev/core
mkdir /dev/pts
mkdir /dev/shm
mount -t devpts -o gid=4,mode=620 none /dev/pts
mount -t tmpfs none /dev/shm
mount -t sysfs sysfs $LFS/sys
/sbin/udevstart
***** End Code Block *****
\NewEntry
Chapter 5
\NewFolder
\NewEntry
Binutils-2.15.90.0.3 Pass 1

***** Begin Code Block *****
mkdir ../binutils-build
cd ../binutils-build
../binutils-2.15.90.0.3/configure --prefix=/tools --disable-nls
make configure-host
make LDFLAGS="-all-static"
make install
make -C ld clean
make -C ld LDFLAGS="-all-static" LIB_PATH=/tools/lib
***** End Code Block *****
\NewEntry
GCC-3.4.0 - Pass 1

***** Begin Code Block *****
mkdir ../gcc-build
cd ../gcc-build
../gcc-3.4.0/configure --prefix=/tools \
    --libexecdir=/tools/lib --with-local-prefix=/tools \
    --disable-nls --enable-shared --enable-languages=c
make BOOT_LDFLAGS="-static" bootstrap
make install
ln -s gcc /tools/bin/cc
***** End Code Block *****
\NewEntry
Linux-Libc-Headers-2.6.5.2

***** Begin Code Block *****
cp -R include/asm-i386 /tools/include/asm
cp -R include/linux /tools/include
***** End Code Block *****
\NewEntry
Linux-2.6.6 headers

***** Begin Code Block *****
make mrproper
make include/linux/version.h
make include/asm
mkdir /tools/glibc-kernheaders
cp -HR include/asm /tools/glibc-kernheaders
cp -R include/asm-generic /tools/glibc-kernheaders
cp -R include/linux /tools/glibc-kernheaders
***** End Code Block *****
\NewEntry
Glibc-2.3.4-20040510

***** Begin Code Block *****
mkdir ../glibc-build
cd ../glibc-build
../glibc-2.3.4-20040510/configure --prefix=/tools \
    --disable-profile --enable-add-ons=nptl --with-tls \
    --with-binutils=/tools/bin --without-gd --without-cvs \
    --with-headers=/tools/glibc-kernheaders
make
make check
mkdir /tools/etc
touch /tools/etc/ld.so.conf
make install
mkdir -p /tools/lib/locale
localedef -i de_DE -f ISO-8859-1 de_DE
localedef -i de_DE@euro -f ISO-8859-15 de_DE@euro
localedef -i en_HK -f ISO-8859-1 en_HK
localedef -i en_PH -f ISO-8859-1 en_PH
localedef -i en_US -f ISO-8859-1 en_US
localedef -i es_MX -f ISO-8859-1 es_MX
localedef -i fa_IR -f UTF-8 fa_IR
localedef -i fr_FR -f ISO-8859-1 fr_FR
localedef -i fr_FR@euro -f ISO-8859-15 fr_FR@euro
localedef -i it_IT -f ISO-8859-1 it_IT
localedef -i ja_JP -f EUC-JP ja_JP
***** End Code Block *****
\NewEntry
Adjusting the toolchain

In binutils-build/

***** Begin Code Block *****
make -C ld install
***** End Code Block *****

***** Begin Code Block *****
SPECFILE=/tools/lib/gcc/*/*/specs &&
sed -e 's@ /lib/ld-linux.so.2@ /tools/lib/ld-linux.so.2@g' \
    $SPECFILE > tempspecfile &&
mv -f tempspecfile $SPECFILE &&
unset SPECFILE
***** End Code Block *****

***** Begin Code Block *****
rm -f /tools/lib/gcc/*/*/include/{pthread.h,bits/sigthread.h}
***** End Code Block *****

Test with:

***** Begin Code Block *****
echo 'main(){}' > dummy.c
cc dummy.c
readelf -l a.out | grep ': /tools'
rm dummy.c a.out
***** End Code Block *****
\NewEntry
Tcl-8.4.6

***** Begin Code Block *****
cd unix
./configure --prefix=/tools
make
make install
ln -s tclsh8.4 /tools/bin/tclsh
***** End Code Block *****
\NewEntry
Expect-5.41.0

***** Begin Code Block *****
patch -Np1 -i ../patches/expect-5.41.0-spawn-1.patch
./configure --prefix=/tools --with-tcl=/tools/lib --with-x=no
make
make SCRIPTS="" install
***** End Code Block *****
\NewEntry
DejaGnu-1.4.4

***** Begin Code Block *****
./configure --prefix=/tools
make install
***** End Code Block *****
\NewEntry
GCC-3.4.0 - Pass 2

***** Begin Code Block *****
patch -Np1 -i ../patches/gcc-3.4.0-no-fixincludes-1.patch
patch -Np1 -i ../patches/gcc-3.4.0-specs-1.patch
mkdir ../gcc-build
cd ../gcc-build
../gcc-3.4.0/configure --prefix=/tools \
    --libexecdir=/tools/lib --with-local-prefix=/tools \
    --enable-clocale=gnu --enable-shared --enable-threads=posix \
    --enable-__cxa_atexit --enable-languages=c,c++ \
    --disable-libstdcxx-pch
make
make -k check
../gcc-3.4.1-20040517/contrib/test_summary
make install
***** End Code Block *****

Note: I ended up killing the `make check'. It seemed to hang.
\NewEntry
Binutils-2.15.90.0.3 Pass 2

***** Begin Code Block *****
mkdir ../binutils-build
cd ../binutils-build
../binutils-2.15.90.0.3/configure --prefix=/tools \
    --enable-shared --with-lib-path=/tools/lib
make
make -k check
make install
make -C ld clean
make -C ld LIB_PATH=/usr/lib:/lib
***** End Code Block *****

make check
==========
                === ld Summary ===

# of expected passes            198
# of unexpected failures        7
# of expected failures          2

./test-demangle: 745 tests, 0 failures

make[3]: *** [check-DEJAGNU] Error 1
make[3]: Leaving directory `/mnt/lfs/sources/binutils-build/ld'
make[2]: *** [check-am] Error 2
make[2]: Leaving directory `/mnt/lfs/sources/binutils-build/ld'
make[1]: *** [check-recursive] Error 1
make[1]: Target `check' not remade because of errors.
make[1]: Leaving directory `/mnt/lfs/sources/binutils-build/ld'
make: *** [check-ld] Error 2
make[1]: Entering directory `/mnt/lfs/sources/binutils-build/libiberty'
make[2]: Entering directory `/mnt/lfs/sources/binutils-build/libiberty/testsuite'
\NewEntry
Gawk-3.1.3

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
Coreutils-5.2.1

***** Begin Code Block *****
DEFAULT_POSIX2_VERSION=199209 ./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
Bzip2-1.0.2

***** Begin Code Block *****
make
make PREFIX=/tools install
***** End Code Block *****
\NewEntry
Gzip-1.3.5

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
Diffutils-2.8.1

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
Findutils-4.1.20

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
Make-3.80

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
Grep-2.5.1

***** Begin Code Block *****
./configure --prefix=/tools \
    --disable-perl-regexp --with-included-regex
make
make install
***** End Code Block *****
\NewEntry
Sed-4.0.9

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
Gettext-0.14.1

***** Begin Code Block *****
./configure --prefix=/tools --disable-libasprintf \
    --disable-csharp
make
make install
***** End Code Block *****
\NewEntry
Ncurses-5.4

***** Begin Code Block *****
./configure --prefix=/tools --with-shared \
    --without-debug --without-ada --enable-overwrite
make
make install
***** End Code Block *****
\NewEntry
Patch-2.5.4

***** Begin Code Block *****
CPPFLAGS=-D_GNU_SOURCE ./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
Tar-1.14

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
Texinfo-4.7

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
Bash-2.05b

***** Begin Code Block *****
patch -Np1 -i ../patches/bash-2.05b-gnu-fixes-2.patch
./configure --prefix=/tools --without-bash-malloc
make
make install
ln -s bash /tools/bin/sh
***** End Code Block *****
\NewEntry
M4-1.4

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
Bison-1.875a

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
Flex-2.5.31

***** Begin Code Block *****
patch -Np1 -i ../patches/flex-2.5.31-debian-fixes-2.patch
touch doc/*.1
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
Util-linux-2.12a

Added the make target `misc-utils script' and copied over script so I
can log in chroot environment.

***** Begin Code Block *****
patch -Np1 -i ../patches/util-linux-2.12a-kernel-headers-1.patch
sed -i "s@/usr/include@/tools/include@g" configure
./configure
make -C lib
make -C mount mount umount
make -C text-utils more
make -C sys-utils  arch
make -C misc-utils script
cp mount/{,u}mount text-utils/more \
    sys-utils/arch misc-utils/script /tools/bin
***** End Code Block *****
\NewEntry
Perl-5.8.4

***** Begin Code Block *****
patch -Np1 -i ../patches/perl-5.8.4-libc-1.patch
./configure.gnu --prefix=/tools -Dstatic_ext='IO Fcntl POSIX'
make perl utilities
cp perl pod/pod2man /tools/bin
mkdir -p /tools/lib/perl5/5.8.4
cp -R lib/* /tools/lib/perl5/5.8.4
***** End Code Block *****
\NewEntry
Udev-025

***** Begin Code Block *****
patch -Np1 -i ../patches/udev-025-config-2.patch
sed -i 's:\/sbin\/udev:/tools&:' udevstart.c
sed -i 's:\/etc:/tools&:' etc/udev/udev.conf.in
make prefix=/tools etcdir=/tools/etc
make udevdir=/dev etc/udev/udev.conf
make DESTDIR=/tools install
***** End Code Block *****
\NewEntry
Stripping

***** Begin Code Block *****
strip --strip-debug /tools/lib/*
strip --strip-unneeded /tools/{,s}bin/*
rm -rf /tools/{doc,info,man}
***** End Code Block *****
\EndFolder
\NewEntry
Chapter 6
\NewFolder
\NewEntry
Mounting virtual kernel file systems

***** Begin Code Block *****
mkdir -p $LFS/{proc,sys}
mount -t proc proc $LFS/proc
mount -t sysfs sysfs $LFS/sys
mount -f -t ramfs ramfs $LFS/dev
mount -f -t tmpfs tmpfs $LFS/dev/shm
mount -f -t devpts -o gid=4,mode=620 devpts $LFS/dev/pts
***** End Code Block *****
\NewEntry
Entering the chroot environment

***** Begin Code Block *****
chroot "$LFS" /tools/bin/env -i \
    HOME=/root TERM="$TERM" PS1='\u:\w\$ ' \
    PATH=/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin \
    /tools/bin/bash --login +h
***** End Code Block *****
\NewEntry
Changing ownership

***** Begin Code Block *****
chown -R 0:0 /tools
***** End Code Block *****
\NewEntry
Creating directories

***** Begin Code Block *****
mkdir -p /{bin,boot,dev,etc/opt,home,lib,mnt}
mkdir -p /{root,sbin,srv,tmp,usr/local,var,opt}
mkdir -p /media/{floppy,cdrom}
mkdir /usr/{bin,include,lib,sbin,share,src}
ln -s share/{man,doc,info} /usr
mkdir /usr/share/{doc,info,locale,man}
mkdir /usr/share/{misc,terminfo,zoneinfo}
mkdir /usr/share/man/man{1,2,3,4,5,6,7,8}
mkdir /usr/local/{bin,etc,include,lib,sbin,share,src}
ln -s share/{man,doc,info} /usr/local
mkdir /usr/local/share/{doc,info,locale,man}
mkdir /usr/local/share/{misc,terminfo,zoneinfo}
mkdir /usr/local/share/man/man{1,2,3,4,5,6,7,8}
mkdir /var/{lock,log,mail,run,spool}
mkdir -p /var/{tmp,opt,cache,lib/{misc,locate},local}
mkdir /opt/{bin,doc,include,info}
mkdir -p /opt/{lib,man/man{1,2,3,4,5,6,7,8}}
chmod 0750 /root
chmod 1777 /tmp /var/tmp
mkdir /usr/local/games /usr/share/games
***** End Code Block *****
\NewEntry
Creating essential symlinks

***** Begin Code Block *****
ln -s /tools/bin/{bash,cat,pwd,stty} /bin
ln -s /tools/bin/perl /usr/bin
ln -s /tools/lib/libgcc_s.so.1 /usr/lib
ln -s bash /bin/sh
***** End Code Block *****
\NewEntry
Creating the passwd, group and log files

***** Begin Code Block *****
cat > /etc/passwd << "EOF"
root:x:0:0:root:/root:/bin/bash
EOF
cat > /etc/group << "EOF"
root:x:0:
bin:x:1:
sys:x:2:
kmem:x:3:
tty:x:4:
tape:x:5:
daemon:x:6:
floppy:x:7:
disk:x:8:
lp:x:9:
dialout:x:10:
audio:x:11:
video:x:12:
utmp:x:13:
usb:x:14:
EOF
***** End Code Block *****

***** Begin Code Block *****
exec /tools/bin/bash --login +h
***** End Code Block *****

***** Begin Code Block *****
touch /var/run/utmp /var/log/{btmp,lastlog,wtmp}
chgrp utmp /var/run/utmp /var/log/lastlog
chmod 664 /var/run/utmp /var/log/lastlog
***** End Code Block *****
\NewEntry
Populating /dev with device nodes

***** Begin Code Block *****
mknod -m 600 /dev/console c 5 1
mknod -m 666 /dev/null c 1 3
mount -n -t ramfs none /dev
/tools/sbin/udevstart
ln -s /proc/self/fd /dev/fd
ln -s /proc/self/fd/0 /dev/stdin
ln -s /proc/self/fd/1 /dev/stdout
ln -s /proc/self/fd/2 /dev/stderr
ln -s /proc/kcore /dev/core
mkdir /dev/pts
mkdir /dev/shm
mount -t devpts -o gid=4,mode=620 none /dev/pts
mount -t tmpfs none /dev/shm
***** End Code Block *****
\NewEntry
Linux-Libc-Headers-2.6.5.2

***** Begin Code Block *****
cp -R include/asm-i386 /usr/include/asm
cp -R include/linux /usr/include
chown -R root:root /usr/include/{asm,linux}
find /usr/include/{asm,linux} -type d -exec chmod 755 {} \;
find /usr/include/{asm,linux} -type f -exec chmod 644 {} \;
***** End Code Block *****
\NewEntry
Man-pages-1.67

***** Begin Code Block *****
make install
***** End Code Block *****
\NewEntry
Glibc-2.3.4-20040510

The GCC optimization flag `-fomit-frame-pointer' is known to cause
segfaults during the check on AMD processors.

The GCC optimization flag `-mfpmath=sse' is known to cause math errors
in the make check of glibc on P4 computers.

***** Begin Code Block *****
mkdir ../glibc-build
cd ../glibc-build
../glibc-2.3.4-20040510/configure --prefix=/usr \
    --disable-profile --enable-add-ons=nptl --with-tls \
    --libexecdir=/tmp/pt_chown --without-cvs \
    --with-headers=/tools/glibc-kernheaders
make
make check
touch /etc/ld.so.conf
make install
mkdir -p /usr/lib/locale
localedef -i de_DE -f ISO-8859-1 de_DE
localedef -i de_DE@euro -f ISO-8859-15 de_DE@euro
localedef -i en_HK -f ISO-8859-1 en_HK
localedef -i en_PH -f ISO-8859-1 en_PH
localedef -i en_US -f ISO-8859-1 en_US
localedef -i es_MX -f ISO-8859-1 es_MX
localedef -i fa_IR -f UTF-8 fa_IR
localedef -i fr_FR -f ISO-8859-1 fr_FR
localedef -i fr_FR@euro -f ISO-8859-15 fr_FR@euro
localedef -i it_IT -f ISO-8859-1 it_IT
localedef -i ja_JP -f EUC-JP ja_JP
make -C ../glibc-2.3.4-20040510/linuxthreads/man
make -C ../glibc-2.3.4-20040510/linuxthreads/man install
***** End Code Block *****

Configuration:

***** Begin Code Block *****
cat > /etc/nsswitch.conf << "EOF"
# Begin /etc/nsswitch.conf

passwd: files
group: files
shadow: files

hosts: files dns
networks: files

protocols: files
services: files
ethers: files
rpc: files

# End /etc/nsswitch.conf
EOF
tzselect
cp --remove-destination /usr/share/zoneinfo/America/Chicago /etc/localtime
cat > /etc/ld.so.conf << "EOF"
# Begin /etc/ld.so.conf

/usr/local/lib
/opt/lib

# End /etc/ld.so.conf
EOF
***** End Code Block *****
\NewEntry
Re-adjusting the toolchain

In binutils-build/

***** Begin Code Block *****
make -C ld INSTALL=/tools/bin/install install
***** End Code Block *****

***** Begin Code Block *****
SPECFILE=/tools/lib/gcc/*/*/specs &&
sed -e 's@ /tools/lib/ld-linux.so.2@ /lib/ld-linux.so.2@g' \
    $SPECFILE > newspecfile &&
mv -f newspecfile $SPECFILE &&
unset SPECFILE
***** End Code Block *****

Test:

***** Begin Code Block *****
echo 'main(){}' > dummy.c
cc dummy.c
readelf -l a.out | grep ': /lib'
rm dummy.c a.out
***** End Code Block *****
\NewEntry
Binutils-2.15.90.0.3 Pass 1

This package is known to have regressions with optimizations of -O3.

***** Begin Code Block *****
mkdir ../binutils-build
cd ../binutils-build
../binutils-2.15.90.0.3/configure --prefix=/usr --enable-shared
make tooldir=/usr
make -k check
make tooldir=/usr install
cp ../binutils-2.15.90.0.3/include/libiberty.h /usr/include
***** End Code Block *****

make check
==========

                === ld Summary ===

# of expected passes            198
# of unexpected failures        7
# of expected failures          2
/usr/src/binutils-build/ld/ld-new 20040415

./test-demangle: 745 tests, 0 failures
\NewEntry
GCC-3.4.0

***** Begin Code Block *****
patch -Np1 -i ../patches/gcc-3.4.0-no-fixincludes-1.patch
sed -i 's/install_to_$(INSTALL_DEST) //' libiberty/Makefile.in
mkdir ../gcc-build
cd ../gcc-build
../gcc-3.4.0/configure --prefix=/usr \
    --libexecdir=/usr/lib --enable-shared --enable-threads=posix \
    --enable-__cxa_atexit --enable-clocale=gnu --enable-languages=c,c++
make
make -k check
make install
ln -s ../usr/bin/cpp /lib
ln -s gcc /usr/bin/cc
***** End Code Block *****
\NewEntry
Coreutils-5.2.1

***** Begin Code Block *****
patch -Np1 -i ../patches/coreutils-5.2.1-uname-2.patch
patch -Np1 -i ../patches/coreutils-5.2.1-dupes-1.patch
DEFAULT_POSIX2_VERSION=199209 ./configure --prefix=/usr
make
echo "dummy1:x:1000" >> /etc/group
echo "dummy2:x:1001:dummy" >> /etc/group
echo "dummy:x:1000:1000:::/bin/bash" >> /etc/passwd
make NON_ROOT_USERNAME=dummy check-root
src/su dummy -c "make RUN_EXPENSIVE_TESTS=yes check"
sed -i '/dummy/d' /etc/passwd /etc/group
make install
mv /usr/bin/{[,basename,cat,chgrp,chmod,chown,cp,dd,df} /bin
mv /usr/bin/{date,echo,false,head,install,ln,ls} /bin
mv /usr/bin/{mkdir,mknod,mv,pwd,rm,rmdir,sync} /bin
mv /usr/bin/{sleep,stty,test,touch,true,uname} /bin
mv /usr/bin/chroot /usr/sbin
ln -s ../../bin/install /usr/bin
***** End Code Block *****
\NewEntry
Zlib-1.2.1

***** Begin Code Block *****
CFLAGS="$CFLAGS -fPIC" ./configure --prefix=/usr --shared
make
make install
make clean
CFLAGS="$CFLAGS -fPIC" ./configure --prefix=/usr
make
make install
chmod 644 /usr/lib/libz.a
mv /usr/lib/libz.so.* /lib
ln -sf ../../lib/libz.so.1 /usr/lib/libz.so
***** End Code Block *****
\NewEntry
Mktemp-1.5

***** Begin Code Block *****
patch -Np1 -i ../patches/mktemp-1.5-add-tempfile-1.patch
./configure --prefix=/usr --with-libc
make
make install
make install-tempfile
***** End Code Block *****
\NewEntry
Iana-Etc-1.00

***** Begin Code Block *****
make
make install
***** End Code Block *****
\NewEntry
Findutils-4.1.20

***** Begin Code Block *****
./configure --prefix=/usr --libexecdir=/usr/lib/locate \
    --localstatedir=/var/lib/locate
make
make install
***** End Code Block *****
\NewEntry
Gawk-3.1.3

***** Begin Code Block *****
./configure --prefix=/usr --libexecdir=/usr/lib
make
make install
***** End Code Block *****
\NewEntry
Ncurses-5.4

***** Begin Code Block *****
./configure --prefix=/usr --with-shared --without-debug
make
make install
chmod 755 /usr/lib/*.5.4
chmod 644 /usr/lib/libncurses++.a
mv /usr/lib/libncurses.so.5* /lib
ln -sf ../../lib/libncurses.so.5 /usr/lib/libncurses.so
ln -sf libncurses.so /usr/lib/libcurses.so
***** End Code Block *****
\NewEntry
Readline-4.3

***** Begin Code Block *****
patch -Np1 -i ../patches/readline-4.3-gnu-fixes-1.patch
./configure --prefix=/usr
make
make install
chmod 644 /usr/lib/*.4.3
mv /usr/lib/lib{readline,history}.so.4* /lib
ln -sf ../../lib/libhistory.so.4 /usr/lib/libhistory.so
ln -sf ../../lib/libreadline.so.4 /usr/lib/libreadline.so
***** End Code Block *****
\NewEntry
Vim-6.2

***** Begin Code Block *****
echo '#define SYS_VIMRC_FILE "/etc/vimrc"' >> src/feature.h
echo '#define SYS_GVIMRC_FILE "/etc/gvimrc"' >> src/feature.h
./configure --prefix=/usr --enable-multibyte
make
make install
ln -s vim /usr/bin/vi
cat > /etc/vimrc << "EOF"
" Begin /etc/vimrc

set nocompatible
set backspace=2
syntax on
set background=dark

" End /etc/vimrc
EOF
***** End Code Block *****
\NewEntry
M4-1.4

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Bison-1.875a

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Less-382

***** Begin Code Block *****
./configure --prefix=/usr --bindir=/bin --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewEntry
Groff-1.19.1

***** Begin Code Block *****
PAGE=letter ./configure --prefix=/usr
make
make install
ln -s soelim /usr/bin/zsoelim
ln -s eqn /usr/bin/geqn
ln -s tbl /usr/bin/gtbl
***** End Code Block *****
\NewEntry
Sed-4.0.9

***** Begin Code Block *****
./configure --prefix=/usr --bindir=/bin
make
make install
***** End Code Block *****
\NewEntry
Flex-2.5.31

***** Begin Code Block *****
patch -Np1 -i ../patches/flex-2.5.31-debian-fixes-2.patch
touch doc/*.1
./configure --prefix=/usr
make
make install
ln -s libfl.a /usr/lib/libl.a
cat > /usr/bin/lex << "EOF"
#!/bin/sh
# Begin /usr/bin/lex

exec /usr/bin/flex -l "$@"

# End /usr/bin/lex
EOF
chmod 755 /usr/bin/lex
***** End Code Block *****
\NewEntry
Gettext-0.14.1

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Net-tools-1.60

***** Begin Code Block *****
patch -Np1 -i ../patches/net-tools-1.60-gcc34-2.patch
patch -Np1 -i ../patches/net-tools-1.60-kernel-headers-1.patch
yes "" | make config
make COPTS="-D_GNU_SOURCE -Wall $CFLAGS"
make update
***** End Code Block *****
\NewEntry
Inetutils-1.4.2

***** Begin Code Block *****
patch -Np1 -i ../patches/inetutils-1.4.2-kernel-headers-1.patch
patch -Np1 -i ../patches/inetutils-1.4.2-no-server-man-pages-1.patch
./configure --prefix=/usr --libexecdir=/usr/sbin \
    --sysconfdir=/etc --localstatedir=/var \
    --disable-logger --disable-syslogd \
    --disable-whois --disable-servers
make
make install
mv /usr/bin/ping /bin
***** End Code Block *****
\NewEntry
Perl-5.8.4

***** Begin Code Block *****
./configure.gnu --prefix=/usr -Dpager="/bin/less -isR"
make
echo "127.0.0.1 localhost $(hostname)" > /etc/hosts
make test
make install
***** End Code Block *****
\NewEntry
Texinfo-4.7

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
make TEXMF=/usr/share/texmf install-tex
***** End Code Block *****
\NewEntry
Autoconf-2.59

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Automake-1.8.5

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Bash-2.05b

***** Begin Code Block *****
patch -Np1 -i ../patches/bash-2.05b-gnu-fixes-2.patch
./configure --prefix=/usr --bindir=/bin \
    --without-bash-malloc --with-installed-readline
make
make install
exec /bin/bash --login +h
***** End Code Block *****
\NewEntry
File-4.09

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Libtool-1.5.6

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Bzip2-1.0.2

***** Begin Code Block *****
cp Makefile Makefile.backup
sed -e 's%$(BIGFILES)%$(BIGFILES) $(OPT)%' \
    Makefile.backup > Makefile
cp Makefile-libbz2_so Makefile-libbz2_so.backup
sed -e 's%$(BIGFILES)%$(BIGFILES) $(OPT)%' \
    Makefile-libbz2_so.backup > Makefile-libbz2_so
make -f Makefile-libbz2_so OPT="$CFLAGS"
make clean
make OPT="$CFLAGS"
make install
cp bzip2-shared /bin/bzip2
cp -a libbz2.so* /lib
ln -s ../../lib/libbz2.so.1.0 /usr/lib/libbz2.so
rm /usr/bin/{bunzip2,bzcat,bzip2}
ln -s bzip2 /bin/bunzip2
ln -s bzip2 /bin/bzcat
***** End Code Block *****
\NewEntry
Diffutils-2.8.1

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Kbd-1.12

***** Begin Code Block *****
./configure
make CFLAGS="$CFLAGS"
make install
***** End Code Block *****
\NewEntry
E2fsprogs-1.35

***** Begin Code Block *****
./configure --prefix=/usr --with-root-prefix="" \
    --enable-elf-shlibs --disable-evms
make
make install
make install-libs
***** End Code Block *****
\NewEntry
Grep-2.5.1

***** Begin Code Block *****
./configure --prefix=/usr --bindir=/bin --with-included-regex
make
make install
***** End Code Block *****
\NewEntry
Grub-0.94

Unset CFLAGS before compiling this package.

***** Begin Code Block *****
./configure --prefix=/usr
make -C stage2 STAGE2_CFLAGS=-O2 \
    pre_stage2_exec-builtins.o pre_stage2_exec-serial.o
make
make install
mkdir /boot/grub
cp /usr/share/grub/i386-pc/stage{1,2} /boot/grub
***** End Code Block *****
\NewEntry
Gzip-1.3.5

***** Begin Code Block *****
./configure --prefix=/usr
sed -i 's%"BINDIR"%/bin%' gzexe.in
make
make install
mv /usr/bin/gzip /bin
rm /usr/bin/{gunzip,zcat}
ln -s gzip /bin/gunzip
ln -s gzip /bin/zcat
ln -s gunzip /bin/uncompress
***** End Code Block *****
\NewEntry
Hotplug-2004_04_01

***** Begin Code Block *****
patch -Np1 -i ../patches/hotplug-2004_04_01-bogus-deps-1.patch
patch -Np1 -i ../patches/hotplug-2004_04_01-device-2.patch
patch -Np1 -i ../patches/hotplug-2004_04_01-isapnp-2.patch
make install
rm -rf /etc/init.d
cat >>/etc/modprobe.conf <<"EOF"
# Begin /etc/modprobe.conf entries for ISAPNP hardware detection script
# by Marco d'Itri
alias pnp:dPNP0511 irtty-sir
alias pnp:dPNP0700 floppy
alias pnp:dPNP0800 pcspkr
alias pnp:dPNP0B00 rtc
alias pnp:dPNP0303 atkbd
alias pnp:dPNP0F13 psmouse
alias pnp:dPNPB02F analog
# End /etc/modprobe.conf entries for ISAPNP hardware detection script
EOF
***** End Code Block *****
\NewEntry
Man-1.5m2

***** Begin Code Block *****
patch -Np1 -i ../patches/man-1.5m2-80cols-1.patch
sed -i 's/-is/&R/' configure
sed -i 's%MANPATH./usr/man%#&%' src/man.conf.in
./configure -confdir=/etc
make
make install
***** End Code Block *****
\NewEntry
Make-3.80

***** Begin Code Block *****
./configure --prefix=/usr
make 
make install
***** End Code Block *****
\NewEntry
Module-Init-Tools-3.0

***** Begin Code Block *****
./configure --prefix="" --enable-zlib
make
make install
***** End Code Block *****
\NewEntry
Patch-2.5.4

***** Begin Code Block *****
CPPFLAGS=-D_GNU_SOURCE ./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Procps-3.2.1

***** Begin Code Block *****
make CFLAGS="$CFLAGS"
make install
rm /lib/libproc.so
***** End Code Block *****
\NewEntry
Psmisc-21.5

***** Begin Code Block *****
./configure --prefix=/usr --exec-prefix=""
make
make install
mv /bin/pstree* /usr/bin
ln -sf pstree /usr/bin/pstree.x11
***** End Code Block *****
\NewEntry
Shadow-4.0.4.1

***** Begin Code Block *****
./configure --libdir=/usr/lib --enable-shared
echo '#define HAVE_SETLOCALE 1' >> config.h
sed -i '/extern char/d' libmisc/xmalloc.c
make
make install
cp etc/{limits,login.access} /etc
sed -e 's%#MD5_CRYPT_ENAB.no%MD5_CRYPT_ENAB yes%' \
    -e 's%/var/spool/mail%/var/mail%' \
    etc/login.defs.linux > /etc/login.defs
mv /bin/sg /usr/bin
mv /bin/vigr /usr/sbin
mv /usr/bin/passwd /bin
mv /usr/lib/lib{shadow,misc}.so.0* /lib
ln -sf ../../lib/libshadow.so.0 /usr/lib/libshadow.so
ln -sf ../../lib/libmisc.so.0 /usr/lib/libmisc.so
mkdir /etc/default
rm /bin/groups
pwconv
grpconv
passwd root
***** End Code Block *****
\NewEntry
Sysklogd-1.4.1

***** Begin Code Block *****
patch -Np1 -i ../patches/sysklogd-1.4.1-kernel-headers-1.patch
patch -Np1 -i ../patches/sysklogd-1.4.1-signal-1.patch
make RPM_OPT_FLAGS="$CFLAGS"
make install
cat > /etc/syslog.conf << "EOF"
# Begin /etc/syslog.conf

auth,authpriv.* -/var/log/auth.log
*.*;auth,authpriv.none -/var/log/sys.log
daemon.* -/var/log/daemon.log
kern.* -/var/log/kern.log
mail.* -/var/log/mail.log
user.* -/var/log/user.log
*.emerg *

# End /etc/syslog.conf
EOF
***** End Code Block *****
\NewEntry
Sysvinit-2.85

***** Begin Code Block *****
cp src/init.c{,.backup}
sed 's/Sending processes/& started by init/g' \
    src/init.c.backup > src/init.c
make -C src CFLAGS="-Wall -D_GNU_SOURCE $CFLAGS"
make -C src install
cat > /etc/inittab << "EOF"
# Begin /etc/inittab

id:3:initdefault:

si::sysinit:/etc/rc.d/init.d/rc sysinit

l0:0:wait:/etc/rc.d/init.d/rc 0
l1:S1:wait:/etc/rc.d/init.d/rc 1
l2:2:wait:/etc/rc.d/init.d/rc 2
l3:3:wait:/etc/rc.d/init.d/rc 3
l4:4:wait:/etc/rc.d/init.d/rc 4
l5:5:wait:/etc/rc.d/init.d/rc 5
l6:6:wait:/etc/rc.d/init.d/rc 6

ca:12345:ctrlaltdel:/sbin/shutdown -t1 -a -r now

su:S016:once:/sbin/sulogin

1:2345:respawn:/sbin/agetty -I '\033(K' tty1 9600
2:2345:respawn:/sbin/agetty -I '\033(K' tty2 9600
3:2345:respawn:/sbin/agetty -I '\033(K' tty3 9600
4:2345:respawn:/sbin/agetty -I '\033(K' tty4 9600
5:2345:respawn:/sbin/agetty -I '\033(K' tty5 9600
6:2345:respawn:/sbin/agetty -I '\033(K' tty6 9600

# End /etc/inittab
EOF
***** End Code Block *****
\NewEntry
Tar-1.14

***** Begin Code Block *****
./configure --prefix=/usr --bindir=/bin --libexecdir=/usr/sbin
make
make install
***** End Code Block *****
\NewEntry
Udev-025

***** Begin Code Block *****
patch -Np1 -i ../patches/udev-025-config-2.patch
make udevdir=/dev
make udevdir=/dev install
***** End Code Block *****
\NewEntry
Util-linux-2.12a

***** Begin Code Block *****
cp hwclock/hwclock.c{,.backup}
sed 's%etc/adjtime%var/lib/hwclock/adjtime%' \
    hwclock/hwclock.c.backup > hwclock/hwclock.c
mkdir -p /var/lib/hwclock
patch -Np1 -i ../patches/util-linux-2.12a-kernel-headers-1.patch
./configure
make HAVE_KILL=yes HAVE_SLN=yes
make HAVE_KILL=yes HAVE_SLN=yes install
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
BLFS-CVS-20040526

This was build along with LFS-CVS-20040525.
\NewFolder
\NewEntry
ReiserFS-3.6.14

***** Begin Code Block *****
./configure --prefix=/usr --sbindir=/sbin
make
make install
ln -sf reiserfsck /sbin/fsck.reiserfs
ln -sf mkreiserfs /sbin/mkfs.reiserfs
***** End Code Block *****
\NewEntry
XFS-2.6.13

***** Begin Code Block *****
sed -i -e 's/autoconf//' Makefile
make
make install
***** End Code Block *****
\NewEntry
OpenSSL-0.9.7d

***** Begin Code Block *****
sed 's/^passwd/openssl-passwd/' doc/apps/passwd.pod \
    > doc/apps/openssl-passwd.pod
rm doc/apps/passwd.pod
mv doc/crypto/{,openssl_}threads.pod
sed -i -e 's/-m486/-march=athlon -mmmx -m3dnow -pipe -fomit-frame-pointer/' Configure
./config --openssldir=/etc/ssl --prefix=/usr shared
make MANDIR=/usr/share/man
make MANDIR=/usr/share/man install
cp -r certs /etc/ssl
rmdir /etc/ssl/lib
***** End Code Block *****
\NewEntry
readline-4.3

***** Begin Code Block *****
./configure --prefix=/usr
make SHLIB_LIBS=-lcurses
make install
***** End Code Block *****
\NewEntry
bc-1.06

***** Begin Code Block *****
patch -Np1 -i ../patches/bc-1.06-flex-invocation.patch
patch -Np1 -i ../patches/bc-1.06-readline.patch
./configure --prefix=/usr --with-readline
make
make install
***** End Code Block *****
\NewEntry
hdparm-5.5

***** Begin Code Block *****
patch -Np1 -i ../patches/hdparm-5.5-glibc_CVS-1.patch
make
make install
***** End Code Block *****
\NewEntry
which-2.16

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
UnZip-5.50

***** Begin Code Block *****
patch -Np1 -i ../patches/unzip-5.50-fix-Makefile.patch
patch -Np1 -i ../patches/unzip-5.50-fix-libz.patch
patch -Np1 -i ../patches/unzip-5.50-dont-make-noise.patch
patch -Np1 -i ../patches/unzip-5.50-dotdot.patch
cp unix/Makefile .
make prefix=/usr linux
make prefix=/usr linux_shlibz
make prefix=/usr install
cp -a libunzip.so* /usr/lib
***** End Code Block *****
\NewEntry
Zip-2.3

***** Begin Code Block *****
cp unix/Makefile .
make prefix=/usr generic_gcc
make prefix=/usr install
***** End Code Block *****
\NewEntry
PCI Utilities-2.1.11

***** Begin Code Block *****
make PREFIX=/usr
make PREFIX=/usr install
***** End Code Block *****
\NewEntry
cpio-2.5

***** Begin Code Block *****
./configure --prefix=/usr --libexecdir=/tmp/cpio \
    --bindir=/bin
make
make install
rm -rf /tmp/cpio
***** End Code Block *****
\NewEntry
expat-1.95.7

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
GDBM-1.8.3 

***** Begin Code Block *****
./configure --prefix=/usr
make
make BINOWN=root BINGRP=root install
make BINOWN=root BINGRP=root install-compat
***** End Code Block *****
\NewEntry
Tcl-8.4.6

***** Begin Code Block *****
VERSION=8.4.6
V=`echo $VERSION | cut -d "." -f 1,2`
DIR=$PWD
cd unix
./configure --prefix=/usr
make
sed -i "s:${DIR}/unix:/usr/lib:" tclConfig.sh
sed -i "s:${DIR}:/usr/include/tcl${V}:" tclConfig.sh
sed -i "s,^TCL_LIB_FILE='libtcl${V}..TCL_DBGX..so',TCL_LIB_FILE=\"libtcl${V}\$\{TCL_DBGX\}.so\"," tclConfig.sh
mv ../doc/{,Tcl_}Thread.3
sed -i 's/ Thread.3/ Tcl_Thread.3/' mkLinks
make install
install -d /usr/include/tcl${V}/unix
install -m644 *.h /usr/include/tcl${V}/unix/
install -d /usr/include/tcl${V}/generic
install -c -m644 ../generic/*.h /usr/include/tcl${V}/generic/
rm -f /usr/include/tcl${V}/generic/{tcl,tclDecls,tclPlatDecls}.h
ln -nsf /usr/include/tcl${V} /usr/lib/tcl${V}/include
ln -sf libtcl${V}.so /usr/lib/libtcl.so
ln -sf tclsh${V} /usr/bin/tclsh
***** End Code Block *****
\NewEntry
DB-4.3.27

***** Begin Code Block *****
cd build_unix
../dist/configure --prefix=/usr \
    --enable-compat185 \
    --enable-cxx \
    --enable-tcl --with-tcl=/usr/lib \
    --enable-java
make LIBSO_LIBS="-lpthread" LIBXSO_LIBS="-lpthread"
make docdir=/usr/share/doc/db-4.3.27 install
chown root:root /usr/bin/db_* \
    /usr/lib/libdb* /usr/include/db*
chown -R root:root /usr/share/doc/db-4.3.27
***** End Code Block *****
\NewEntry
GMP-4.1.3

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
NASM-0.98.38

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Lynx-2.8.5

***** Begin Code Block *****
./configure --prefix=/usr --libdir=/etc --with-zlib --with-ssl
make
make install
make docdir=/usr/share/doc/lynx-2.8.5/lynx_doc \
    helpdir=/usr/share/doc/lynx-2.8.5/lynx_help install-doc
make docdir=/usr/share/doc/lynx-2.8.5/lynx_doc \
    helpdir=/usr/share/doc/lynx-2.8.5/lynx_help install-help
***** End Code Block *****
\NewEntry
NcFTP-3.1.7

***** Begin Code Block *****
./configure --prefix=/usr
make -C libncftp shared
make -C libncftp soinstall
make
make install
***** End Code Block *****
\NewEntry
OpenSSH-3.8.1p1

***** Begin Code Block *****
mkdir /var/empty
chown root:sys /var/empty
groupadd -g 15 sshd
useradd -c 'sshd privsep' -d /var/empty -g sshd -s /bin/false -u 15 sshd
sed -i "s:-lcrypto:/usr/lib/libcrypto.a:g" configure
***** End Code Block *****

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc/ssh \
    --libexecdir=/usr/sbin --with-md5-passwords
make
make install
***** End Code Block *****

***** Begin Code Block *****
make install-sshd
***** End Code Block *****
\NewEntry
CVS-1.11.16

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Wget-1.9.1

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewEntry
tcpwrappers-7.6

***** Begin Code Block *****
patch -Np1 -i ../patches/tcp_wrappers-7.6-shared-lib-plus-plus.patch
make REAL_DAEMON_DIR=/usr/sbin STYLE=-DPROCESS_OPTIONS linux
make install
***** End Code Block *****

If you recieve the following error:
  scaffold.c:28: error: conflicting types for 'malloc'

Then remove the extern malloc code on line 28.
\NewEntry
portmap-5beta

***** Begin Code Block *****
patch -Np1 -i ../patches/portmap-5beta-compilation-fixes-2.patch
patch -Np1 -i ../patches/portmap-5beta-glibc-errno-fix.patch
make
make install
***** End Code Block *****

***** Begin Code Block *****
make install-portmap
***** End Code Block *****
\NewEntry
NFS Utilities-1.0.6 

***** Begin Code Block *****
groupadd -g 65534 nogroup
useradd -c nobody -d /home -g nogroup -s /bin/bash -u 65534 nobody
***** End Code Block *****

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****

***** Begin Code Block *****
make install-nfs-client
***** End Code Block *****
\NewEntry
Traceroute-1.4a12

***** Begin Code Block *****
mv Makefile.in Makefile.in.bak
sed 's/-o bin/-o root/' Makefile.in.bak > Makefile.in
./configure --prefix=/usr
make
make install
make install-man
mv /usr/sbin/traceroute /usr/bin
***** End Code Block *****
\NewEntry
PCRE-4.5

***** Begin Code Block *****
./configure --prefix=/usr --enable-utf8
make
make install
***** End Code Block *****
\NewEntry
libpcap-0.8.3

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Nmap-3.50

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
rm -f /usr/share/gnome/apps/Utilities
rm -f /usr/share/gnome/apps
rm -f /usr/share/gnome
***** End Code Block *****
\NewEntry
BIND Utilities-9.2.3

***** Begin Code Block *****
./configure --prefix=/usr
make -C lib/dns
make -C lib/isc
make -C bin/dig
make -C bin/dig install
***** End Code Block *****
\NewEntry
libpng-1.2.5

***** Begin Code Block *****
patch -Np1 -i ../patches/libpng-1.2.5-link-to-proper-libs.patch
make prefix=/usr ZLIBINC=/usr/include \
    ZLIBLIB=/usr/lib -f scripts/makefile.linux
make prefix=/usr install -f scripts/makefile.linux
***** End Code Block *****
\NewEntry
FreeType-2.1.7

***** Begin Code Block *****
patch -Np1 -i ../patches/freetype-2.1.7-bytecode-interpreter.patch
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Fontconfig-2.2.2

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
sed -i -e '/^<\/fontconfig>/i\
<dir>/usr/X11R6/lib/X11/fonts/TTF</dir>\
<dir>/usr/X11R6/lib/X11/fonts/Type1</dir>\
<dir>/usr/X11R6/lib/X11/fonts/truetype</dir>' /etc/fonts/local.conf
***** End Code Block *****
\NewEntry
Xorg-6.7.0

Create shadow directory (from xc/ source dir):

***** Begin Code Block *****
pushd config/util
make -f Makefile.ini lndir
cp lndir /usr/bin/
popd
mkdir ../xcbuild
cd ../xcbuild
lndir ../xc
***** End Code Block *****

Build:

***** Begin Code Block *****
( make World 2>&1 | tee xorg-compile.log && exit $PIPESTATUS )
make install
make install.man
ln -sf ../X11R6/bin /usr/bin/X11
ln -sf ../X11R6/lib/X11 /usr/lib/X11
ln -sf ../X11R6/include/X11 /usr/include/X11
***** End Code Block *****

Configure by editing /etc/ld.so.conf with /usr/X11R6/lib and:

***** Begin Code Block *****
ldconfig
export PKG_CONFIG_PATH=/usr/X11R6/lib/pkgconfig
source ~/.bash_profile
ln -s psaux /dev/mouse
cd ~
Xorg -configure
Xorg -config ~/xorg.conf.new
mv ~/xorg.conf.new /etc/X11/xorg.conf
cat > ~/.xinitrc << "EOF"
# Begin .xinitrc file
xterm  -g 80x40+0+0   &
xclock -g 100x100-0+0 &
twm
EOF
startx
***** End Code Block *****
\NewEntry
NVIDIA-Linux-x86-1.0-5336-pkg1

Quick hack
==========

Links:
  http://webpages.charter.net/decibelshelp/LinuxHelp_UDEVPrimer.html

Add the following to the function `make_extra_nodes' in the start
up script `/etc/rc.d/init.d/udev':

***** Begin Code Block *****
mknod -m /dev/nvidia0 c 195 0
mknod -m /dev/nvidiactl c 195 255
***** End Code Block *****

Add additional /dev/nvidia? device files by adding additional lines,
while incrementing both device file number and the minor number.

Correct hack
============

Links:
  http://www.reactivated.net/udevrules.php#nvidia
  http://gobolinux.org/kb/index.php/Udev%20Howto

Sysfs patch can be found here:
  http://lkml.org/lkml/diff/2004/2/1/56/1

To patch the driver (execute within top-level directory):

***** Begin Code Block *****
patch -p1 < ../patches/nvidia-sysfs-1.0-5336-pkg1.patch
***** End Code Block *****

To patch with the minion.de patch (http://www.minion.de/):

***** Begin Code Block *****
cd usr/src/nv
patch -p1 < ../../../../patches/NVIDIA_kernel-1.0-5336-2.6.diff
***** End Code Block *****

You may need to re-make parts of the kernel:

***** Begin Code Block *****
make mrproper
cp /boot/config-2.6.6-hda7 .config
make include/linux/autoconf.h
make include/linux/version.h
make include/asm
make scripts
***** End Code Block *****

Some of the above commands may not need to be run. However, it won't
hurt to make an attempt at building them, the kernel will simply
say that the make target is up to date.

Now, add the following to the function `make_extra_nodes' in the
start up script `/etc/rc.d/init.d/udev':

***** Begin Code Block *****
modprobe nvidia
***** End Code Block *****

This will force the load of the nvidia driver on boot and will
populate relevant /dev entries. Otherwise this may take too long
to occur.
\NewEntry
pkgconfig-0.15.0

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
GLib-2.4.1

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Pango-1.4.0

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewEntry
ATK-1.6.1

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
libjpeg-6b

***** Begin Code Block *****
./configure --enable-static --enable-shared --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
libtiff-3.6.1

***** Begin Code Block *****
./configure --prefix=/usr --noninteractive \
    --with-DIR_MAN=/usr/share/man \
    --with-ZIP=yes --with-DIR_GZLIB=/usr/lib \
    --with-JPEG=yes --with-DIR_JPEGLIB=/usr/lib
make
make install
***** End Code Block *****
\NewEntry
GTK+-2.4.1

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewEntry
Tk-8.4.6

***** Begin Code Block *****
VERSION=8.4.6
V=`echo $VERSION | cut -d "." -f 1,2`
DIR=$PWD
cd unix
./configure --prefix=/usr
make
sed -i "s:${DIR}/unix:/usr/lib:" tkConfig.sh
sed -i "s:${DIR}:/usr/include/tk${V}:" tkConfig.sh
make install
install -d /usr/include/tk${V}/unix
install -m644 *.h /usr/include/tk${V}/unix/
install -d /usr/include/tk${V}/generic
install -m644 ../generic/*.h /usr/include/tk${V}/generic/
rm -f /usr/include/tk${V}/generic/{tk,tkDecls,tkPlatDecls}.h
ln -nsf /usr/include/tk${V} /usr/lib/tk${V}/include
ln -sf libtk${V}.so /usr/lib/libtk.so
ln -sf wish${V} /usr/bin/wish
***** End Code Block *****
\NewEntry
Python-2.3.3

***** Begin Code Block *****
patch -Np1 -i ../patches/Python-2.3.3-gdbm-2.patch
./configure --prefix=/usr --enable-shared
make
make install
***** End Code Block *****
\NewEntry
libxml2-2.6.9

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
startup-notification-0.6

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
openbox-3.2

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewEntry
libIDL-0.8.3

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
lcms-1.12

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
libmng-1.0.7

***** Begin Code Block *****
./autogen.sh
./configure --prefix=/usr
make
make install
cp doc/man/*.3 /usr/share/man/man3
cp doc/man/*.5 /usr/share/man/man5
***** End Code Block *****
\NewEntry
MozillaFirefox-0.9

For GCC-3.4 bug summary:
http://bugzilla.mozilla.org/buglist.cgi?query_format=&short_desc_type=allwordssubstr&short_desc=gcc+3.4

If you get the infinite restart loop bug see here:
http://weblogs.mozillazine.org/ben/
In short, delete all local profiles and the firefox-0.9/lib/firefox-0.9/extensions/ directory.

/opt/firefox-0.9/lib/firefox-0.9/extensions
/opt/firefox-0.9/lib/firefox-0.9/extensions/Extensions.rdf
/opt/firefox-0.9/lib/firefox-0.9/extensions/installed-extensions.txt

Remember to configure for TrueType fonts as specified here:
http://www.mozilla.org/projects/fonts/unix/enabling_truetype.html
http://www.dslreports.com/faq/4552

***** Begin Code Block *****
unset CFLAGS CXXFLAGS
export MOZILLA_OFFICIAL="1"
export BUILD_OFFICIAL="1"
export MOZ_PHOENIX="1"
./configure --prefix=/opt/firefox-0.9.1 \
    --enable-default-toolkit=gtk2 \
    --with-x --with-system-zlib \
    --with-system-jpeg --with-system-png --with-system-mng \
    --disable-accessibility \
    --disable-tests --disable-debug \
    --disable-logging --disable-pedantic \
    --disable-calendar --disable-mailnews \
    --disable-composer --disable-ldap \
    --disable-jsd --disable-dtd-debug \
    --enable-xft --enable-crypto \
    --enable-reorder --enable-strip \
    --enable-strip-libs --enable-plaintext-editor-only \
    --enable-java-supplement --enable-cpp-rtti \
    --enable-extensions=cookie,xml-rpc,xmlextras,p3p,pref,transformiix,universalchardet,typeaheadfind,webservices,inspector \
    --enable-xinerama --enable-xterm-updates \
    --enable-optimize="-O3 -march=athlon -mmmx -m3dnow -pipe -fomit-frame-pointer"
make
cd profile/src
make clean
make
cd ../build/
make clean
make
cd ../..
make install
ln -sf /opt/firefox-0.9.1/bin/firefox /usr/bin/MozillaFirefox
cd /opt/firefox-0.9.1/lib/firefox-0.9.1
export LD_LIBRARY_PATH="$PWD"
export MOZILLA_FIVE_HOME="$PWD"
./regxpcom
./regchrome
touch `find $PWD -name *.rdf`
***** End Code Block *****

--enable-extensions=default,-inspector,-irc,-venkman,-content-packs,-help

Download the code through cvs:

***** Begin Code Block *****
export CVSROOT=:pserver:anonymous@cvs-mirror.mozilla.org:/cvsroot
cvs co -f mozilla/client.mk
make -f mozilla/client.mk checkout
***** End Code Block *****

Create .mozconfig file:
ake install
ln -sf /opt/fi
***** Begin Code Block *****
cd mozilla
cat > .mozconfig << "EOF"
export MOZ_PHOENIX=1
export MOZ_INTERNAL_LIBART_LGPL=1
mk_add_options MOZ_INTERNAL_LIBART_LGPL=1
mk_add_options MOZ_PHOENIX=1
ac_add_options --prefix=/usr
ac_add_options --enable-default-mozilla-five-home
ac_add_options --with-x
ac_add_options --with-system-jpeg
ac_add_options --with-system-zlib
ac_add_options --with-system-png
ac_add_options --with-system-mng
ac_add_options --enable-crypto
ac_add_options --disable-tests
ac_add_options --disable-composer
ac_add_options --disable-ldap
ac_add_options --disable-mailnews
ac_add_options --disable-debug
ac_add_options --disable-jsd
ac_add_options --disable-accessibility
ac_add_options --disable-dtd-debug
ac_add_options --disable-logging
ac_add_options --enable-strip
ac_add_options --enable-strip-libs
ac_add_options --enable-optimize="-O2 -march=i686 -mcpu=i686 -pipe -fomit-frame-pointer"
ac_add_options --enable-extensions=default,-inspector,-irc,-venkman,-content-packs,-help
ac_add_options --enable-plaintext-editor-only
ac_add_options --enable-xft
ac_add_options --enable-java-supplement
ac_add_options --enable-svg
ac_add_options --enable-toolkit=gtk2
ac_add_options --enable-default-toolkit=gtk2
EOF
***** End Code Block *****

Make the build with:

***** Begin Code Block *****
make -f client.mk
***** End Code Block *****

Package with:

***** Begin Code Block *****
cd xpinstall/packager
make MOZ_PKG_APPNAME=MozillaFirebird MOZILLA_BIN="\$(DIST)/bin/MozillaFirebird-bin"
cd ../../dist
ecp MozillaFirebird-i686-pc-linux-gnu.tar.gz ~/
***** End Code Block *****

Additional preferences (about:config)
// Enable pipelining:
user_pref("network.http.pipelining", true);
user_pref("network.http.proxy.pipelining", true);
user_pref("network.http.pipelining.maxrequ ests", 100);
 
// This one makes a huge difference. Last value in milliseconds (default is 250)
user_pref("network.http.request.max-start-delay", 0);
\NewEntry
MozillaFirefox-CVS

1. Download the most recent tarball release of Mozilla
   http://ftp.mozilla.org/pub/mozilla/releases/

2. Use cvs to update the tarball release to the current cvs head

***** Begin Code Block *****
export CVSROOT=:pserver:anonymous@cvs-mirror.mozilla.org:/cvsroot
cvs co mozilla/client.mk mozilla/browser/config
make -f mozilla/client.mk checkout
***** End Code Block *****

***** Begin Code Block *****
V=cvs
export MOZILLA_OFFICIAL="1"
export BUILD_OFFICIAL="1"
export MOZ_PHOENIX="1"
export MOZ_INTERNAL_LIBART_LGPL="1"
./configure --prefix=/opt/firefox-$V \
    --enable-default-toolkit=gtk2 --with-x --with-system-zlib \
    --with-system-jpeg --with-system-png --with-system-mng \
    --enable-xft --enable-crypto --enable-reorder \
    --enable-strip --enable-strip-libs --enable-xinerama \
    --enable-cpp-rtti --enable-plaintext-editor-only \
    --enable-java-supplement --enable-svg \
    --enable-extensions=default,-inspector,-irc,-venkman,-content-packs,-help \
    --disable-accessibility --disable-composer --disable-ldap \
    --disable-mailnews --disable-calendar --disable-jsd \
    --disable-tests --disable-debug --disable-dtd-debug \
    --disable-logging --disable-pedantic \
    --enable-optimize="-O3 -march=athlon -mmmx -m3dnow -pipe -fomit-frame-pointer"
make
make install
ln -sf /opt/firefox-$V/bin/firefox /usr/bin/MozillaFirefox
cd /opt/firefox-$V/lib/mozilla-*
export LD_LIBRARY_PATH="$PWD"
export MOZILLA_FIVE_HOME="$PWD"
./regxpcom
./regchrome
touch `find $PWD -name *.rdf`
***** End Code Block *****
\NewEntry
ALSA Library-1.0.4


***** Begin Code Block *****
./configure --enable-static
make
make install
***** End Code Block *****
\NewEntry
ALSA Utilities-1.0.4

***** Begin Code Block *****
patch -Np1 -i ../patches/alsa-utils-1.0.4-arecord-1.patch
./configure
make
make install
***** End Code Block *****

Install alsa bootscript:

***** Begin Code Block *****
touch /etc/asound.state
alsactl store
make install-alsa
***** End Code Block *****
\NewEntry
ALSA Tools-1.0.4

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****

ac3dec => yes
as10k1 => no
envy24control => no
hdspconf => no
hdsploader => yes
hdspmixer => no
mixartloader => yes
rmedigicontrol => no
sb16_csp => yes
seq => yes
sscape_ctl => yes
us428control => yes
usx2yloader => yes
vxloader => 
\NewEntry
ALSA Firmware-1.0.4

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
ALSA OSS-1.0.4

***** Begin Code Block *****
./configure
make
make install
***** End Code Block *****
\NewEntry
Audio File-0.2.6

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Alsa + udev

To make alsa work with udev, I add the following to the start up
script `/etc/rc.d/init.d/alsa', just before executing alsactl:

***** Begin Code Block *****
modprobe snd_pcm_oss
***** End Code Block *****

This will load the appropriate driver and create the device entries
for dsp and mixer in /dev.

To get sound unmuted and set the appropriate permissions:

1. amixer | grep control
2. For each control name given do `amixer set "<control name>" 50%
   unmute'. You don't need to include the single quotes that the
   amixer output will show.
3. Execute: usermod -G audio <username>
   Make sure to logout and back in again for the group settings
   to take effect for your user.
\NewEntry
mpg123-0.59r

***** Begin Code Block *****
make PREFIX=/usr linux
make PREFIX=/usr install
***** End Code Block *****
\NewEntry
libogg-1.1

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
libvorbis-1.0.1

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
cURL-7.11.2

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
EsounD-0.2.34

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewEntry
NAS-1.6

***** Begin Code Block *****
patch -Np1 -i ../patches/nas-1.6-bison-fix.patch
xmkmf
make Makefiles
make includes
make depend
make
make install install.man
***** End Code Block *****
\NewEntry
libao-0.8.5

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
id3lib-3.8.3

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
FLAC-1.1.0

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Speex-1.0.3

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Vorbis Tools-1.0.1

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
LAME-3.95.1

***** Begin Code Block *****
./configure --prefix=/usr --enable-mp3rtp --enable-nasm
make
make install
***** End Code Block *****
\NewEntry
CDParanoia-III-9.8

***** Begin Code Block *****
patch -Np1 -i ../patches/cdparanoia-III-alpha9.8-add-break.patch
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
libglade-2.3.6

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
bmp-cvs-20040528

Required:
  gtk+2 >= 2.4.0
  libglade >= 2.0
  alsa

Utilizes:
  esound
  vorbis
  GConf
  VFS

***** Begin Code Block *****
./configure --prefix=/usr --enable-simd --enable-gconf \
    --enable-gnome-vfs
make
make install
***** End Code Block *****
\NewEntry
libungif-4.1.0b1

***** Begin Code Block *****
patch -Np1 -i ../patches/libungif-4.1.0b1-va_start.patch
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
slang-1.4.9

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
make elf
make install-elf
make install-links
chmod 755 /usr/lib/libslang.so.1.4.9
***** End Code Block *****
\NewEntry
AAlib-1.4rc5

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
SVGAlib-1.4.3

***** Begin Code Block *****
patch -Np1 -i ../patches/svgalib-1.4.3-gcc34-2.patch
make prefix=/usr install
cd doc
for dir in man?; do for file in $dir/*; do \
gunzip /usr/share/man/$file; done; done
***** End Code Block *****
\NewEntry
SDL-1.2.7

***** Begin Code Block *****
patch -Np1 -i ../patches/SDL-1.2.7-gcc34-asm-fixes.patch
patch -Np1 -i ../patches/SDL-1.2.7-gcc34-mmx.patch
./configure --prefix=/usr --disable-debug --enable-video-aalib
make
make install
***** End Code Block *****
\NewEntry
XviD-1.0.0-rc4

***** Begin Code Block *****
cd build/generic
./configure --prefix=/usr
make
make install
ln -sf libxvidcore.so.4.0 /usr/lib/libxvidcore.so.4
ln -sf libxvidcore.so.4 /usr/lib/libxvidcore.so
***** End Code Block *****
\NewEntry
LZO-1.08

***** Begin Code Block *****
./configure --prefix=/usr --enable-shared
make
make install
***** End Code Block *****
\NewEntry
libmad-0.15.1b

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
popt-1.7

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
libdv-0.101

***** Begin Code Block *****
./configure --prefix=/usr --without-gtk --disable-gtk
make
make install
***** End Code Block *****
\NewEntry
libdvdcss-1.2.8

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
libdvdread-0.9.4

***** Begin Code Block *****
./configure --prefix=/usr --with-libdvdcss
make
make install
***** End Code Block *****
\NewEntry
libFAME-0.9.1

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
fribidi-0.10.4

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
FFmpeg-0.4.8

***** Begin Code Block *****
patch -Np1 -i ../patches/ffmpeg-0.4.8-gcc34-fixes.patch
CFLAGS= ./configure --prefix=/usr --enable-shared \
    --enable-mp3lame --enable-vorbis
make
make install
***** End Code Block *****
\NewEntry
MPlayer-1.0pre4

Extract all codecs to `/usr/lib/mplayer/codecs'. Make sure all
permissions are normal for libraries (0755). All files need to be
in the top level directory (no subdirectories). Only one version of
rp8/9 should be installed.

NOTE: Building for libfame never worked, not matter how I tweaked
the source files or configure options.

***** Begin Code Block *****
CFLAGS= ./configure --prefix=/usr --confdir=/etc/mplayer \
    --enable-largefiles --enable-shared-pp --enable-menu \
    --enable-fribidi --with-codecsdir=/usr/lib/mplayer/codecs
make
make install
make -C libavcodec/libpostproc install
cp etc/codecs.conf /etc/mplayer
install -d /usr/share/mplayer/Skin
tar xjvf ../packages/default-1.8.tar.bz2 -C /usr/share/mplayer/Skin
***** End Code Block *****

Added the following line to the boot script `/etc/rc.d/init.d/udev'
to allow for proper dvd playback:
mknod -m 660 /dev/hdc b 22 0 ; chgrp disk /dev/hdc
mknod -m 660 /dev/hdd b 22 64 ; chgrp disk /dev/hdd
ln -s /dev/hdc /dev/cdrom
ln -s /dev/hdd /dev/dvd
\NewEntry
LessTif-0.93.94

***** Begin Code Block *****
find -name Makefile.in | \
    xargs sed -i 's@$(prefix)/LessTif@$(prefix)/share/LessTif@g'
./configure --prefix=/usr \
    --enable-build-20 \
    --enable-build-21 \
    --disable-debug \
    --enable-production \
    --disable-build-tests \
    --with-xdnd
make
make install
***** End Code Block *****
\NewEntry
t1lib-5.0.2

***** Begin Code Block *****
./configure --prefix=/usr
make without_doc
make install
***** End Code Block *****
\NewEntry
AFPL Ghostscript-8.14

Installed fonts to `/usr/X11R6/lib/X11/fonts/Ghostscript'

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Xpdf-3.00

***** Begin Code Block *****
patch -Np1 -i ../patches/xpdf-3.00-freetype-3.1.7-hack.patch
./configure --prefix=/usr --sysconfdir=/etc \
    --with-freetype2-includes=/usr/include/freetype2
make
make install
***** End Code Block *****
\NewEntry
liba52-0.7.4

***** Begin Code Block *****
./configure --prefix=/usr --enable-shared
make
make install
***** End Code Block *****
\NewEntry
libmpeg3-1.5.4

***** Begin Code Block *****
patch -Np1 -i ../patches/libmpeg3-1.5.4-gcc34.patch
make
make install
cp i686/libmpeg3.a /usr/lib
cp {libmpeg3,mpeg3private,mpeg3protos}.h /usr/include
***** End Code Block *****
\NewEntry
aspell-0.50.5

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
aspell-en-0.51-1

***** Begin Code Block *****
./configure
make
make install
***** End Code Block *****
\NewEntry
enchant-1.1.3

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
AbiWord-2.0.7

libjpeg
libpng
expat

why gnome libs 1.4.2

***** Begin Code Block *****
patch -Np1 -i ../patches/abiword-2.0.7-gcc34-1.patch
cd abi
./configure --prefix=/usr --with-expat
make
make install
cp ../abiword-docs/man/abiword.8 /usr/share/man/man8
cp -rf ../abiword-docs/help /usr/share/doc/abiword
***** End Code Block *****
\NewEntry
gkrellm-2.2.0

***** Begin Code Block *****
make
make install PREFIX=/usr
***** End Code Block *****
\NewEntry
gkrellm-volume-2.1.11

I installed this only within my own home directory and placed it
within my local plugins directory.

***** Begin Code Block *****
make enable_alsa=1
2004-05-29cp volume.so ~/.gkrellm2/plugins
***** End Code Block *****
\NewEntry
Tcsh-6.13.00

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
make install.man
ln -sf /usr/bin/tcsh /bin/csh
***** End Code Block *****
\NewEntry
WMmp-0.10.0

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
XML-Parser-2.34

***** Begin Code Block *****
perl Makefile.PL
make
make install
***** End Code Block *****
\NewEntry
shared-mime-info-0.14

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
rox-2.2.0

***** Begin Code Block *****
./ROX-Filer/AppRun --compile
./install.sh
***** End Code Block *****
\NewEntry
strace-4.5.3

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Cdrtools-2.00.3

***** Begin Code Block *****
make INS_BASE=/usr DEFINSUSR=root DEFINSGRP=root
make INS_BASE=/usr DEFINSUSR=root DEFINSGRP=root install
***** End Code Block *****
\NewEntry
Cdrdao-1.1.8

***** Begin Code Block *****
patch -Np1 -i ../patches/cdrdao-1.1.8-gcc34-1.patch
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
gtkspell-2.0.5

***** Begin Code Block *****
./configure --prefix=/usr --disable-gtk-doc
make
make install
***** End Code Block *****
\NewEntry
gaim-1.0.0

***** Begin Code Block *****
./configure --prefix=/usr --enable-nas
make
make install
***** End Code Block *****
\NewEntry
fbpanel-3.5

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
GTK2 Themes

Modify the ~/.gtkrc-2.0 file with the following format:
   include "/usr/share/themes/ThinIce/gtk-2.0/gtkrc"
Where the gtkrc file pointed to is the config file for the theme
that you want to run.

H2O-gtk2:
  http://themes.freshmeat.net/projects/h2o-gtk2/

Plush:
  http://www.customize.org/details/33513

*** I like this one: Confederate:
  http://themes.freshmeat.net/projects/confederate/

DaVinci:
  http://themes.freshmeat.net/projects/gtk2davinci/

Glacier:
  http://themes.freshmeat.net/projects/glacier/

LighthouseBlue:
  http://themes.freshmeat.net/projects/lighthouseblue/
\NewEntry
subversion-1.0.4

Requires:
  db-4.* (server only)

Perform the following only if it is also to be a subversion server
(repository):

***** Code Block *****
useradd -c subversion -d /dev/null -g cluster -s /bin/false -u 18 svn
mkdir /home/svn
***** End Code Block *****

To install subversion:
--enable-swig-bindings=all
***** Begin Code Block *****
./configure --prefix=/usr --with-openssl
make
make install
***** End Code Block *****

To setup subversion in daemon mode:

***** Code Block *****
cat > /etc/rc.d/init.d/svn << "EOF"
#!/bin/bash
# Begin svn

# Based on sysklogd script from LFS-3.1 and earlier.
# Rewritten by Gerard Beekmans  - gerard@linuxfromscratch.org

source /etc/sysconfig/rc
source $rc_functions

case "$1" in
  start)
    echo "Starting Subversion Server..."
    loadproc /usr/bin/svnserve -d -r /home/svn
    ;;

  stop)
    echo "Stopping Subversion Server..."
    killproc /usr/bin/svnserve
    ;;

  restart)
    $0 stop
    sleep 1
    $0 start
    ;;

  status)
    statusproc /usr/bin/svnserve
    ;;

  *)
    echo "Usage: $0 {start|stop|restart|status}"
    exit 1
    ;;
esac

# End svn
EOF
chmod 0755 /etc/rc.d/init.d/svn
ln -s ../init.d/svn K23svn
ln -s ../init.d/svn S36svn
***** End Code Block *****

To setup a repository:

***** Code Block *****
svnadmin create /home/svn
find /home/svn -exec chown user:group {} \;
chmod 755 /home/svn/db
chmod g+s /home/svn/db
find /home/svn/db -type f -exec chmod 0644 {} \;
***** End Code Block *****
\NewEntry
chmlib-0.33

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
wxGTK-2.5.2

Checks for:
  gtk2
  zlib
  png
  jpeg
  tiff
  expat
  pango

***** Begin Code Block *****
patch -Np1 -i ../patches/wxGTK-2.5.2-1.patch
./configure --prefix=/usr --with-gtk --enable-gtk2 \
    --enable-unicode --with-sdl --enable-unicode
make
make install
***** End Code Block *****
\NewEntry
xchm-0.9.1

***** Begin Code Block *****
patch -Np1 -i ../patches/xchm-0.9.1-1.patch
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
valgrind-2.1.1

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
screen-4.0.2

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
gdb-6.1

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
xcdroast-0.98alpha15

***** Begin Code Block *****
cd src
patch -p0 < ../../patches/xcdroast-0.98alpha15-gtk2locale.patch
patch -p0 < ../../patches/xcdroast-0.98alpha15-read_eagain.patch
patch -p0 < ../../patches/xcdroast-0.98alpha15-wav.patch
cd ..
tar xvjf ../packages/xcdroast-0.98alpha15-new_configure.tar.bz2
./configure --prefix=/usr --sysconfdir=/etc --enable-gtk2
make
make install
***** End Code Block *****
\NewEntry
bochs-2.1.1

***** Begin Code Block *****
./configure --prefix=/usr --enable-debugger --enable-disasm
make
make install
***** End Code Block *****

--enable-debugger --enable-disasm: These configure options are required for the Bochs debugger.
\NewEntry
iptables-1.2.9

***** Begin Code Block *****
make PREFIX=/usr LIBDIR=/lib BINDIR=/sbin
make PREFIX=/usr LIBDIR=/lib BINDIR=/sbin install
***** End Code Block *****
\NewEntry
pygtk-2.3.92

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
ORBit2-2.10.1

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc/gnome
make
make install
***** End Code Block *****
\NewEntry
intltool-0.30

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
GConf-2.6.1

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --sysconfdir=/etc/gnome --disable-gtk-doc
make
make install
***** End Code Block *****
\NewEntry
libbonobo-2.6.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --sysconfdir=/etc/gnome
make
make install
***** End Code Block *****
\NewEntry
gnome-mime-data-2.4.1

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc/gnome
make
make install
***** End Code Block *****
\NewEntry
gnome-vfs-2.6.1.1

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --sysconfdir=/etc/gnome --disable-gtk-doc
make
make install
***** End Code Block *****
\NewEntry
libgnome-2.6.1.1

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --sysconfdir=/etc/gnome --disable-gtk-doc
make
make install
***** End Code Block *****
\NewEntry
libart_lgpl-2.3.16

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
libgnomecanvas-2.6.1.1

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --disable-gtk-doc
make
make install
***** End Code Block *****
\NewEntry
libbonoboui-2.6.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0`
make
make install
***** End Code Block *****
\NewEntry
gnome-keyring-0.2.1

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin
make
make install
***** End Code Block *****
\NewEntry
libgnomeui-2.6.1.1

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --disable-gtk-doc
make
make install
***** End Code Block *****
\NewEntry
pyorbit-2.0.0

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
gnome-python-2.0.2

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****

The following modules will be built:

gnome
gnome.ui
gnome.canvas
gnome.vfs
gconf
bonobo
bonobo.activation
bonobo.ui

The following modules will NOT be built:

zvt
gtkhtml2
gnome.applet
nautilus
gnomeprint
gnomeprint.ui
\NewEntry
gjots2-2.0.1

***** Begin Code Block *****
python setup.py install --prefix=/usr
***** End Code Block *****
\NewEntry
Procmail-3.22

***** Code Block *****
make BASENAME=/usr install
make install-suid
***** End Code Block *****
\NewEntry
Fetchmail-6.2.5

***** Code Block *****
./configure --prefix=/usr --with-ssl \
    --enable-fallback=procmail
make
make install
***** End Code Block *****

Perform this as your user:

***** Code Block *****
cat > ~/.fetchmailrc << "EOF"
set logfile /var/log/fetchmail.log
set no bouncemail
set postmaster root

poll SERVERNAME :
    user "username" pass "password";
    mda "/usr/bin/procmail -f %F -d %T";
EOF
chmod 0600 ~/.fetchmailrc
***** End Code Block *****
\NewEntry
Postfix-2.1.1

NOTE: If the build errors out complaining about undefined references to pthread functions:
undefined reference to `pthread_condattr_setpshared'
undefined reference to `pthread_mutexattr_destroy'
undefined reference to `pthread_mutexattr_init'
undefined reference to `pthread_mutex_trylock'
Then add AUXLIBS="-lpthread" to the `make' command below. See http://www.postfix.org/DB_README.html for further information on this issue.

***** Code Block *****
groupadd -g 16 postfix
groupadd -g 17 postdrop
groupadd -g 65534 nogroup
useradd -c postfix -d /dev/null -g postfix -s /bin/false -u 16 postfix
useradd -c nobody -d /home -g nogroup -s /bin/bash -u 65534 nobody
chown postfix:postfix /var/mail
***** End Code Block *****

Install postfix with:

***** Code Block *****
make AUXLIBS="-lpthread"
sh postfix-install daemon_directory=/usr/sbin \
                   manpage_directory=/usr/share/man \
                   sample_directory=/usr/share/doc/postfix \
                   -non-interactive
install -d /usr/share/doc/postfix
cp -rf html/* /usr/share/doc/postfix
***** End Code Block *****

Configure postfix with:

***** Code Block *****
cat > /etc/aliases << "EOF"
# Begin /etc/aliases

MAILER-DAEMON:    postmaster
postmaster:       root

root:             LOGIN
# End /etc/aliases
EOF
cp /etc/aliases /etc/aliases.bak
cp /etc/postfix/main.cf /etc/postfix/main.cf.bak
sed "s/LOGIN/munozga@uwec.edu/" /etc/aliases.bak > /etc/aliases
sed "s/#myhostname = host.domain.tld/myhostname = localhost.localdomain/" /etc/postfix/main.cf.bak > /etc/postfix/main.cf
/usr/bin/newaliases
/usr/sbin/postfix start
***** End Code Block *****

Install sysvinit script:

***** Code Block *****
make install-postfix
***** End Code Block *****
\NewEntry
GnuPG-1.2.4

Utilized by mutt

***** Code Block *****
./configure --prefix=/usr --libexecdir=/usr/sbin
make
make install
chmod 4755 /usr/bin/gpg
***** End Code Block *****
\NewEntry
Mutt-1.4.2.1i

***** Code Block *****
groupadd -g 18 mail
***** End Code Block *****

***** Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****

For gpg, execute as normal user (if not already setup):

***** Code Block *****
cat /usr/share/doc/mutt/samples/gpg.rc >> ~/.muttrc
***** End Code Block *****
\NewEntry
GIMP-2.0.0

***** Code Block *****
patch -Np1 -i ../patches/gimp-2.0.0-gcc34.patch
./configure --prefix=/usr --sysconfdir=/etc --disable-print
make
make install
***** End Code Block *****
\NewEntry
vim-6.2 + gtk2

***** Code Block *****
echo '#define SYS_VIMRC_FILE "/etc/vimrc"' >> src/feature.h
echo '#define SYS_GVIMRC_FILE "/etc/gvimrc"' >> src/feature.h
./configure --prefix=/usr --enable-multibyte \
    --with-features=huge --enable-gui=gtk2 
make
make install
***** End Code Block *****
\NewEntry
VTE-0.11.10

***** Begin Code Block *****
./configure --prefix=/usr --libexecdir=/usr/sbin \
    --disable-gtk-doc
make
make install
***** End Code Block *****
\NewEntry
GNet-2.0.5

***** Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Pan-0.14.2

***** Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Grepmail-5.30

***** Begin Code Block *****
./configure --prefix=/usr &&
make &&
make install
***** End Code Block *****
\NewEntry
splint-3.1.1

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
GCC-3.4.1-20040601

***** Begin Code Block *****
patch -Np1 -i ../patches/gcc-3.4.1-no_fixincludes-1.patch
sed -i 's/install_to_$(INSTALL_DEST) //' libiberty/Makefile.in
mkdir ../gcc-build
cd ../gcc-build
../gcc-3.4.1-20040601/configure --prefix=/opt/gcc-3.4.1-20040601 \
    --libexecdir=/usr/lib --enable-shared --enable-threads=posix \
    --enable-__cxa_atexit --enable-clocale=gnu --enable-languages=c,c++
make
make -k check
make install
***** End Code Block *****
\NewEntry
GCC-3.3.3

***** Begin Code Block *****
patch -Np1 -i ../patches/gcc-3.3.3-no_fixincludes-1.patch
sed -i 's/install_to_$(INSTALL_DEST) //' libiberty/Makefile.in
mkdir ../gcc-build
cd ../gcc-build
../gcc-3.3.3/configure --prefix=/opt/gcc-3.3.3 \
    --enable-shared --enable-threads=posix \
    --enable-__cxa_atexit --enable-clocale=gnu \
    --enable-languages=c,c++
make
make -k check
make install
***** End Code Block *****
\NewEntry
xlockmore-5.13ALPHA04

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
bluefish-0.13

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
gucharmap-1.4.1

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****	
\NewEntry
streamtuner-0.12.4

Required:
  GLIB - version >= 2.0.0
  GTK+ - version >= 2.4.0
  libcurl - version >= 7.10.8

Optional:
  scrollkeeper (for documentation)

***** Begin Code Block *****
./configure --prefix=/usr --enable-shoutcast
make
make install
***** End Code Block *****
\NewEntry
streamtuner-live365-0.3.4

Requires:
  streamtuner >= 0.12.0

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
tcpdump-3.8.3

***** Begin Code Block *****
./configure --prefix=/usr --disable-smb --disable-ipv6
make
make install
***** End Code Block *****
\NewEntry
Perl CPAN Modules

Enter a perl shell to install CPAN modules:
  # perl -MCPAN -e shell
\NewFolder
\NewEntry
Mail::Mailer

install Mail::Mailer
\NewEntry
Mail::IMAPClient

force install Mail::IMAPClient
\NewEntry
File::Slurp

install File::Slurp
\NewEntry
Getopt::Long

install Getopt::Long
\NewEntry
List::Util

install List::Util
\EndFolder
\NewEntry
avifile-0.7-0.7.41

***** Begin Code Block *****
install -d /usr/lib/avifile-0.7/win32
tar xzvf ../binaries-011002.tgz -C /usr/lib/avifile-0.7
./autogen.sh
./configure
make maintainer-clean
./autogen.sh
./configure --prefix=/usr \
    --with-win32-path=/usr/lib/avifile-0.7/win32
make
make install
***** End Code Block *****
\NewEntry
ImageMagick-6.1.6-3

***** Begin Code Block *****
sed -i -e 's/\$(LIBLTDL) \$/\$/' Makefile.in
./configure --prefix=/usr --with-modules
make
make install
***** End Code Block *****
\NewEntry
FFmpeg-0.4.9-pre1

***** Begin Code Block *****
./configure --prefix=/usr \
    --enable-shared --enable-pthreads
make
make -C doc {ffmpeg,ffserver,ffplay}.1
make install
***** End Code Block *****
\NewEntry
transcode-0.6.14

Unable to install mjpegtools.
Unable to link with ffmpeg.
Unable to link with avifile.

***** Begin Code Block *****
./configure --prefix=/usr --without-x --enable-ogg \
    --enable-vorbis --enable-libdv --enable-lzo \
    --enable-a52 --enable-libmpeg3 --enable-libxml2 \
    --enable-sdl --enable-imagemagick --enable-libjpeg
make
make install
***** End Code Block *****
\NewEntry
ogmtools-1.5

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
XML-Writer-0.520

***** Begin Code Block *****
perl Makefile.PL
make
make test
make install
***** End Code Block *****
\NewEntry
ExtUtils-Depends-0.204

***** Begin Code Block *****
perl Makefile.PL
make
make install
***** End Code Block *****
\NewEntry
ExtUtils-PkgConfig-1.06

***** Begin Code Block *****
perl Makefile.PL
make
make install
***** End Code Block *****
\NewEntry
Perl-Glib-1.071

***** Begin Code Block *****
perl Makefile.PL
make
make install
***** End Code Block *****
\NewEntry
Perl-Gtk2-1.071

***** Begin Code Block *****
perl Makefile.PL
make
make install
***** End Code Block *****
\NewEntry
Gtk2-GladeXML-1.001

***** Begin Code Block *****
perl Makefile.PL
make
make install
***** End Code Block *****
\NewEntry
libwnck-2.8.1

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0`
make
make install
***** End Code Block *****
\NewEntry
Gnome2-Wnck-0.09

***** Begin Code Block *****
perl Makefile.PL
make
make install
***** End Code Block *****
\NewEntry
PerlPanel-0.8.0

***** Begin Code Block *****
make
make install
***** End Code Block *****
\NewEntry
lsdvd-0.10

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Thunderbird-1.0

***** Begin Code Block *****
export MOZILLA_OFFICIAL="1"
export BUILD_OFFICIAL="1"
export MOZ_THUNDERBIRD="1"
./configure --prefix=/usr \
    --with-default-mozilla-five-home=/usr/lib/thunderbird-1.0 \
    --with-system-zlib \
    --with-system-png \
    --with-system-jpeg \
    --enable-application=mail \
    --enable-default-toolkit=gtk2 \
    --enable-extensions=wallet,spellcheck,xmlextras,webservices \
    --enable-crypto \
    --enable-xft \
    --enable-xinerama \
    --enable-optimize \
    --enable-reorder \
    --enable-strip \
    --enable-cpp-rtti \
    --enable-single-profile \
    --enable-necko-protocols=http,file,jar,viewsource,res,data \
    --enable-image-decoders=default,-xbm \
    --disable-freetype2 \
    --disable-accessibility \
    --disable-debug \
    --disable-tests \
    --disable-logging \
    --disable-pedantic \
    --disable-installer \
    --disable-profilesharing \
    --disable-mathml \
    --disable-oji \
    --disable-plugins \
    --disable-necko-disk-cache
make
tar zxf ../packages/enigmail-0.89.5.tar.gz -C extensions
tar zxf ../packages/ipc-1.1.2.tar.gz -C extensions
build/autoconf/make-makefile extensions/ipc extensions/enigmail
make -C extensions/ipc
make -C extensions/enigmail
make install
install -d /usr/include/thunderbird-1.0/nss
cp -Lf dist/private/nss/*.h dist/public/nss/*.h \
    /usr/include/thunderbird-1.0/nss
make -C extensions/ipc install
make -C extensions/enigmail install
cd /usr/lib/thunderbird-1.0
export LD_LIBRARY_PATH="$PWD"
export MOZILLA_FIVE_HOME="$PWD"
./regxpcom
./regchrome
touch `find . -name *.rdf`
***** End Code Block *****
\NewEntry
fuse-2.2

NOTE: The kernel source needs to be built for fuse to determine the kernel version.

***** Begin Code Block *****
./configure --prefix=/usr --enable-kernel-module \
    --enable-lib --enable-util --enable-auto-modprobe
make
make install
***** End Code Block *****
\NewEntry
sshfs-fuse-1.0

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
GLib-1.2.10

***** Begin Code Block *****
patch -Np1 -i ../glib-1.2.10-gcc34-1.patch
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
GTK+-1.2.10

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewEntry
ORBit-0.5.17

***** Begin Code Block *****
./configure --prefix=/opt/gnome
make
make install
***** End Code Block *****
\NewEntry
Imlib-1.9.15

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc/imlib
make
make install
***** End Code Block *****
\NewEntry
GNOME Libraries-1.4.2

***** Begin Code Block *****
./configure --prefix=/opt/gnome --disable-gtk-doc
make
make install
***** End Code Block *****
\NewEntry
GDK Pixel Buffer-0.22.0

***** Begin Code Block *****
./configure --prefix=/opt/gnome --disable-gtk-doc
make
make install
***** End Code Block *****
\NewEntry
Gtk-Perl-0.7009

NOTE: A symlink may be need as follows:
    `ln -s /usr/include/gtk-1.2/gtk /usr/include'
If some things report a failure, just keep performing the `make' command. (Hopefully things will just work?). Possibly use the
--without-guessing option and compile GdkPixBuf manually.

***** Begin Code Block *****
perl -pi -e '/CCMD/ && s|/m;|/mg;|' */Makefile.PL
perl Makefile.PL --without-gnome --without-gnomeprint --without-applets
make
make install
***** End Code Block *****
\NewEntry
xvid4conf-1.12

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Video-DVDRip-0.52.2

NOTE: The Locale::TextDomain perl module is required by DVD::Rip. It may need to be installed forcefully (force install Locale::TextDomain).

***** Begin Code Block *****
perl Makefile.PL
make
make test
make install
***** End Code Block *****
\NewEntry
libgmail-0.0.8

***** Begin Code Block *****
cp libgmail.py constants.py mkconstants.py /usr/lib/python2.3
chmod 0755 /usr/lib/python2.3/libgmail.py
chmod 0644 /usr/lib/python2.3/constants.py
chmod 0755 /usr/lib/python2.3/mkconstants.py
***** End Code Block *****

To get the latest version from CVS:

NOTE: When prompted for a password for anonymous, simply press the Enter key.

***** Begin Code Block *****
cvs -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/libgmail login
cvs -z3 -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/libgmail co -P libgmail
***** End Code Block *****
\NewEntry
fuse-python

***** Begin Code Block *****
python setup.py build
python setup.py install --prefix=/usr
***** End Code Block *****
\NewEntry
firestarter-1.0.3

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewEntry
python-xlib-0.12

***** Begin Code Block *****
python setup.py install
***** End Code Block *****
\NewEntry
imlib2-1.2.0

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
install -d -m755 /usr/share/doc/imlib2-1.2.0
install -m644 doc/{*.gif,index.html} \
    /usr/share/doc/imlib2-1.2.0
***** End Code Block *****
\NewEntry
PyPanel-2.2

***** Begin Code Block *****
python setup.py install
***** End Code Block *****
\NewEntry
dillo-0.8.4

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc/dillo
make
make install
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
LFS Notes
\NewFolder
\NewEntry
Package Management

plog - Logs the files installed by a package.
pinst - Attempts an auto-install of a package.
prm - Removes a package that was previsusly intalled and logged.
\NewEntry
Latest: LFS-SVN-20050303
\NewEntry
SBU

AMD Athlon 1.2 (630MB RAM):
  4m29.834s

AMD Athlon XP 1.54GHz (1GB RAM):
  4m22.356s
\NewEntry
Optimizations

Aggressive optimizations:
  -O2 -march=athlon -mmmx -m3dnow -pipe -fomit-frame-pointer

Bootcd optimizations:
  -O2 -march=i586 -mcpu=i586 -mtune=i686
\NewEntry
Uname kernel module hack

The updated source code for linux-2.6 can be found here:
  http://ftp.jg555.com/lfs/uname_i586.c

***** Begin Code Block *****
mkdir mod
cd mod
wget http://ftp.jg555.com/lfs/uname_i586.c
cat > Makefile << "EOF"
obj-m += uname_i586.o
EOF
make -C /usr/src/linux-`uname -r` SUBDIRS=$PWD modules
insmod uname_i586.ko
***** End Code Block *****

You may have to setup the kernel correctly first:
  # make mrproper
  # make menuconfig
    --> To stop warnings/issues of no .config found
  # make include/linux/version.h
  # make include/asm
  # make scripts
    --> The `modpost' binary is required to build modules.

To change the processor type output of uname:

***** Begin Code Block *****
mv /bin/uname{,.orig}
cat > /bin/uname << "EOF"
#!/bin/sh
PROCESSOR="`/bin/uname.orig -p`"
exec /bin/uname.orig "$@" | sed "s/$PROCESSOR/i586/"
EOF
chmod 0755 /bin/uname
***** End Code Block *****
\NewEntry
Re-entering chroot

***** Begin Code Block *****
mount -t proc proc $LFS/proc
chroot "$LFS" /usr/bin/env -i \
    HOME=/root TERM="$TERM" PS1='\u:\w\$ ' \
    PATH=/bin:/usr/bin:/sbin:/usr/sbin \
    /bin/bash --login
mount -n -t ramfs none /dev
/sbin/udevstart
ln -s /proc/self/fd /dev/fd
ln -s /proc/self/fd/0 /dev/stdin
ln -s /proc/self/fd/1 /dev/stdout
ln -s /proc/self/fd/2 /dev/stderr
ln -s /proc/kcore /dev/core
mkdir /dev/pts
mkdir /dev/shm
mount -t devpts -o gid=4,mode=620 none /dev/pts
mount -t tmpfs none /dev/shm
mount -t sysfs sysfs /sys
/sbin/udevstart
***** End Code Block *****

Exit the chroot environment:

***** Begin Code Block *****
umount /sys
umount /dev/shm
umount /dev/pts
umount /dev
exit
umount $LFS/proc
***** End Code Block *****
\NewEntry
Chapter 5
\NewFolder
\NewEntry
binutils-2.17

***** Begin Code Block *****
mkdir ../binutils-build
cd ../binutils-build
../binutils-2.17/configure --prefix=/tools --disable-nls
make
make install
make -C ld clean
make -C ld LIB_PATH=/tools/lib
cp ld/ld-new /tools/bin
***** End Code Block *****
\NewEntry
gcc-4.1.1-pass1

***** Begin Code Block *****
mkdir ../gcc-build
cd ../gcc-build
../gcc-4.1.1/configure --prefix=/tools \
    --with-local-prefix=/tools --disable-nls --enable-shared \
    --enable-languages=c
make bootstrap
make install
ln -s gcc /tools/bin/cc
***** End Code Block *****
\NewEntry
linux-libc-headers-2.6.12.0

***** Begin Code Block *****
cp -R include/asm-i386 /tools/include/asm
cp -R include/linux /tools/include
***** End Code Block *****
\NewEntry
glibc-2.4

***** Begin Code Block *****
patch -Np1 -i ../patches/glibc-2.4-iconv_fix-1.patch
mkdir ../glibc-build
cd ../glibc-build
../glibc-2.4/configure --prefix=/tools \
    --disable-profile --enable-add-ons \
    --enable-kernel=2.6.0 --with-binutils=/tools/bin \
    --without-gd --with-headers=/tools/include \
    --without-selinux
make
make check
mkdir /tools/etc
touch /tools/etc/ld.so.conf
make install
***** End Code Block *****

make check
==========

Should have no errors when building from a current system (glibc-2.3.4, gcc-3.4, binutils-2.15, linux-2.6).

When building on/for older systems (<686) a well known make check error will occur in tst-clock2. This error is expected:
  http://sources.redhat.com/ml/libc-hacker/2004-05/msg00019.html

An error in tst-timer4.out may be caused by clock inaccuracy. Make sure the system clock is set adequately to fix this.
\NewEntry
Adjusting the toolchain

***** Begin Code Block *****
mv /tools/bin/{ld,ld-old}
mv /tools/$(gcc -dumpmachine)/bin/{ld,ld-old}
mv /tools/bin/{ld-new,ld}
ln -s /tools/bin/ld /tools/$(gcc -dumpmachine)/bin/ld
***** End Code Block *****

***** Begin Code Block *****
SPECFILE=`dirname $(gcc -print-libgcc-file-name)`/specs &&
gcc -dumpspecs > $SPECFILE &&
sed 's@^/lib/ld-linux.so.2@/tools&@g' $SPECFILE > tempspecfile &&
mv -vf tempspecfile $SPECFILE &&
unset SPECFILE
***** End Code Block *****

***** Begin Code Block *****
GCC_INCLUDEDIR=`dirname $(gcc -print-libgcc-file-name)`/include &&
find ${GCC_INCLUDEDIR}/* -maxdepth 0 -xtype d -exec rm -rvf '{}' \; &&
rm -vf `grep -l "DO NOT EDIT THIS FILE" ${GCC_INCLUDEDIR}/*` &&
unset GCC_INCLUDEDIR
***** End Code Block *****

Test with:

***** Begin Code Block *****
echo 'main(){}' > dummy.c
cc dummy.c
readelf -l a.out | grep ': /tools'
rm dummy.c a.out
***** End Code Block *****
\NewEntry
tcl-8.4.13

***** Begin Code Block *****
cd unix
./configure --prefix=/tools
make
make install
make install-private-headers
ln -s tclsh8.4 /tools/bin/tclsh
***** End Code Block *****
\NewEntry
expect-5.43.0

***** Begin Code Block *****
patch -Np1 -i ../patches/expect-5.43.0-spawn-1.patch
./configure --prefix=/tools --with-tcl=/tools/lib \
  --with-tclinclude=/tools/include --with-x=no
make
make SCRIPTS="" install
***** End Code Block *****
\NewEntry
dejagnu-1.4.4

***** Begin Code Block *****
./configure --prefix=/tools
make install
***** End Code Block *****
\NewEntry
PTYs Check

***** Begin Code Block *****
expect -c "spawn ls"
***** End Code Block *****

If the above test fails, try to fix it with:

***** Begin Code Block *****
chmod 666 /dev/ptmx
***** End Code Block *****
\NewEntry
gcc-4.1.1-pass2

***** Begin Code Block *****
cp gcc/Makefile.in{,.orig}
sed 's@\./fixinc\.sh@-c true@' gcc/Makefile.in.orig > gcc/Makefile.in
cp gcc/Makefile.in{,.tmp}
sed 's/^XCFLAGS =$/& -fomit-frame-pointer/' gcc/Makefile.in.tmp \
  > gcc/Makefile.in
patch -Np1 -i ../patches/gcc-4.1.1-specs-1.patch
patch -Np1 -i ../patches/gcc-4.1.1-posix-1.patch
mkdir ../gcc-build
cd ../gcc-build
../gcc-4.1.1/configure --prefix=/tools \
    --with-local-prefix=/tools --enable-clocale=gnu \
    --enable-shared --enable-threads=posix \
    --enable-__cxa_atexit --enable-languages=c,c++ \
    --disable-libstdcxx-pch
make
make -k check
../gcc-4.1.1/contrib/test_summary
../gcc-4.1.1/contrib/test_summary | grep -A7 Summ
make install
***** End Code Block *****

make check
==========

                === g++ Summary ===

# of expected passes            12093
# of unexpected successes       2
# of expected failures          66
# of unsupported tests          66
/mnt/lfs/sources/gcc-build/gcc/testsuite/g++/../../g++  version 4.1.1

--
                === gcc Summary ===

# of expected passes            38362
# of expected failures          101
# of untested testcases         28
# of unsupported tests          243
/mnt/lfs/sources/gcc-build/gcc/xgcc  version 4.1.1

--
                === libmudflap Summary ===

# of expected passes            1799
                === libstdc++ tests ===


Running target unix

                === libstdc++ Summary ===

# of expected passes            3412
# of expected failures          13
# of unsupported tests          315

Compiler version: 4.1.1
Platform: i686-pc-linux-gnu
\NewEntry
Test GCC

***** Begin Code Block *****
echo 'main(){}' > dummy.c
cc dummy.c
readelf -l a.out | grep ': /tools'
rm dummy.c a.out
***** End Code Block *****
\NewEntry
binutils-2.17-pass2

***** Begin Code Block *****
mkdir ../binutils-build
cd ../binutils-build
../binutils-2.17/configure --prefix=/tools \
    --disable-nls --with-lib-path=/tools/lib
make
make check
make install
make -C ld clean
make -C ld LIB_PATH=/usr/lib:/lib
cp ld/ld-new /tools/bin
***** End Code Block *****

make check (grep -A5 Summary <log_file>)
==========

                === binutils Summary ===

# of expected passes            35

                === gas Summary ===

# of expected passes            149

                === ld Summary ===

# of expected passes            272
# of expected failures          4
\NewEntry
ncurses-5.5

***** Begin Code Block *****
./configure --prefix=/tools --with-shared \
    --without-debug --without-ada --enable-overwrite
make
make install
***** End Code Block *****
\NewEntry
bash-3.1

***** Begin Code Block *****
patch -Np1 -i ../patches/bash-3.1-fixes-8.patch
./configure --prefix=/tools --without-bash-malloc
make
make install
ln -s bash /tools/bin/sh
***** End Code Block *****
\NewEntry
bzip2-1.0.3

***** Begin Code Block *****
make
make PREFIX=/tools install
***** End Code Block *****
\NewEntry
coreutils-5.97

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
diffutils-2.8.1

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
findutils-4.2.27

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
gawk-3.1.5

***** Begin Code Block *****
./configure --prefix=/tools
cat >>config.h <<"EOF"
#define HAVE_LANGINFO_CODESET 1
#define HAVE_LC_MESSAGES 1
EOF
make
make install
***** End Code Block *****
\NewEntry
gettext-0.15

***** Begin Code Block *****
cd gettext-tools
./configure --prefix=/tools --disable-shared
make -C lib
make -C src msgfmt
cp src/msgfmt /tools/bin
***** End Code Block *****
\NewEntry
grep-2.5.1a

***** Begin Code Block *****
./configure --prefix=/tools \
    --disable-perl-regexp
make
make install
***** End Code Block *****
\NewEntry
gzip-1.3.5

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
m4-1.4.5

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
make-3.81

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
patch-2.5.4

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
perl-5.8.6

***** Begin Code Block *****
patch -Np1 -i ../patches/perl-5.8.8-libc-2.patch
./configure.gnu --prefix=/tools \
    -Dstatic_ext='Data/Dumper Fcntl IO POSIX'
make perl utilities
cp perl pod/pod2man /tools/bin
mkdir -p /tools/lib/perl5/5.8.8
cp -R lib/* /tools/lib/perl5/5.8.8
***** End Code Block *****
\NewEntry
sed-4.1.5

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
tar-1.15.91

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
texinfo-4.8

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
util-linux-2.12q

Added the make targets `sys-utils arch' and `misc-utils script', and copied the relevant binaries over so I can use them in my chroot environment. This is a small deviation from the book, but should not have any significant impacts.

***** Begin Code Block *****
sed -i 's@/usr/include@/tools/include@g' configure
./configure
make -C lib
make -C mount mount umount
make -C text-utils more
make -C sys-utils  arch
make -C misc-utils script
cp mount/{,u}mount text-utils/more \
    sys-utils/arch misc-utils/script /tools/bin
***** End Code Block *****
\NewEntry
Deprecated
\NewFolder
\NewEntry
bison-2.0

***** Begin Code Block *****
./configure --prefix=/tools
make
make install
***** End Code Block *****
\NewEntry
flex-2.5.31

***** Begin Code Block *****
patch -Np1 -i ../patches/flex-2.5.31-debian_fixes-2.patch
touch doc/flex.1
./configure --prefix=/tools
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
Stripping

***** Begin Code Block *****
strip --strip-debug /tools/lib/*
strip --strip-unneeded /tools/{,s}bin/*
rm -rf /tools/{info,man}
***** End Code Block *****
\NewEntry
Changing ownership

***** Begin Code Block *****
chown -R root:root $LFS/tools
***** End Code Block *****
\EndFolder
\NewEntry
Chapter 6
\NewFolder
\NewEntry
Mounting virtual kernel file systems

***** Begin Code Block *****
mkdir -p $LFS/{dev,proc,sys}
mknod -m 600 $LFS/dev/console c 5 1
mknod -m 666 $LFS/dev/null c 1 3
mount --bind /dev $LFS/dev
mount -t devpts devpts $LFS/dev/pts
mount -t tmpfs shm $LFS/dev/shm
mount -t proc proc $LFS/proc
mount -t sysfs sysfs $LFS/sys
***** End Code Block *****
\NewEntry
Entering the chroot environment

***** Begin Code Block *****
chroot "$LFS" /tools/bin/env -i \
    HOME=/root TERM="$TERM" PS1='\u:\w\$ ' \
    PATH=/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin \
    /tools/bin/bash --login +h
***** End Code Block *****
\NewEntry
Creating directories

***** Begin Code Block *****
mkdir -p /{bin,boot,etc/opt,home,lib,mnt,opt}
mkdir -p /{media/{floppy,cdrom},sbin,srv,var}
install -d -m 0750 /root
install -d -m 1777 /tmp /var/tmp
mkdir -p /usr/{,local/}{bin,include,lib,sbin,src}
mkdir -p /usr/{,local/}share/{doc,info,locale,man}
mkdir /usr/{,local/}share/{misc,terminfo,zoneinfo}
mkdir -p /usr/{,local/}share/man/man{1..8}
for dir in /usr /usr/local; do
  ln -s share/{man,doc,info} $dir
done
mkdir /var/{lock,log,mail,run,spool}
mkdir -p /var/{opt,cache,lib/{misc,locate},local}
***** End Code Block *****
\NewEntry
Creating essential symlinks

***** Begin Code Block *****
ln -s /tools/bin/{bash,cat,grep,pwd,stty} /bin
ln -s /tools/bin/perl /usr/bin
ln -s /tools/lib/libgcc_s.so{,.1} /usr/lib
ln -s bash /bin/sh
touch /etc/mtab
***** End Code Block *****
\NewEntry
Creating the passwd, group and log files

***** Begin Code Block *****
cat > /etc/passwd << "EOF"
root:x:0:0:root:/root:/bin/bash
EOF
***** End Code Block *****

***** Begin Code Block *****
cat > /etc/group << "EOF"
root:x:0:
bin:x:1:
sys:x:2:
kmem:x:3:
tty:x:4:
tape:x:5:
daemon:x:6:
floppy:x:7:
disk:x:8:
lp:x:9:
dialout:x:10:
audio:x:11:
video:x:12:
utmp:x:13:
usb:x:14:
cdrom:x:15:
EOF
***** End Code Block *****

***** Begin Code Block *****
exec /tools/bin/bash --login +h
***** End Code Block *****

***** Begin Code Block *****
touch /var/run/utmp /var/log/{btmp,lastlog,wtmp}
chgrp utmp /var/run/utmp /var/log/lastlog
chmod 664 /var/run/utmp /var/log/lastlog
***** End Code Block *****
\NewEntry
Deprecated
\NewFolder
\NewEntry
Populating /dev with device nodes

***** Begin Code Block *****
mknod -m 600 /dev/console c 5 1
mknod -m 666 /dev/null c 1 3
mount -n -t ramfs none /dev
mknod -m 622 /dev/console c 5 1
mknod -m 666 /dev/null c 1 3
mknod -m 666 /dev/zero c 1 5
mknod -m 666 /dev/ptmx c 5 2
mknod -m 666 /dev/tty c 5 0
mknod -m 444 /dev/random c 1 8
mknod -m 444 /dev/urandom c 1 9
chown root:tty /dev/{console,ptmx,tty}
ln -s /proc/self/fd /dev/fd
ln -s /proc/self/fd/0 /dev/stdin
ln -s /proc/self/fd/1 /dev/stdout
ln -s /proc/self/fd/2 /dev/stderr
ln -s /proc/kcore /dev/core
mkdir /dev/pts
mkdir /dev/shm
mount -t devpts -o gid=4,mode=620 none /dev/pts
mount -t tmpfs none /dev/shm
***** End Code Block *****
\EndFolder
\NewEntry
pinst (Package Installer)

Copy over the current version of `pinst', which can also be found here:
http://blackhole.cs.uwec.edu/~munozga/scripts/pinst

Place it in /bin within the chroot environment, and make sure the permissions are set 0755.

Outside the chroot environment:

***** Begin Code Block *****
wget http://blackhole.cs.uwec.edu/~munozga/scripts/pinst
mv pinst $LFS/sbin
chmod 0755 $LFS/sbin/pinst
wget http://blackhole.cs.uwec.edu/~munozga/scripts/pdel.pl
mv pdel.pl $LFS/sbin/pdel
chmod 0755 $LFS/sbin/pdel
***** End Code Block *****

Inside the chroot environment:

***** Begin Code Block *****
mkdir /var/log/pinst
***** End Code Block *****
\NewEntry
Create ~/.bash_profile

Remember to set any optimization flags here as well.

***** Begin Code Block *****
cat > ~/.bash_profile << "EOF"
export CFLAGS="-O2 -march=pentium4 -mtune=pentium4 -pipe -fomit-frame-pointer"
export CXXFLAGS=$CFLAGS
alias script='script -f'
EOF
source ~/.bash_profile
***** End Code Block *****
\NewEntry
linux-libc-headers-2.6.12.0

***** Begin Code Block *****
install -d /usr/include/asm
cp -R include/asm-i386/* /usr/include/asm
cp -R include/linux /usr/include
chown -R root:root /usr/include/{asm,linux}
find /usr/include/{asm,linux} -type d -exec chmod 755 {} \;
find /usr/include/{asm,linux} -type f -exec chmod 644 {} \;
***** End Code Block *****
\NewEntry
man-pages-2.36

***** Begin Code Block *****
make install
***** End Code Block *****
\NewEntry
glibc-2.4

The GCC optimization flag `-fomit-frame-pointer' is known to cause
segfaults during the check on AMD processors. Instead, use the `--enable-omitfp' option in Glibc configure script.

The GCC optimization flag `-mfpmath=sse' is known to cause math errors
in the make check of glibc on P4 computers.

The GCC optimization flag `-Os' is known to cause several make check erros in various math tests (test-float.out, test-double.out, test-ifloat.out, and test-idouble.out).

Glibc requires one of the -O? optimizations to be used. If you specify any optimizations, make sure you set one of these flags (recommended -O2, which is the default).

Some good Glibc info:
http://linuxfromscratch.org/pipermail/lfs-dev/2006-July/057710.html

CFLAGS:
  -O2 -march=i386 -mtune=pentium4

***** Begin Code Block *****
tar xvf ../packages/glibc-libidn-2.4.tar.bz2
ln -s glibc-libidn-2.4/ libidn
patch -Np1 -i ../patches/glibc-2.4-iconv_fix-1.patch
sed -i '/vi_VN.TCVN/d' localedata/SUPPORTED
sed -i \
's|libs -o|libs -L/usr/lib -Wl,-dynamic-linker=/lib/ld-linux.so.2 -o|' \
        scripts/test-installation.pl
mkdir ../glibc-build
cd ../glibc-build
../glibc-2.4/configure --prefix=/usr \
    --disable-profile --enable-add-ons \
    --enable-kernel=2.6.0 --libexecdir=/usr/lib/glibc \
    --enable-omitfp
make
make -k check 2>&1 | tee glibc-check-log
grep Error glibc-check-log
touch /etc/ld.so.conf
make install
mkdir -p /usr/lib/locale
localedef -i de_DE -f ISO-8859-1 de_DE
localedef -i de_DE@euro -f ISO-8859-15 de_DE@euro
localedef -i en_HK -f ISO-8859-1 en_HK
localedef -i en_PH -f ISO-8859-1 en_PH
localedef -i en_US -f ISO-8859-1 en_US
localedef -i en_US -f UTF-8 en_US.UTF-8
localedef -i es_MX -f ISO-8859-1 es_MX
localedef -i fa_IR -f UTF-8 fa_IR
localedef -i fr_FR -f ISO-8859-1 fr_FR
localedef -i fr_FR@euro -f ISO-8859-15 fr_FR@euro
localedef -i fr_FR -f UTF-8 fr_FR.UTF-8
localedef -i it_IT -f ISO-8859-1 it_IT
localedef -i ja_JP -f EUC-JP ja_JP
***** End Code Block *****

Configuration:

***** Begin Code Block *****
cat > /etc/nsswitch.conf << "EOF"
# Begin /etc/nsswitch.conf

passwd: files
group: files
shadow: files

hosts: files dns
networks: files

protocols: files
services: files
ethers: files
rpc: files

# End /etc/nsswitch.conf
EOF
***** End Code Block *****

***** Begin Code Block *****
tzselect
cp --remove-destination /usr/share/zoneinfo/America/Chicago \
    /etc/localtime
***** End Code Block *****

***** Begin Code Block *****
cat > /etc/ld.so.conf << "EOF"
# Begin /etc/ld.so.conf

/usr/local/lib
/opt/lib

# End /etc/ld.so.conf
EOF
***** End Code Block *****

make check
==========

All checks passed

When building on/for older systems (<686) a well known make check error
will occur in tst-clock2. This error is expected:
  http://sources.redhat.com/ml/libc-hacker/2004-05/msg00019.html
\NewEntry
Re-adjusting the toolchain

***** Begin Code Block *****
mv /tools/bin/{ld,ld-old}
mv /tools/$(gcc -dumpmachine)/bin/{ld,ld-old}
mv /tools/bin/{ld-new,ld}
ln -s /tools/bin/ld /tools/$(gcc -dumpmachine)/bin/ld
***** End Code Block *****

***** Begin Code Block *****
gcc -dumpspecs | \
perl -p -e 's@/tools/lib/ld-linux.so.2@/lib/ld-linux.so.2@g;' \
    -e 's@\*startfile_prefix_spec:\n@$_/usr/lib/ @g;' > \
    `dirname $(gcc --print-libgcc-file-name)`/specs
***** End Code Block *****

Test:

***** Begin Code Block *****
echo 'main(){}' > dummy.c
cc dummy.c -Wl,--verbose &> dummy.log
readelf -l a.out | grep ': /lib'
grep -o '/usr/lib.*/crt[1in].* .*' dummy.log
grep 'SEARCH.*/usr/lib' dummy.log |sed 's|; |\n|g'
grep "/lib/libc.so.6 " dummy.log
grep found dummy.log
rm dummy.c a.out dummy.log
***** End Code Block *****
\NewEntry
PTYs Check

***** Begin Code Block *****
expect -c "spawn ls"
***** End Code Block *****
\NewEntry
binutils-2.17

This package is known to have regressions with optimizations of -O3.

***** Begin Code Block *****
mkdir ../binutils-build
cd ../binutils-build
../binutils-2.17/configure --prefix=/usr --enable-shared
make tooldir=/usr
make check
make tooldir=/usr install
cp ../binutils-2.17/include/libiberty.h /usr/include
***** End Code Block *****

make check (grep -A5 Summary <log_file>)
==========

                === binutils Summary ===

# of expected passes            35

                === gas Summary ===

# of expected passes            149

                === ld Summary ===

# of expected passes            272
# of expected failures          4

./test-demangle: 753 tests, 0 failures
\NewEntry
gcc-4.1.1

***** Begin Code Block *****
sed -i 's/install_to_$(INSTALL_DEST) //' libiberty/Makefile.in
sed -i 's/^XCFLAGS =$/& -fomit-frame-pointer/' gcc/Makefile.in
sed -i 's@\./fixinc\.sh@-c true@' gcc/Makefile.in
sed -i 's/@have_mktemp_command@/yes/' gcc/gccbug.in
mkdir ../gcc-build
cd ../gcc-build
../gcc-4.1.1/configure --prefix=/usr \
    --libexecdir=/usr/lib --enable-shared \
    --enable-threads=posix --enable-__cxa_atexit \
    --enable-clocale=gnu --enable-languages=c,c++,objc
make
make -k check
../gcc-4.1.1/contrib/test_summary
../gcc-4.1.1/contrib/test_summary | grep -A7 Summ
make install
ln -s ../usr/bin/cpp /lib
ln -s gcc /usr/bin/cc
***** End Code Block *****

The file `/usr/lib/libgcc_s.so.1' and `/usr/lib/libgcc_s.so' will not be logged by my package management script because the file pre-exists as symlink. Update the log file with:

***** Begin Code Block *****
sed -i '/^\/usr\/lib\/gcc\/i686-pc-linux-gnu\/4.1.1\/crtendS.o/a/usr/lib/libgcc_s.so.1' \
    /var/log/pinst/gcc-4.1.1
sed -i '/^\/usr\/lib\/gcc\/i686-pc-linux-gnu\/4.1.1\/crtendS.o/a/usr/lib/libgcc_s.so' \
    /var/log/pinst/gcc-4.1.1
***** End Code Block *****

make check
==========

                === g++ Summary ===

# of expected passes            12093
# of unexpected successes       2
# of expected failures          66
# of unsupported tests          66
/usr/src/gcc-build/gcc/testsuite/g++/../../g++  version 4.1.1

--
                === gcc Summary ===

# of expected passes            38362
# of unexpected successes       2
# of expected failures          99
# of untested testcases         28
# of unsupported tests          243
/usr/src/gcc-build/gcc/xgcc  version 4.1.1
--
                === objc Summary ===

# of expected passes            1685
# of unexpected failures        1
# of unsupported tests          22
/usr/src/gcc-build/gcc/xgcc  version 4.1.1

                === libmudflap tests ===
--
                === libmudflap Summary ===

# of expected passes            1799
                === libstdc++ tests ===


Running target unix

                === libstdc++ Summary ===

# of expected passes            3412
# of expected failures          13
# of unsupported tests          315

Compiler version: 4.1.1
Platform: i686-pc-linux-gnu
\NewEntry
db-4.4.20

***** Begin Code Block *****
cd build_unix
../dist/configure --prefix=/usr --enable-compat185 --enable-cxx
make
make docdir=/usr/share/doc/db-4.4.20 install
chown root:root /usr/bin/db_* \
    /usr/lib/libdb* /usr/include/db* &&
chown -R root:root /usr/share/doc/db-4.4.20
***** End Code Block *****
\NewEntry
coreutils-5.97

***** Begin Code Block *****
patch -Np1 -i ../patches/coreutils-5.96-uname-1.patch
patch -Np1 -i ../patches/coreutils-5.96-suppress_uptime_kill_su-1.patch
patch -Np1 -i ../patches/coreutils-5.96-i18n-1.patch
chmod +x tests/sort/sort-mb-tests
sed -i 's/_LEN 6/_LEN 20/' src/who.c
./configure --prefix=/usr
make
echo "dummy1:x:1000:" >> /etc/group
echo "dummy2:x:1001:dummy" >> /etc/group
echo "dummy:x:1000:1000::/root:/bin/bash" >> /etc/passwd
make NON_ROOT_USERNAME=dummy check-root
src/su dummy -c "make RUN_EXPENSIVE_TESTS=yes check"
sed -i '/dummy/d' /etc/passwd /etc/group
make install
mv /usr/bin/{cat,chgrp,chmod,chown,cp,date,dd,df,echo} /bin
mv /usr/bin/{false,hostname,ln,ls,mkdir,mknod,mv,pwd,rm} /bin
mv /usr/bin/{rmdir,stty,sync,true,uname} /bin
mv /usr/bin/chroot /usr/sbin
mv /usr/bin/{head,sleep,nice} /bin
***** End Code Block *****

NOTE: I still prefer some of the utilities from net-tools. This includes hostname, so this binary is removed here in favor of net-tools. If I do not remove this binary, then make sure to adjust the package management log scripts if I install the net-tools hostname binary.

***** Begin Code Block *****
rm /bin/hostname
rm /usr/share/man/man1/hostname.1
***** End Code Block *****

Due to creating essentially symlinks before the chapter 6 installation, the `cat', `pwd', and `stty' binaries will not be detected as being new by my package manager. Add them to the package log:

***** Begin Code Block *****
sed -i '/^\/bin\/rm$/a/bin/stty' /var/log/pinst/coreutils-5.97
sed -i '/^\/bin\/rm$/a/bin/pwd' /var/log/pinst/coreutils-5.97
sed -i '/^\/bin\/rm$/a/bin/cat' /var/log/pinst/coreutils-5.97
***** End Code Block *****

make check
==========

All tests passed
\NewEntry
iana-etc-2.10

***** Begin Code Block *****
make
make install
***** End Code Block *****
\NewEntry
m4-1.4.5

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
bison-2.3

***** Begin Code Block *****
./configure --prefix=/usr
echo '#define YYENABLE_NLS 1' >> config.h
make
make install
***** End Code Block *****
\NewEntry
ncurses-5.5

***** Begin Code Block *****
patch -Np1 -i ../patches/ncurses-5.5-fixes-1.patch
./configure --prefix=/usr --with-shared --without-debug --enable-widec
make
make install
chmod 755 /usr/lib/*.5.5
chmod 644 /usr/lib/libncurses++w.a
mv /usr/lib/libncursesw.so.5* /lib
ln -sf ../../lib/libncursesw.so.5 /usr/lib/libncursesw.so
for lib in curses ncurses form panel menu ; do \
    rm -f /usr/lib/lib${lib}.so ; \
    echo "INPUT(-l${lib}w)" >/usr/lib/lib${lib}.so ; \
    ln -sf lib${lib}w.a /usr/lib/lib${lib}.a ; \
done &&
ln -sf libncurses++w.a /usr/lib/libncurses++.a
echo "INPUT(-lncursesw)" >/usr/lib/libcursesw.so &&
ln -sf libncurses.so /usr/lib/libcurses.so &&
ln -sf libncursesw.a /usr/lib/libcursesw.a &&
ln -sf libncurses.a /usr/lib/libcurses.a
***** End Code Block *****
\NewEntry
procps-3.2.7

***** Begin Code Block *****
make CFLAGS="$CFLAGS"
make install
***** End Code Block *****
\NewEntry
sed-4.1.5

***** Begin Code Block *****
./configure --prefix=/usr --bindir=/bin --enable-html
make
make install
***** End Code Block *****
\NewEntry
libtool-1.5.22

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
perl-5.8.8

Remove the hosts file otherwise it will get logged.

***** Begin Code Block *****
echo "127.0.0.1 localhost $(hostname)" > /etc/hosts
./configure.gnu --prefix=/usr \
    -Dman1dir=/usr/share/man/man1 \
    -Dman3dir=/usr/share/man/man3 \
    -Dpager="/usr/bin/less -isR"
make
make test
rm /etc/hosts
make install
***** End Code Block *****

The perl binary "/usr/bin/perl" will not be logged by my package management script due to a pre-existing symlink. Add the binary to the log file with:

***** Begin Code Block *****
sed -i '0,/^.*$/i\/usr/bin/perl' /var/log/pinst/perl-*
***** End Code Block *****
\NewEntry
readline-5.1

***** Begin Code Block *****
patch -Np1 -i ../patches/readline-5.1-fixes-3.patch
sed -i '/MV.*old/d' Makefile.in
sed -i '/{OLDSUFF}/c:' support/shlib-install
./configure --prefix=/usr --libdir=/lib
make SHLIB_LIBS=-lncurses
make install
chmod 755 /lib/lib{readline,history}.so*
mv /lib/lib{readline,history}.a /usr/lib
rm /lib/lib{readline,history}.so
ln -sf ../../lib/libreadline.so.5 /usr/lib/libreadline.so
ln -sf ../../lib/libhistory.so.5 /usr/lib/libhistory.so
***** End Code Block *****
\NewEntry
zlib-1.2.3

NOTE: I use an additional environment variable to configure to set CFLAGS for any custom compiler flags.

***** Begin Code Block *****
CFLAGS="$CFLAGS -fPIC" ./configure --prefix=/usr --shared --libdir=/lib
make
make install
rm /lib/libz.so
ln -sf ../../lib/libz.so.1.2.3 /usr/lib/libz.so
make clean
CFLAGS="$CFLAGS -fPIC" ./configure --prefix=/usr
make
make install
chmod 644 /usr/lib/libz.a
***** End Code Block *****
\NewEntry
autoconf-2.60

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
automake-1.9.6

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
bash-3.0

***** Begin Code Block *****
patch -Np1 -i ../patches/bash-3.1-fixes-8.patch
./configure --prefix=/usr --bindir=/bin \
    --without-bash-malloc --with-installed-readline
make
make install
***** End Code Block *****

Exit the `script' session if you are using it, then:

***** Begin Code Block *****
exec /bin/bash --login +h
***** End Code Block *****

NOTE: pinst will not detect the new `/bin/bash' file that overwrites an existing symlink or the pre-existing `/bin/sh' symlink. Manually add these files to the log file:

***** Begin Code Block *****
sed -i '0,/^.*$/i\/bin/bash' /var/log/pinst/bash-*
sed -i '0,/^.*$/i\/bin/sh' /var/log/pinst/bash-*
***** End Code Block *****
\NewEntry
bzip2-1.0.3

***** Begin Code Block *****
patch -Np1 -i ../patches/bzip2-1.0.3-install_docs-1.patch
patch -Np1 -i ../patches/bzip2-1.0.3-bzgrep_security-1.patch
sed -i 's@tempfile -d /tmp -p bz@mktemp -p /tmp@' bzdiff
sed -i 's%$(BIGFILES)%$(BIGFILES) $(OPT)%' Makefile
sed -i 's%$(BIGFILES)%$(BIGFILES) $(OPT)%' Makefile-libbz2_so
make -f Makefile-libbz2_so OPT="$CFLAGS"
make clean
make OPT="$CFLAGS"
make install
cp bzip2-shared /bin/bzip2
cp -a libbz2.so* /lib
ln -s ../../lib/libbz2.so.1.0 /usr/lib/libbz2.so
rm /usr/bin/{bunzip2,bzcat,bzip2}
ln -s bzip2 /bin/bunzip2
ln -s bzip2 /bin/bzcat
***** End Code Block *****
\NewEntry
diffutils-2.8.1

***** Begin Code Block *****
patch -Np1 -i ../patches/diffutils-2.8.1-i18n-1.patch
touch man/diff.1
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
e2fsprogs-1.39

***** Begin Code Block *****
mkdir build
cd build
../configure --prefix=/usr --with-root-prefix="" \
    --enable-elf-shlibs --disable-evms
make
make install
make install-libs
***** End Code Block *****
\NewEntry
file-4.17

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
findutils-4.2.27

***** Begin Code Block *****
./configure --prefix=/usr --libexecdir=/usr/lib/findutils \
    --localstatedir=/var/lib/locate
make
make install
***** End Code Block *****
\NewEntry
flex-2.5.33

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
ln -s libfl.a /usr/lib/libl.a
cat > /usr/bin/lex << "EOF"
#!/bin/sh
# Begin /usr/bin/lex

exec /usr/bin/flex -l "$@"

# End /usr/bin/lex
EOF
chmod 755 /usr/bin/lex
***** End Code Block *****
\NewEntry
grub-0.97

Unset CFLAGS before compiling this package.

***** Begin Code Block *****
patch -Np1 -i ../patches/grub-0.97-disk_geometry-1.patch
./configure --prefix=/usr
make
make install
mkdir /boot/grub
cp /usr/lib/grub/i386-pc/stage{1,2} /boot/grub
***** End Code Block *****

Configuration:

***** Code Block *****
root (hd0,3) <-- use your own root drive (see examples below)
setup (hd0) <-- install grub to mbr of drive specified above
***** End Code Block *****

For example: /dev/hda is (hd0), /dev/hda1 (hd0,0), /dev/hdb2
(hd1,1), and so forth. Hopefully you'll get the clue. Otherwise
try 'man grub'/'info grub'.
\NewEntry
gawk-3.1.5

***** Begin Code Block *****
patch -Np1 -i ../patches/gawk-3.1.5-segfault_fix-1.patch
./configure --prefix=/usr --libexecdir=/usr/lib
cat >>config.h <<"EOF"
#define HAVE_LANGINFO_CODESET 1
#define HAVE_LC_MESSAGES 1
EOF
make
make install
***** End Code Block *****
\NewEntry
gettext-0.15

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
grep-2.5.1a

***** Begin Code Block *****
patch -Np1 -i ../patches/grep-2.5.1a-redhat_fixes-2.patch
chmod +x tests/fmbtest.sh
./configure --prefix=/usr --bindir=/bin \
    --with-included-regex --enable-perl-regexp
make
make install
***** End Code Block *****
\NewEntry
groff-1.19.2

***** Begin Code Block *****
sed -i -e 's/2010/002D/' -e 's/2212/002D/' \
    -e 's/2018/0060/' -e 's/2019/0027/' font/devutf8/R.proto
PAGE=letter ./configure --prefix=/usr --enable-multibyte
make
make install
ln -s eqn /usr/bin/geqn
ln -s tbl /usr/bin/gtbl
***** End Code Block *****
\NewEntry
gzip-1.3.5

***** Begin Code Block *****
patch -Np1 -i ../patches/gzip-1.3.5-security_fixes-1.patch
./configure --prefix=/usr
sed -i 's@"BINDIR"@/bin@g' gzexe.in
make
make install
mv /usr/bin/gzip /bin
rm /usr/bin/{gunzip,zcat}
ln -s gzip /bin/gunzip
ln -s gzip /bin/zcat
ln -s gzip /bin/compress
ln -s gunzip /bin/uncompress
***** End Code Block *****
\NewEntry
inetutils-1.4.2

NOTE: This package will utilize PAM if found, but only for ftpd, which isn't installed, and shouldn't be because if you really need that daemon you should get a better one from a different package.

***** Begin Code Block *****
patch -Np1 -i ../patches/inetutils-1.4.2-gcc4_fixes-3.patch
patch -Np1 -i ../patches/inetutils-1.4.2-no_server_man_pages-1.patch
./configure --prefix=/usr --libexecdir=/usr/sbin \
    --sysconfdir=/etc --localstatedir=/var \
    --disable-logger --disable-syslogd \
    --disable-whois --disable-servers
make
make install
mv /usr/bin/ping /bin
***** End Code Block *****
\NewEntry
iproute2-2.6.16-060323

NOTE: Had to add a sed hack in order to insert a macro in the right spot within the makefile so that I could pass additional flags for compilation.

***** Begin Code Block *****
make SBINDIR=/sbin OPTS="$CFLAGS"
make install SBINDIR=/sbin
mv /sbin/arpd /usr/sbin
***** End Code Block *****
\NewEntry
kbd-1.12

***** Begin Code Block *****
patch -Np1 -i ../patches/kbd-1.12-backspace-1.patch
patch -Np1 -i ../patches/kbd-1.12-gcc4_fixes-1.patch
./configure --datadir=/lib/kbd
make CFLAGS="$CFLAGS"
make install
mv /usr/bin/{kbd_mode,openvt,setfont} /bin
***** End Code Block *****
\NewEntry
less-394

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewEntry
make-3.81

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
man-db-2.4.3

***** Begin Code Block *****
mv man/de{_DE.88591,} &&
mv man/es{_ES.88591,} &&
mv man/it{_IT.88591,} &&
mv man/ja{_JP.eucJP,} &&
sed -i 's,\*_\*,??,' man/Makefile.in
sed -i '/\t\/usr\/man/d' src/man_db.conf.in
cat >>include/manconfig.h.in <<"EOF"
#define WEB_BROWSER "exec /usr/bin/lynx"
#define COL "/usr/bin/col"
#define VGRIND "/usr/bin/vgrind"
#define GRAP "/usr/bin/grap"
EOF
./configure --prefix=/usr --enable-mb-groff --disable-setuid
make
make install
cat >>convert-mans <<"EOF"
#!/bin/sh -e
FROM="$1"
TO="$2"
shift ; shift
while [ $# -gt 0 ]
do
        FILE="$1"
        shift
        iconv -f "$FROM" -t "$TO" "$FILE" >.tmp.iconv
        mv .tmp.iconv "$FILE"
done
EOF
install -m755 convert-mans  /usr/bin
***** End Code Block *****
\NewEntry
mktemp-1.5

***** Begin Code Block *****
patch -Np1 -i ../patches/mktemp-1.5-add_tempfile-3.patch
./configure --prefix=/usr --with-libc
make
make install
make install-tempfile
***** End Code Block *****
\NewEntry
module-init-tools-3.2.2

***** Begin Code Block *****
patch -Np1 -i ../patches/module-init-tools-3.2.2-modprobe-1.patch
./configure
make check
make distclean
./configure --prefix=/ --enable-zlib
make
make INSTALL=install install
***** End Code Block *****
\NewEntry
patch-2.5.4

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
psmisc-22.2

***** Begin Code Block *****
./configure --prefix=/usr --exec-prefix=""
make
make install
mv /bin/pstree* /usr/bin
ln -s killall /bin/pidof
***** End Code Block *****
\NewEntry
shadow-4.0.17

***** Begin Code Block *****
./configure --libdir=/lib --enable-shared --without-selinux
sed -i 's/groups$(EXEEXT) //' src/Makefile
find man -name Makefile -exec sed -i '/groups/d' {} \;
sed -i -e 's/ ko//' -e 's/ zh_CN zh_TW//' man/Makefile
for i in de es fi fr id it pt_BR; do
    convert-mans UTF-8 ISO-8859-1 man/${i}/*.?
done

for i in cs hu pl; do
    convert-mans UTF-8 ISO-8859-2 man/${i}/*.?
done

convert-mans UTF-8 EUC-JP man/ja/*.?
convert-mans UTF-8 KOI8-R man/ru/*.?
convert-mans UTF-8 ISO-8859-9 man/tr/*.?
make
make install
cp etc/{limits,login.access} /etc
sed -e's@#MD5_CRYPT_ENAB.no@MD5_CRYPT_ENAB yes@' \
    -e 's@/var/spool/mail@/var/mail@' \
    etc/login.defs > /etc/login.defs
mv /usr/bin/passwd /bin
mv /lib/libshadow.*a /usr/lib
rm /lib/libshadow.so
ln -sf ../../lib/libshadow.so.0 /usr/lib/libshadow.so
mkdir /etc/default
***** End Code Block *****

Make sure to remember to update /etc/login.defs as per the BLFS book.

NOTE: Make sure to create the package manager log file before executing these last commands.

***** Begin Code Block *****
pwconv
grpconv
passwd root
***** End Code Block *****
\NewEntry
sysklogd-1.4.1

***** Begin Code Block *****
patch -Np1 -i ../patches/sysklogd-1.4.1-fixes-1.patch
patch -Np1 -i ../patches/sysklogd-1.4.1-8bit-1.patch
make
make install
cat > /etc/syslog.conf << "EOF"
# Begin /etc/syslog.conf

auth,authpriv.* -/var/log/auth.log
*.*;auth,authpriv.none -/var/log/sys.log
daemon.* -/var/log/daemon.log
kern.* -/var/log/kern.log
mail.* -/var/log/mail.log
user.* -/var/log/user.log
*.emerg *

# End /etc/syslog.conf
EOF
***** End Code Block *****
\NewEntry
sysvinit-2.86

***** Begin Code Block *****
sed -i 's@Sending processes@& started by init@g' \
    src/init.c
make -C src CFLAGS="-Wall -D_GNU_SOURCE $CFLAGS"
make -C src install
***** End Code Block *****

Configuration:

***** Begin Code Block *****
cat > /etc/inittab << "EOF"
# Begin /etc/inittab

id:3:initdefault:

si::sysinit:/etc/rc.d/init.d/rc sysinit

l0:0:wait:/etc/rc.d/init.d/rc 0
l1:S1:wait:/etc/rc.d/init.d/rc 1
l2:2:wait:/etc/rc.d/init.d/rc 2
l3:3:wait:/etc/rc.d/init.d/rc 3
l4:4:wait:/etc/rc.d/init.d/rc 4
l5:5:wait:/etc/rc.d/init.d/rc 5
l6:6:wait:/etc/rc.d/init.d/rc 6

ca:12345:ctrlaltdel:/sbin/shutdown -t1 -a -r now

su:S016:once:/sbin/sulogin

1:2345:respawn:/sbin/agetty tty1 9600
2:2345:respawn:/sbin/agetty tty2 9600
3:2345:respawn:/sbin/agetty tty3 9600
4:2345:respawn:/sbin/agetty tty4 9600
5:2345:respawn:/sbin/agetty tty5 9600
6:2345:respawn:/sbin/agetty tty6 9600

# End /etc/inittab
EOF
***** End Code Block *****
\NewEntry
tar-1.15.91

***** Begin Code Block *****
./configure --prefix=/usr --bindir=/bin --libexecdir=/usr/sbin
make
make install
***** End Code Block *****
\NewEntry
texinfo-4.8

***** Begin Code Block *****
patch -Np1 -i ../patches/texinfo-4.8-multibyte-1.patch
patch -Np1 -i ../patches/texinfo-4.8-tempfile_fix-2.patch
./configure --prefix=/usr
make
make install
make TEXMF=/usr/share/texmf install-tex
***** End Code Block *****
\NewEntry
udev-096

***** Begin Code Block *****
tar xf ../packages/udev-config-20060715.tar.bz2
install -d /lib/{firmware,udev/devices/{pts,shm}}
mknod -m0666 /lib/udev/devices/null c 1 3
ln -s /proc/self/fd /lib/udev/devices/fd
ln -s /proc/self/fd/0 /lib/udev/devices/stdin
ln -s /proc/self/fd/1 /lib/udev/devices/stdout
ln -s /proc/self/fd/2 /lib/udev/devices/stderr
ln -s /proc/kcore /lib/udev/devices/core
make EXTRAS="extras/ata_id extras/cdrom_id extras/edd_id \
            extras/firmware extras/floppy extras/path_id \
            extras/scsi_id extras/usb_id extras/volume_id"
make DESTDIR=/ \
    EXTRAS="extras/ata_id extras/cdrom_id extras/edd_id \
            extras/firmware extras/floppy extras/path_id \
            extras/scsi_id extras/usb_id extras/volume_id" install
cp udev-config-20060715/[0-9]* /etc/udev/rules.d/
install -m644 -D docs/writing_udev_rules/index.html \
    /usr/share/doc/udev-096/index.html
***** End Code Block *****
\NewEntry
util-linux-2.12r

***** Begin Code Block *****
sed -i 's@etc/adjtime@var/lib/hwclock/adjtime@g' \
    hwclock/hwclock.c
mkdir -p /var/lib/hwclock
patch -Np1 -i ../patches/util-linux-2.12r-cramfs-1.patch
./configure
make HAVE_KILL=yes HAVE_SLN=yes
make HAVE_KILL=yes HAVE_SLN=yes install
***** End Code Block *****
\NewEntry
vim-7.0

The `make test' for vim exists, but outputs a lot of junk to the screen. It messes up my logs and shouldn't be a critical check, so it is skipped.

***** Begin Code Block *****
patch -Np1 -i ../patches/vim-7.0-fixes-7.patch
patch -Np1 -i ../patches/vim-7.0-mandir-1.patch
echo '#define SYS_VIMRC_FILE "/etc/vimrc"' >> src/feature.h
./configure --prefix=/usr --enable-multibyte
make
make install
rm -f /usr/share/vim/vim70/tutor/tutor.{gr,pl,ru,sk}
rm -f /usr/share/vim/vim70/tutor/tutor.??.*
ln -s vim /usr/bin/vi
for L in "" fr it pl ru; do
    ln -s vim.1 /usr/share/man/$L/man1/vi.1
done
ln -s ../vim/vim70/doc /usr/share/doc/vim-7.0
***** End Code Block *****
\NewEntry
net-tools-1.60

This package has been removed in favor of iproute2 in LFS. However, I prefer a few binaries out of it that aren't supplied elsewhere (will allow me to ease up to iproute2). Also, I prefer the net-tools version of hostname over coreutils. So, that is the only binary I replace, and it needs to be reflected in my package management logs.

***** Begin Code Block *****
patch -Np1 -i ../patches/net-tools-1.60-gcc34-3.patch
patch -Np1 -i ../patches/net-tools-1.60-kernel_headers-2.patch
patch -Np1 -i ../patches/net-tools-1.60-mii_ioctl-1.patch
yes "" | make config
sed -i -e 's|HAVE_IP_TOOLS 0|HAVE_IP_TOOLS 1|g' \
       -e 's|HAVE_MII 0|HAVE_MII 1|g' config.h
sed -i -e 's|# HAVE_IP_TOOLS=0|HAVE_IP_TOOLS=1|g' \
       -e 's|# HAVE_MII=0|HAVE_MII=1|g' config.make
make COPTS="-D_GNU_SOURCE -Wall $CFLAGS"
make update
***** End Code Block *****

NOTE: Update the coreutils package management log file. Only do this if the hostname binary was actually installed by coreutils.

***** Begin Code Block *****
sed -i '/\/bin\/hostname/d' /var/log/pinst/coreutils-*
sed -i '/\/usr\/share\/man\/man1\/hostname.1/d' \
    /var/log/pinst/coreutils-*
***** End Code Block *****

Add the following paths to the net-tools package management log (aside from the others that should be logged):
  /bin/hostname
  /usr/share/man/man1/hostname.1
\NewEntry
Not Used
\NewFolder
\NewEntry
hotplug-2004_09_23

***** Begin Code Block *****
make install
cp etc/hotplug/pnp.distmap /etc/hotplug
rm -rf /etc/init.d
rm -f /etc/hotplug/net.agent
***** End Code Block *****
\NewEntry
man-1.5p

***** Begin Code Block *****
sed -i 's@-is@&R@g' configure
sed -i 's@MANPATH./usr/man@#&@g' src/man.conf.in
./configure -confdir=/etc
make
make install
***** End Code Block *****
\NewEntry
cracklib-2.7

Install the `cracklib' wordlist (for best security):

NOTE: I don't install the heimdal patch since I don't normally have heimdal installed. If I choose to install heimdal, then install it prior to this package and use the heimdal cracklib patch as well.

***** Begin Code Block *****
install -d -m755 /usr/share/dict
install -m644 ../packages/cracklib /usr/share/dict
ln -sf cracklib /usr/share/dict/words
echo $(hostname) >> /usr/share/dict/extra.words
***** End Code Block *****

***** Begin Code Block *****
patch -Np1 -i ../patches/cracklib,2.7-blfs-1.patch
cp -R cracklib cracklib_krb5
patch -Np1 -i ../patches/cracklib,2.7-heimdal-1.patch
make install
rm /lib/libcrack.so
ln -sf ../../lib/libcrack.so.2.7 /usr/lib/libcrack.so
***** End Code Block *****
\NewEntry
tcl-8.4.9

***** Begin Code Block *****
export VERSION=8.4.9 &&
export V=`echo $VERSION | cut -d "." -f 1,2` &&
export DIR=$PWD &&
cd unix &&
./configure --prefix=/usr --enable-threads &&
make &&
sed -i "s:${DIR}/unix:/usr/lib:" tclConfig.sh &&
sed -i "s:${DIR}:/usr/include/tcl${V}:" tclConfig.sh &&
sed -i "s,^TCL_LIB_FILE='libtcl${V}..TCL_DBGX..so',\
TCL_LIB_FILE=\"libtcl${V}\$\{TCL_DBGX\}.so\"," tclConfig.sh &&
make install &&
install -d /usr/include/tcl${V}/unix &&
install -m644 *.h /usr/include/tcl${V}/unix/ &&
install -d /usr/include/tcl${V}/generic &&
install -c -m644 ../generic/*.h /usr/include/tcl${V}/generic/ &&
rm -f /usr/include/tcl${V}/generic/{tcl,tclDecls,tclPlatDecls}.h &&
ln -nsf ../../include/tcl${V} /usr/lib/tcl${V}/include &&
ln -sf libtcl${V}.so /usr/lib/libtcl.so &&
ln -sf tclsh${V} /usr/bin/tclsh &&
unset VERSION &&
unset V &&
unset DIR
***** End Code Block *****
\NewEntry
jdk-1_5_0-linux-i586 (java-1.5)

***** Begin Code Block *****
sh ./packages/jdk-1_5_0-linux-i586.bin
mv jdk1.5.0 /opt
ln -s /opt/jdk1.5.0 /opt/java
export JAVA_HOME=/opt/java
export PATH=$PATH:$JAVA_HOME/bin
***** End Code Block *****
\NewEntry
db-4.3.27

NOTE: Built with tcl and java support.

***** Begin Code Block *****
cd build_unix
../dist/configure --prefix=/usr \
    --enable-compat185 \
    --enable-cxx \
    --enable-tcl --with-tcl=/usr/lib \
    --enable-java
make LIBSO_LIBS="-lpthread" LIBXSO_LIBS="-lpthread"
make docdir=/usr/share/doc/db-4.3.27 install
chown root:root /usr/bin/db_* \
/usr/lib/libdb* /usr/include/db* &&
chown -R root:root /usr/share/doc/db-4.3.27
***** End Code Block *****
\NewEntry
linux-pam-0.78

Optional Packages:
  Berkeley DB *or* GDBM
    pam_userdb requires db.h/, see:
    http://olympus.het.brown.edu/doc/libpam-doc/html/pam-6.html#ss6.24

WARNING: Last time I installed this package it installed three man pages in the wrong location (under /man). Check for this and fix it the next time these directions are followed.

NOTE: Make sure to keep the already present OS_CFLAGS if this environment variable is over-ridden with the `make' command.

***** Begin Code Block *****
patch -Np1 -i ../patches/Linux-PAM-0.78-linkage-2.patch
autoconf
./configure --enable-static-libpam --with-mailspool=/var/mail \
    --enable-read-both-confs --sysconfdir=/etc
make OS_CFLAGS="$CFLAGS -ansi -D_POSIX_SOURCE -pedantic"
make install
mv /lib/libpam.a /lib/libpam_misc.a /lib/libpamc.a /usr/lib
rm /lib/libpam{,c,_misc}.so
ln -sf ../../lib/libpam.so.0.78 /usr/lib/libpam.so
ln -sf ../../lib/libpam_misc.so.0.78 /usr/lib/libpam_misc.so
ln -sf ../../lib/libpamc.so.0.78 /usr/lib/libpamc.so
mv /man/man8/* /usr/share/man/man8
***** End Code Block *****
\NewEntry
pcre-5.0

Forward Dependencies:
    nmap

***** Begin Code Block *****
./configure --prefix=/usr --enable-utf8
make
make install
mv /usr/lib/libpcre.so.* /lib/
ln -sf ../../lib/libpcre.so.0 /usr/lib/libpcre.so
***** End Code Block *****
\NewEntry
metalog-0.8-rc1

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Reiser4 Support
\NewFolder
\NewEntry
libaal-1.0.3

***** Begin Code Block *****
./configure --prefix=/usr --enable-libminimal
make
make install
***** End Code Block *****
\NewEntry
reiser4progs-1.0.3

NOTE: unset CFLAGS CXXFLAGS, it looks like this package was hand optimized. Defer to their judgement.

***** Begin Code Block *****
./configure --prefix=/usr --enable-libminimal
make
make install
***** End Code Block *****
\NewEntry
Grub-0.95 (Reiser4 support)

Unset CFLAGS before compiling this package.

***** Begin Code Block *****
cat ../patches/grub-0.95-reiser4-20041021.diff | patch -p1
aclocal
autoheader
autoconf
automake --add-missing
./configure --prefix=/usr
make
make install
mkdir /boot/grub
cp /usr/share/grub/i386-pc/stage{1,2} /boot/grub
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
Stripping

***** Begin Code Block *****
logout
***** End Code Block *****

***** Begin Code Block *****
chroot $LFS /tools/bin/env -i \
    HOME=/root TERM=$TERM PS1='\u:\w\$ ' \
    PATH=/bin:/usr/bin:/sbin:/usr/sbin \
    /tools/bin/bash --login
***** End Code Block *****

***** Begin Code Block *****
/tools/bin/find /{,usr/}{bin,lib,sbin} -type f \
   -exec /tools/bin/strip --strip-debug '{}' ';'
***** End Code Block *****
\NewEntry
Revised Chroot

***** Begin Code Block *****
chroot "$LFS" /usr/bin/env -i \
    HOME=/root TERM="$TERM" PS1='\u:\w\$ ' \
    PATH=/bin:/usr/bin:/sbin:/usr/sbin \
    /bin/bash --login
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
Cross LFS
\NewFolder
\NewEntry
Chapter 5
\NewFolder
\NewEntry
Linux-Libc-Headers-2.6.12.0

***** Begin Code Block *****
patch -Np1 -i ../patches/linux-libc-headers-2.6.12.0-x86_64_biarch-1.patch
install -dv /tools/include
cp -Rv include/asm-i386 /tools/include/
cp -Rv include/asm-x86_64 /tools/include/
cp -Rv include/asm-x86_64-biarch /tools/include/asm
cp -Rv include/linux /tools/include
***** End Code Block *****
\NewEntry
Cross Binutils-2.16.1

***** Begin Code Block *****
patch -Np1 -i ../patches/binutils-2.16.1-posix-1.patch
patch -Np1 -i ../patches/binutils-2.16.1-genscripts_multilib-1.patch
mkdir -v ../binutils-build
cd ../binutils-build
../binutils-2.16.1/configure --prefix=/cross-tools \
   --host=${LFS_HOST} --target=${LFS_TARGET} --with-lib-path=/tools/lib \
   --disable-nls --enable-shared --enable-64-bit-bfd
make configure-host
make
make install
cp -v ../binutils-2.16.1/include/libiberty.h /tools/include
***** End Code Block *****
\NewEntry
Glibc-2.3.6 Headers

***** Begin Code Block *****
mkdir -v ../glibc-build
cd ../glibc-build
echo "libc_cv_forced_unwind=yes" > config.cache
echo "libc_cv_c_cleanup=yes" >> config.cache
echo "libc_cv_initfini_array=yes" >> config.cache
CC=gcc ../glibc-2.3.6/configure --prefix=/tools \
    --host=${LFS_TARGET} --build=${LFS_HOST} \
    --disable-sanity-checks --enable-kernel=2.6.0 \
    --with-headers=/tools/include --cache-file=config.cache \
    --with-binutils=/cross-tools/${LFS_TARGET}/bin
make install-headers
cp -v bits/stdio_lim.h /tools/include/bits
touch /tools/include/gnu/stubs.h
cp -v \
../glibc-2.3.6/nptl/sysdeps/pthread/pthread.h \
/tools/include
cp -v ../glibc-2.3.6/nptl/sysdeps/unix/sysv/linux/x86_64/bits/pthreadtypes.h /tools/include/bits/
***** End Code Block *****
\NewEntry
Cross GCC-4.0.2 - Static

***** Begin Code Block *****
patch -Np1 -i ../patches/gcc-4.0.2-specs-1.patch
patch -Np1 -i ../patches/gcc-4.0.2-posix-1.patch
patch -Np1 -i ../patches/gcc-4.0.2-cross_search_paths-1.patch
echo "
#undef STARTFILE_PREFIX_SPEC
#define STARTFILE_PREFIX_SPEC \"/tools/lib/\"" >> gcc/config/linux.h
cp -v gcc/Makefile.in{,.orig}
sed -e "s@\(^CROSS_SYSTEM_HEADER_DIR =\).*@\1 /tools/include@g" \
 gcc/Makefile.in.orig > gcc/Makefile.in
mkdir -v ../gcc-build
cd ../gcc-build
../gcc-4.1.0/configure --prefix=/cross-tools \
    --host=${LFS_HOST} --target=${LFS_TARGET} \
    --with-local-prefix=/tools --disable-nls --disable-shared \
    --disable-threads --enable-languages=c
make all-gcc
make install-gcc
***** End Code Block *****
\NewEntry
Glibc-2.3.6 32 Bit

***** Begin Code Block *****
patch -Np1 -i ../patches/glibc-20051107-libgcc_eh-1.patch
mkdir -v ../glibc-build
cd ../glibc-build
echo "libc_cv_forced_unwind=yes" > config.cache
echo "libc_cv_c_cleanup=yes" >> config.cache
BUILD_CC="gcc" CC="${LFS_TARGET}-gcc ${BUILD32}" \
    AR="${LFS_TARGET}-ar" RANLIB="${LFS_TARGET}-ranlib" \
    ../glibc-2.3.6/configure --prefix=/tools \
    --host=${LFS_TARGET32} --build=${LFS_HOST} \
    --disable-profile --enable-add-ons \
    --with-tls --enable-kernel=2.6.0 --with-__thread \
    --with-binutils=/cross-tools/bin --with-headers=/tools/include \
    --cache-file=config.cache
make
make install
***** End Code Block *****
\NewEntry
Glibc-2.3.6 64-Bit

***** Begin Code Block *****
patch -Np1 -i ../patches/glibc-20051107-libgcc_eh-1.patch
mkdir -v ../glibc-build
cd ../glibc-build
echo "libc_cv_forced_unwind=yes" > config.cache
echo "libc_cv_c_cleanup=yes" >> config.cache
echo "slibdir=/tools/lib64" >> configparms
BUILD_CC="gcc" CC="${LFS_TARGET}-gcc ${BUILD64}" \
    AR="${LFS_TARGET}-ar" RANLIB="${LFS_TARGET}-ranlib" \
    ../glibc-2.3.6/configure --prefix=/tools \
    --host=${LFS_TARGET} --build=${LFS_HOST} --libdir=/tools/lib64 \
    --disable-profile --enable-add-ons \
    --with-tls --enable-kernel=2.6.0 --with-__thread \
    --with-binutils=/cross-tools/bin --with-headers=/tools/include \
    --cache-file=config.cache
make
make install
***** End Code Block *****
\NewEntry
GCC-4.1.0 - Cross Compiler Final

***** Begin Code Block *****
patch -Np1 -i ../patches/gcc-4.1.0-specs-1.patch
patch -Np1 -i ../patches/gcc-4.0.2-posix-1.patch
patch -Np1 -i ../patches/gcc-4.0.2-cross_search_paths-1.patch
echo "
#undef STARTFILE_PREFIX_SPEC
#define STARTFILE_PREFIX_SPEC \"/tools/lib/\"" >> gcc/config/linux.h
cp -v gcc/Makefile.in{,.orig}
sed -e "s@\(^CROSS_SYSTEM_HEADER_DIR =\).*@\1 /tools/include@g" \
 gcc/Makefile.in.orig > gcc/Makefile.in
cp -v configure{,.orig}
sed -e  '/FLAGS_FOR_TARGET.*\/lib\//s@-B[^ ]*/lib/@@g' configure.orig >configure
mkdir -v ../gcc-build
cd ../gcc-build
../gcc-4.1.0/configure --prefix=/cross-tools \
    --target=${LFS_TARGET} --host=${LFS_HOST} \
    --with-local-prefix=/tools --disable-nls --enable-shared \
    --enable-languages=c,c++ --enable-__cxa_atexit \
    --enable-c99 --enable-long-long --enable-threads=posix
make AS_FOR_TARGET="/cross-tools/bin/${LFS_TARGET}-as" \
LD_FOR_TARGET="/cross-tools/bin/${LFS_TARGET}-ld"
make install
***** End Code Block *****
\EndFolder
\NewEntry
Chapter 6
\NewFolder
\NewEntry
Binutils-2.16.1

***** Begin Code Block *****
patch -Np1 -i ../patches/binutils-2.16.1-posix-1.patch
patch -Np1 -i ../patches/binutils-2.16.1-genscripts_multilib-1.patch
mkdir -v ../binutils-build
cd ../binutils-build
CC="${CC} ${BUILD64}" \
     ../binutils-2.16.1/configure --prefix=/tools \
     --libdir=/tools/lib64 --with-lib-path=/tools/lib \
     --build=${LFS_HOST} --host=${LFS_TARGET} --target=${LFS_TARGET} \
     --disable-nls --enable-shared --enable-64-bit-bfd
make configure-host
make
make install
***** End Code Block *****
\NewEntry
GCC-4.0.2

***** Begin Code Block *****
patch -Np1 -i ../patches/gcc-4.1.0-specs-1.patch
patch -Np1 -i ../patches/gcc-4.0.2-posix-1.patch
patch -Np1 -i ../patches/gcc-4.0.2-cross_search_paths-1.patch
cp -v gcc/cppdefault.c{,.orig}
sed -e '/#define STANDARD_INCLUDE_DIR/s@"/usr/include"@0@g' \
   gcc/cppdefault.c.orig > gcc/cppdefault.c
cp -v gcc/Makefile.in{,.orig}
sed -e 's@\(^NATIVE_SYSTEM_HEADER_DIR =\).*@\1 /tools/include@g' \
   gcc/Makefile.in.orig > gcc/Makefile.in
cp -v gcc/mklibgcc.in{,.orig}
sed -e "s@\./xgcc@/cross-tools/bin/${CC}@g" \
   gcc/mklibgcc.in.orig > gcc/mklibgcc.in
cp -v gcc/Makefile.in{,.orig2}
sed -e "/MULTILIBS/s@\$(GCC_FOR_TARGET)@/cross-tools/bin/${CC}@g" \
   gcc/Makefile.in.orig2 > gcc/Makefile.in
mkdir -v ../gcc-build
cd ../gcc-build
CC="${CC} ${BUILD64}" CXX="${CXX} ${BUILD64}" \
    ../gcc-4.1.0/configure --prefix=/tools --libdir=/tools/lib64 \
    --build=${LFS_HOST} --host=${LFS_TARGET} --target=${LFS_TARGET} \
    --with-local-prefix=/tools --enable-long-long --enable-c99 \
    --enable-shared --enable-threads=posix --enable-__cxa_atexit \
    --disable-nls --enable-languages=c,c++ --disable-libstdcxx-pch
make AS_FOR_TARGET="/cross-tools/bin/${LFS_TARGET}-as" \
LD_FOR_TARGET="/cross-tools/bin/${LFS_TARGET}-ld"
make install
ln -sv gcc /tools/bin/cc
***** End Code Block *****
\NewEntry
Gawk-3.1.5

***** Begin Code Block *****
CC="${CC} ${BUILD64}" \
   ./configure --prefix=/tools \
   --build=${LFS_HOST} --host=${LFS_TARGET}
make
make install
***** End Code Block *****
\NewEntry
Coreutils-5.94

***** Begin Code Block *****
echo "utils_cv_sys_open_max=1024" >> config.cache
CC="${CC} ${BUILD64}" \
   ./configure --prefix=/tools --cache-file=config.cache \
   --build=${LFS_HOST} --host=${LFS_TARGET}
make
make install
***** End Code Block *****
\NewEntry
Bzip2-1.0.3

***** Begin Code Block *****
sed -i -e 's@^\(all:.*\) test@\1@g' \
    -e 's@/lib\(/\| \|$\)@/lib64\1@g' Makefile
make CC="${CC} ${BUILD64}" AR="${AR}" RANLIB="${RANLIB}"
make PREFIX=/tools install
***** End Code Block *****
\NewEntry
Gzip-1.3.5

***** Begin Code Block *****
cp -v configure{,.orig}
sed -e "s@nm conftest@${LFS_TARGET}-&@" configure.orig > configure
CC="${CC} ${BUILD64}" ./configure --prefix=/tools \
  --host=${LFS_TARGET}
make
make install
***** End Code Block *****
\NewEntry
Diffutils-2.8.7

***** Begin Code Block *****
CC="${CC} ${BUILD64}" ./configure --prefix=/tools \
  --host=${LFS_TARGET}
make
make install
***** End Code Block *****
\NewEntry
Findutils-4.2.27

***** Begin Code Block *****
echo "am_cv_func_working_getline=yes" >> config.cache
CC="${CC} ${BUILD64}" ./configure --prefix=/tools \
   --host=${LFS_TARGET} --cache-file=config.cache
make
make install
***** End Code Block *****
\NewEntry
Make-3.80

***** Begin Code Block *****
CC="${CC} ${BUILD64}" ./configure --prefix=/tools \
   --host=${LFS_TARGET}
make
make install
***** End Code Block *****
\NewEntry
Grep-2.5.1a

***** Begin Code Block *****
CC="${CC} ${BUILD64}" ./configure --prefix=/tools \
   --host=${LFS_TARGET} --disable-perl-regexp
make
make install
***** End Code Block *****
\NewEntry
Sed-4.1.5

***** Begin Code Block *****
CC="${CC} ${BUILD64}" ./configure --prefix=/tools \
   --host=${LFS_TARGET}
make
make install
***** End Code Block *****
\NewEntry
Gettext-0.14.5

***** Begin Code Block *****
cd gettext-tools
echo "am_cv_func_working_getline=yes" >> config.cache
CC="${CC} ${BUILD64}" CXX="${CXX} ${BUILD64}" \
   ./configure --prefix=/tools \
   --host=${LFS_TARGET} --disable-shared \
   --cache-file=config.cache
make -C lib
make -C src msgfmt
cp -v src/msgfmt /tools/bin
***** End Code Block *****
\NewEntry
Ncurses-5.5

***** Begin Code Block *****
CC="${CC} ${BUILD64}" CXX="${CXX} ${BUILD64}" \
   ./configure --prefix=/tools --with-shared \
   --host=${LFS_TARGET} --without-debug --without-ada \
   --enable-overwrite --with-build-cc=gcc --libdir=/tools/lib64
make
make install
***** End Code Block *****
\NewEntry
Patch-2.5.9

***** Begin Code Block *****
CC="${CC} ${BUILD64}" ./configure --prefix=/tools \
    --host=${LFS_TARGET}
make
make install
***** End Code Block *****
\NewEntry
Tar-1.15.1

***** Begin Code Block *****
echo "am_cv_func_working_getline=yes" >> config.cache
CC="${CC} ${BUILD64}" ./configure --prefix=/tools \
   --host=${LFS_TARGET} --cache-file=config.cache
make
make install
***** End Code Block *****
\NewEntry
Bash-3.1

***** Begin Code Block *****
cp -v Makefile.in Makefile.in.orig
sed -e "s@size \$(Program)@${LFS_TARGET}-&@g"  Makefile.in.orig > Makefile.in
echo "ac_cv_func_setvbuf_reversed=no" >> config.cache
CC="${CC} ${BUILD64}" CXX="${CXX} ${BUILD64}" \
   ./configure --prefix=/tools \
   --without-bash-malloc --host=${LFS_TARGET} \
   --cache-file=config.cache
make
make install
ln -sv bash /tools/bin/sh
***** End Code Block *****
\NewEntry
Texinfo-4.8

***** Begin Code Block *****
CC="${CC} ${BUILD64}" ./configure --prefix=/tools \
   --host=${LFS_TARGET}
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
Chapter 8 - Chroot
\NewFolder
\NewEntry
Util-linux-2.12r

***** Begin Code Block *****
patch -Np1 -i ../patches/util-linux-2.12r-gcc4_fixes-1.patch
cp -v configure configure.orig
sed -e 's@/usr/include@/tools/include@g' configure.orig > configure
CC="${CC} ${BUILD64}" ./configure
make ARCH="" CPU="" -C lib
make ARCH="" CPU="" -C mount mount umount
make ARCH="" CPU="" -C text-utils more
cp -v mount/{,u}mount text-utils/more /tools/bin
***** End Code Block *****
\NewEntry
Mounting Virtual Kernel File Systems

***** Begin Code Block *****
mkdir -p $LFS/{proc,sys}
mount -t proc proc $LFS/proc
mount -t sysfs sysfs $LFS/sys
mount -f -t tmpfs tmpfs $LFS/dev
mount -f -t tmpfs tmpfs $LFS/dev/shm
mount -f -t devpts -o gid=10,mode=620 devpts $LFS/dev/pts
***** End Code Block *****
\NewEntry
Entering the Chroot Environment

***** Begin Code Block *****
chroot "$LFS" /tools/bin/env -i \
    HOME=/root TERM="$TERM" PS1='\u:\w\$ ' \
    PATH=/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin \
    /tools/bin/bash --login +h
***** End Code Block *****
\NewEntry
Changing Ownership

***** Begin Code Block *****
chown -Rv 0:0 /tools
chown -Rv 0:0 /cross-tools
***** End Code Block *****
\NewEntry
Creating Directories

***** Begin Code Block *****
install -dv /{bin,boot,dev,etc/opt,home,lib{,64},mnt}
install -dv /{sbin,srv,usr/local,var,opt,proc,sys}
install -dv /root -m 0750
install -dv /tmp /var/tmp -m 1777
install -dv /media/{floppy,cdrom}
install -dv /usr/{bin,include,lib{,64},sbin,share,src}
ln -sv share/{man,doc,info} /usr
install -dv /usr/share/{doc,info,locale,man}
install -dv /usr/share/{misc,terminfo,zoneinfo}
install -dv /usr/share/man/man{1,2,3,4,5,6,7,8}
install -dv /usr/local/{bin,etc,include,lib{,64},sbin,share,src}
ln -sv share/{man,doc,info} /usr/local
install -dv /usr/local/share/{doc,info,locale,man}
install -dv /usr/local/share/{misc,terminfo,zoneinfo}
install -dv /usr/local/share/man/man{1,2,3,4,5,6,7,8}
install -dv /var/{lock,log,mail,run,spool}
install -dv /var/{opt,cache,lib{,64}/{misc,locate},local}
install -dv /opt/{bin,doc,include,info}
install -dv /opt/{lib{,64},man/man{1,2,3,4,5,6,7,8}}
install -dv /usr/lib/locale
ln -sv ../lib/locale /usr/lib64
install -dv /usr/local/games /usr/share/games
***** End Code Block *****
\NewEntry
Creating Essential Symlinks

***** Begin Code Block *****
ln -s /tools/bin/{bash,cat,pwd,stty} /bin
ln -s /tools/lib/libgcc_s.so{,.1} /usr/lib
ln -s /tools/lib64/libgcc_s.so{,.1} /usr/lib64
ln -s bash /bin/sh
***** End Code Block *****
\NewEntry
Build Flags

***** Begin Code Block *****
export BUILD32="-m32"
export BUILD64="-m64"
export LFS_TARGET32="i686-pc-linux-gnu"
echo export BUILD32=\""${BUILD32}\"" >> ~/.bash_profile
echo export BUILD64=\""${BUILD64}\"" >> ~/.bash_profile
echo export LFS_TARGET32=\""${LFS_TARGET32}\"" >> ~/.bash_profile
***** End Code Block *****
\NewEntry
Creating the passwd, group, and log Files

***** Begin Code Block *****
cat > /etc/passwd << "EOF"
root::0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/bin/false
daemon:x:2:2:daemon:/sbin:/bin/false
adm:x:3:4:adm:/var/adm:/bin/false
lp:x:10:18:lp:/var/spool/lp:/bin/false
mail:x:30:30:mail:/var/spool/mail:/bin/false
news:x:31:31:news:/var/spool/news:/bin/false
uucp:x:32:32:uucp:/var/spool/uucp:/bin/false
operator:x:50:0:operator:/root:/bin/bash
postmaster:x:51:30:postmaster:/var/spool/mail:/bin/false
nobody:x:65534:65534:nobody:/:/bin/false
EOF
cat > /etc/group << "EOF"
root::0:root
bin::1:root,bin,daemon
daemon::2:root,bin,daemon
sys::3:root,bin,adm
adm::4:root,adm,daemon
kmem::5:
utmp::6:
tty::10:
video::11:root
console::12:
disk::13:root,adm
floppy::14:root
cdrom::15:
cdrw::16:
tape::17:root
lp::18:lp
usb::19:
audio::20:
dialout::21:root
mail::30:mail
news::31:news
uucp::32:uucp
users::100:
nogroup::65533:
nobody::65534:
EOF
exec /tools/bin/bash --login +h
touch /var/run/utmp /var/log/{btmp,lastlog,wtmp}
chgrp -v utmp /var/run/utmp /var/log/lastlog
chmod -v 664 /var/run/utmp /var/log/lastlog
chmod -v 600 /var/log/btmp
***** End Code Block *****
\NewEntry
Populating /dev

***** Begin Code Block *****
mknod -m 600 /dev/console c 5 1
mknod -m 666 /dev/null c 1 3
mount -n -vt tmpfs none /dev
mknod -m 622 /dev/console c 5 1
mknod -m 666 /dev/null c 1 3
mknod -m 666 /dev/zero c 1 5
mknod -m 666 /dev/ptmx c 5 2
mknod -m 666 /dev/tty c 5 0
mknod -m 444 /dev/random c 1 8
mknod -m 444 /dev/urandom c 1 9
chown -v root:tty /dev/{console,ptmx,tty}
ln -sv /proc/self/fd /dev/fd
ln -sv /proc/self/fd/0 /dev/stdin
ln -sv /proc/self/fd/1 /dev/stdout
ln -sv /proc/self/fd/2 /dev/stderr
ln -sv /proc/kcore /dev/core
mkdir -v /dev/pts
mkdir -v /dev/shm
mount -vt devpts -o gid=4,mode=620 none /dev/pts
mount -vt tmpfs none /dev/shm
***** End Code Block *****
\EndFolder
\NewEntry
Chapter 9
\NewFolder
\NewEntry
Tcl-8.4.12

***** Begin Code Block *****
cd unix
sed -i "s/relid'/relid/" configure
sed -i 's@\$(prefix)/lib@\$(prefix)/lib64@g' Makefile.in
CC="gcc ${BUILD64}" ./configure --prefix=/tools --libdir=/tools/lib64
make
make install
make install-private-headers
ln -sv tclsh8.4 /tools/bin/tclsh
***** End Code Block *****
\NewEntry
Expect-5.38.0

***** Begin Code Block *****
patch -Np1 -i ../patches/expect-5.44.1-spawn-1.patch
CC="gcc ${BUILD64}" ./configure --prefix=/tools \
   --with-tcl=/tools/lib64 --with-tclinclude=/tools/include  \
   --libdir=/tools/lib64 --with-x=no
make
make SCRIPTS="" install
***** End Code Block *****
\NewEntry
DejaGNU-1.4.4

***** Begin Code Block *****
./configure --prefix=/tools
make install
***** End Code Block *****
\NewEntry
Tree-1.5.0

***** Begin Code Block *****
make
make prefix=/tools install
***** End Code Block *****
\EndFolder
\NewEntry
Chapter 10
\NewFolder
\NewEntry
Temporary Perl-5.8.8

***** Begin Code Block *****
patch -Np1 -i ../patches/perl-5.8.8-libc-1.patch
./configure.gnu --prefix=/tools -Dstatic_ext='Data/Dumper IO Fcntl POSIX' -Dcc="gcc ${BUILD32}"
make perl utilities
cp -v perl pod/pod2man /tools/bin
install -dv /tools/lib/perl5/5.8.8
cp -Rv lib/* /tools/lib/perl5/5.8.8
ln -sv /tools/bin/perl /usr/bin
***** End Code Block *****
\NewEntry
pinst (Package Installer)

Copy over the current version of `pinst', which can also be found here:
http://blackhole.cs.uwec.edu/~munozga/scripts/pinst

Place it in /bin within the chroot environment, and make sure the permissions are set 0755.

Outside the chroot environment:

***** Begin Code Block *****
wget http://blackhole.cs.uwec.edu/~munozga/scripts/pinst
mv pinst $LFS/sbin
chmod 0755 $LFS/sbin/pinst
wget http://blackhole.cs.uwec.edu/~munozga/scripts/pdel.pl
mv pdel.pl $LFS/sbin/pdel
chmod 0755 $LFS/sbin/pdel
***** End Code Block *****

Inside the chroot environment:

***** Begin Code Block *****
mkdir /var/log/pinst
***** End Code Block *****
\NewEntry
Linux-Libc-Headers-2.6.12.0

***** Begin Code Block *****
patch -Np1 -i ../patches/linux-libc-headers-2.6.12.0-x86_64_biarch-1.patch
install -d /usr/include/{asm,asm-i386,asm-x86_64,linux,mtd,scsi}
cp -a include/asm-i386/* /usr/include/asm-i386
cp -a include/asm-x86_64/* /usr/include/asm-x86_64
cp -a include/asm-x86_64-biarch/* /usr/include/asm
cp -a include/linux/* /usr/include/linux
cp -a include/mtd/* /usr/include/mtd
cp -a include/scsi/* /usr/include/scsi
chown -R root:root /usr/include/{asm,asm-i386,asm-x86_64,linux,mtd,scsi}
find /usr/include/{asm,asm-i386,asm-x86_64,linux,mtd,scsi} -type d -exec chmod 755 {} \;
find /usr/include/{asm,asm-i386,asm-x86_64,linux,mtd,scsi} -type f -exec chmod 644 {} \;
***** End Code Block *****
\NewEntry
Glibc-2.3.6 32 Bit Libraries

***** Begin Code Block *****
patch -Np1 -i ../patches/glibc-20051107-localedef_segfault-1.patch
mkdir -v ../glibc-build
cd ../glibc-build
CC="gcc ${BUILD32}" CXX="g++ ${BUILD32}" \
    ../glibc-2.3.6/configure --prefix=/usr \
    --disable-profile --enable-add-ons --enable-kernel=2.6.0 \
    --libexecdir=/usr/lib/glibc --host=${LFS_TARGET32}
make
make -k check >glibc-check-log 2>&1 ; grep Error glibc-check-log
touch /etc/ld.so.conf
make install
***** End Code Block *****
\NewEntry
Glibc-2.3.6 64-Bit

***** Begin Code Block *****
patch -Np1 -i ../patches/glibc-20051107-localedef_segfault-1.patch
mkdir -v ../glibc-build
cd ../glibc-build
echo "slibdir=/lib64" >> configparms
CC="gcc ${BUILD64}" CXX="g++ ${BUILD64}" \
    ../glibc-2.3.6/configure --prefix=/usr \
    --disable-profile --enable-add-ons --enable-kernel=2.6.0 \
    --libexecdir=/usr/lib64/glibc --libdir=/usr/lib64
make
make check
make install
mkdir -pv /usr/lib/locale
localedef -i de_DE -f ISO-8859-1 de_DE
localedef -i de_DE@euro -f ISO-8859-15 de_DE@euro
localedef -i en_HK -f ISO-8859-1 en_HK
localedef -i en_PH -f ISO-8859-1 en_PH
localedef -i en_US -f ISO-8859-1 en_US
localedef -i es_MX -f ISO-8859-1 es_MX
localedef -i fa_IR -f UTF-8 fa_IR
localedef -i fr_FR -f ISO-8859-1 fr_FR
localedef -i fr_FR@euro -f ISO-8859-15 fr_FR@euro
localedef -i it_IT -f ISO-8859-1 it_IT
localedef -i ja_JP -f EUC-JP ja_JP
***** End Code Block *****

***** Begin Code Block *****
cat > /etc/nsswitch.conf << "EOF"
# Begin /etc/nsswitch.conf

passwd: files
group: files
shadow: files

hosts: files dns
networks: files

protocols: files
services: files
ethers: files
rpc: files

# End /etc/nsswitch.conf
EOF
cp --remove-destination /usr/share/zoneinfo/America/Chicago \
    /etc/localtime
cat > /etc/ld.so.conf << "EOF"
# Begin /etc/ld.so.conf

/usr/local/lib
/usr/local/lib64
/opt/lib
/opt/lib64

# End /etc/ld.so.conf
EOF
***** End Code Block *****

GCONV_PATH=/usr/src/glibc-build/iconvdata LC_ALL=C   /usr/src/glibc-build/elf/ld-linux-x86-64.so.2 --library-path /usr/src/glibc-build:/usr/src/glibc-build/math:/usr/src/glibc-build/elf:/usr/src/glibc-build/dlfcn:/usr/src/glibc-build/nss:/usr/src/glibc-build/nis:/usr/src/glibc-build/rt:/usr/src/glibc-build/resolv:/usr/src/glibc-build/crypt:/usr/src/glibc-build/nptl /usr/src/glibc-build/nptl/tst-cancelx4  > /usr/src/glibc-build/nptl/tst-cancelx4.out
Didn't expect signal from child: got `Aborted'
make[2]: *** [/usr/src/glibc-build/nptl/tst-cancelx4.out] Error 1
make[2]: Leaving directory `/usr/src/glibc-2.3.6/nptl'
make[1]: *** [nptl/tests] Error 2
make[1]: Leaving directory `/usr/src/glibc-2.3.6'
make: *** [check] Error 2
\NewEntry
Adjusting the Toolchain

***** Begin Code Block *****
gcc -dumpspecs | \
perl -p -e 's@/tools/lib/ld@/lib/ld@g;' \
     -e 's@/tools/lib64/ld@/lib64/ld@g;' \
     -e 's@\*startfile_prefix_spec:\n@$_/usr/lib/ @g;' > \
     `dirname $(gcc --print-libgcc-file-name)`/specs
***** End Code Block *****

Test 32 bit API:

***** Begin Code Block *****
echo 'main(){}' > dummy.c
cc ${BUILD32} dummy.c
readelf -l a.out | grep ': /lib'
rm dummy.c a.out
***** End Code Block *****

Test 64 bit API:

***** Begin Code Block *****
echo 'main(){}' > dummy.c
cc ${BUILD64} dummy.c
readelf -l a.out | grep ': /lib'
rm dummy.c a.out
***** End Code Block *****
\NewEntry
Binutils-2.16.1

***** Begin Code Block *****
expect -c "spawn ls"
***** End Code Block *****

***** Begin Code Block *****
patch -Np1 -i ../patches/binutils-2.16.1-genscripts_multilib-1.patch
mkdir ../binutils-build
cd ../binutils-build
CC="gcc ${BUILD64}" ../binutils-2.16.1/configure --prefix=/usr \
    --enable-shared --enable-64-bit-bfd --libdir=/usr/lib64
make configure-host
make tooldir=/usr
make check
make tooldir=/usr install
cp ../binutils-2.16.1/include/libiberty.h /usr/include
***** End Code Block *****

                === binutils Summary ===

# of expected passes            29
# of unresolved testcases       4

Running /usr/src/binutils-2.16.1/binutils/testsuite/binutils-all/objcopy.exp ...Version /usr/src/binutils-build/binutils/objcopy 2.16.1
WARNING: program timed out.
ERROR: unresolved setup, status = fail
\NewEntry
GCC-4.1.0

***** Begin Code Block *****
sed -i 's/install_to_$(INSTALL_DEST) //' libiberty/Makefile.in
sed -i 's/@have_mktemp_command@/yes/' gcc/gccbug.in
mkdir ../gcc-build
cd ../gcc-build
CC="gcc ${BUILD64}" CXX="g++ ${BUILD64}" \
    ../gcc-4.1.0/configure --prefix=/usr --libdir=/usr/lib64 \
    --libexecdir=/usr/lib64 --enable-shared --enable-threads=posix \
    --enable-__cxa_atexit --enable-c99 --enable-long-long \
    --enable-clocale=gnu --enable-languages=c,c++ --disable-libstdcxx-pch
make bootstrap
make -k check
../gcc-4.1.0/contrib/test_summary
make install
ln -s ../usr/bin/cpp /lib
ln -s gcc /usr/bin/cc
***** End Code Block *****
\NewEntry
Coreutils-5.94

***** Begin Code Block *****
patch -Np1 -i ../patches/coreutils-5.94-uname-1.patch
patch -Np1 -i ../patches/coreutils-5.94-suppress_uptime_kill_su-1.patch
CC="gcc ${BUILD64}" ./configure --prefix=/usr
make
echo "dummy1:x:1000:" >> /etc/group
echo "dummy2:x:1001:dummy" >> /etc/group
echo "dummy:x:1000:1000::/root:/bin/bash" >> /etc/passwd
make NON_ROOT_USERNAME=dummy check-root
src/su dummy -c "make RUN_EXPENSIVE_TESTS=yes check"
sed -i '/dummy/d' /etc/passwd /etc/group
make install
mv /usr/bin/{[,basename,cat,chgrp,chmod,chown,cp} /bin
mv /usr/bin/{date,dd,df,echo,false,hostname,install,ln} /bin
mv /usr/bin/{ls,mkdir,mknod,mv,nice,pwd,readlink,rm,rmdir,sync} /bin
mv /usr/bin/{stty,test,touch,true,uname} /bin
mv /usr/bin/chroot /usr/sbin
ln -sf ../../bin/install /usr/bin
mv /usr/bin/{head,sleep} /bin
***** End Code Block *****
\NewEntry
Zlib-1.2.3 32 Bit Libraries

***** Begin Code Block *****
patch -Np1 -i ../patches/zlib-1.2.3-fPIC-1.patch
CC="gcc ${BUILD32}" CXX="g++ ${BUILD32}" ./configure --prefix=/usr \
   --shared
make
make install
mv /usr/lib/libz.so.* /lib
ln -sf ../../lib/libz.so.1 /usr/lib/libz.so
chmod 644 /usr/lib/libz.a
***** End Code Block *****
\NewEntry
Zlib-1.2.3 64 Bit

***** Begin Code Block *****
patch -Np1 -i ../patches/zlib-1.2.3-fPIC-1.patch
CC="gcc ${BUILD64}" CXX="g++ ${BUILD64}" ./configure --prefix=/usr \
   --shared --libdir=/usr/lib64
make
make install
mv /usr/lib64/libz.so.* /lib64
ln -sf ../../lib64/libz.so.1 /usr/lib64/libz.so
chmod 644 /usr/lib64/libz.a
***** End Code Block *****
\NewEntry
Iana-Etc-2.00

***** Begin Code Block *****
make
make install
***** End Code Block *****
\NewEntry
Findutils-4.2.27

***** Begin Code Block *****
CC="gcc ${BUILD64}" ./configure --prefix=/usr \
    --libexecdir=/usr/lib64/locate --localstatedir=/var/lib64/locate
make
make install
***** End Code Block *****
\NewEntry
Gawk-3.1.5

***** Begin Code Block *****
patch -Np1 -i ../patches/gawk-3.1.5-segfault_fix-1.patch
CC="gcc ${BUILD64}" ./configure --prefix=/usr \
   --libexecdir=/usr/lib64
echo '#define HAVE_LC_MESSAGES 1' >> config.h
make
make install
***** End Code Block *****
\NewEntry
Ncurses-5.5 32 Bit Libraries

***** Begin Code Block *****
CC="gcc ${BUILD32}" CXX="g++ ${BUILD32}" \
   ./configure --prefix=/usr --libdir=/lib \
   --with-shared --without-debug
make
make install
mv /lib/lib{panel,menu,form,ncurses,ncurses++,curses}.a /usr/lib
rm /lib/lib{ncurses,menu,panel,form,curses}.so
ln -sf ../../lib/libncurses.so.5 /usr/lib/libcurses.so
ln -sf ../../lib/libncurses.so.5 /usr/lib/libncurses.so
ln -sf ../../lib/libmenu.so.5 /usr/lib/libmenu.so
ln -sf ../../lib/libpanel.so.5 /usr/lib/libpanel.so
ln -sf ../../lib/libform.so.5 /usr/lib/libform.so
chmod 755 /lib/lib{panel,menu,form,ncurses}.so.5.5
***** End Code Block *****
\NewEntry
Ncurses-5.5 64 Bit

***** Begin Code Block *****
CC="gcc ${BUILD64}" CXX="g++ ${BUILD64}" \
   ./configure --prefix=/usr --libdir=/lib64 \
   --with-shared --without-debug
make
make install
mv /lib64/lib{panel,menu,form,ncurses,ncurses++,curses}.a /usr/lib64
rm /lib64/lib{ncurses,menu,panel,form,curses}.so
ln -sf ../../lib64/libncurses.so.5 /usr/lib64/libncurses.so
ln -sf ../../lib64/libncurses.so.5 /usr/lib64/libcurses.so
ln -sf ../../lib64/libmenu.so.5 /usr/lib64/libmenu.so
ln -sf ../../lib64/libpanel.so.5 /usr/lib64/libpanel.so
ln -sf ../../lib64/libform.so.5 /usr/lib64/libform.so
chmod 755 /lib64/lib{panel,menu,form,ncurses}.so.5.5
***** End Code Block *****
\NewEntry
Readline-5.1 32 Bit Libraries

***** Begin Code Block *****
patch -Np1 -i ../patches/readline-5.1-fixes-2.patch
CC="gcc ${BUILD32}" CXX="g++ ${BUILD32}" \
   ./configure --prefix=/usr --libdir=/lib
make SHLIB_XLDFLAGS=-lncurses
make install
chmod 755 /lib/lib{readline,history}.so*
mv /lib/lib{readline,history}.a /usr/lib
rm /lib/lib{readline,history}.so
ln -sf ../../lib/libreadline.so.5 /usr/lib/libreadline.so
ln -sf ../../lib/libhistory.so.5 /usr/lib/libhistory.so
***** End Code Block *****
\NewEntry
Readline-5.1 64 Bit

***** Begin Code Block *****
patch -Np1 -i ../patches/readline-5.1-fixes-2.patch
CC="gcc ${BUILD64}" CXX="g++ ${BUILD64}" \
   ./configure --prefix=/usr --libdir=/lib64
make SHLIB_XLDFLAGS=-lncurses
make install
chmod  755 /lib64/lib{readline,history}.so*
mv /lib64/lib{readline,history}.a /usr/lib64
rm /lib64/lib{readline,history}.so
ln -sf ../../lib64/libreadline.so.5 /usr/lib64/libreadline.so
ln -sf ../../lib64/libhistory.so.5 /usr/lib64/libhistory.so
***** End Code Block *****
\NewEntry
Vim-6.4

***** Begin Code Block *****
echo '#define SYS_VIMRC_FILE "/etc/vimrc"' >> src/feature.h
CC="gcc ${BUILD64}" CXX="g++ ${BUILD64}" ./configure --prefix=/usr \
   --enable-multibyte
make
make install
ln -s vim /usr/bin/vi
ln -s ../vim/vim64/doc /usr/share/doc/vim-6.4
***** End Code Block *****
\NewEntry
M4-1.4.4

***** Begin Code Block *****
CC="gcc ${BUILD64}" ./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Bison-2.1

***** Begin Code Block *****
CC="gcc ${BUILD64}" ./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Less-394

***** Begin Code Block *****
CC="gcc ${BUILD64}" ./configure --prefix=/usr \
    --sysconfdir=/etc
make
make install
mv /usr/bin/less /bin
***** End Code Block *****
\NewEntry
Groff-1.19.2

***** Begin Code Block *****
PAGE="letter" CC="gcc ${BUILD64}" \
   CXX="g++ ${BUILD64}" ./configure --prefix=/usr --libdir=/usr/lib64
make
make install
ln -s soelim /usr/bin/zsoelim
ln -s eqn /usr/bin/geqn
ln -s tbl /usr/bin/gtbl
***** End Code Block *****
\NewEntry
Sed-4.1.5

***** Begin Code Block *****
CC="gcc ${BUILD64}" ./configure --prefix=/usr \
   --bindir=/bin --enable-html
make
make install
***** End Code Block *****
\NewEntry
Flex-2.5.31 32 Bit Libraries

***** Begin Code Block *****
patch -Np1 -i ../patches/flex-2.5.31-debian_fixes-3.patch
touch doc/flex.1
CC="gcc ${BUILD32}" ./configure --prefix=/usr
make libfl.a
make install
ln -s libfl.a /usr/lib/libl.a
***** End Code Block *****
\NewEntry
Flex-2.5.31 64 Bit

***** Begin Code Block *****
patch -Np1 -i ../patches/flex-2.5.31-debian_fixes-3.patch
touch doc/flex.1
CC="gcc ${BUILD64}" ./configure --prefix=/usr \
    --libdir=/usr/lib64
make
make install
ln -s libfl.a /usr/lib64/libl.a
cat > /usr/bin/lex << "EOF"
#!/bin/sh
# Begin /usr/bin/lex

exec /usr/bin/flex -l "$@"

# End /usr/bin/lex
EOF
chmod 755 /usr/bin/lex
***** End Code Block *****
\NewEntry
Gettext-0.14.5 32 Bit Libraries

***** Begin Code Block *****
CC="gcc ${BUILD32}" CXX="g++ ${BUILD32}" \
   ./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Gettext-0.14.5 64 Bit

***** Begin Code Block *****
sed -i -e '2iexit 77' autoconf-lib-link/tests/rpath-3*[ef]
CC="gcc ${BUILD64}" CXX="g++ ${BUILD64}" \
   ./configure --prefix=/usr --libdir=/usr/lib64
make
make install
***** End Code Block *****
\NewEntry
Inetutils-1.4.2

***** Begin Code Block *****
patch -Np1 -i ../patches/inetutils-1.4.2-no_server_man_pages-1.patch
patch -Np1 -i ../patches/inetutils-1.4.2-gcc4_fixes-3.patch
CC="gcc ${BUILD64}" ./configure --prefix=/usr --libexecdir=/usr/sbin \
    --sysconfdir=/etc --localstatedir=/var \
    --disable-logger --disable-syslogd \
    --disable-whois --disable-servers
make
make install
mv /usr/bin/ping /bin
***** End Code Block *****
\NewEntry
Procps-3.2.6 32 Bit Libraries

***** Begin Code Block *****
make CC="gcc ${BUILD32}"
make install lib64=lib
***** End Code Block *****
\NewEntry
Procps-3.2.6 64 Bit

***** Begin Code Block *****
make CC="gcc ${BUILD64}"
make install lib64=lib64
***** End Code Block *****
\NewEntry
Perl-5.8.8

***** Begin Code Block *****
patch -Np1 -i ../patches/perl-5.8.8-Configure_multilib-1.patch
patch -Np1 -i ../patches/perl-5.8.8-libc_lib64-1.patch
echo 'installstyle="lib64/perl5"' >>hints/linux.sh
echo "127.0.0.1 localhost $(hostname)" > /etc/hosts
./configure.gnu --prefix=/usr -Dpager="/bin/less -isR" \
   -Dlibpth="/usr/local/lib64 /lib64 /usr/lib64" \
   -Dcc="gcc ${BUILD64}"
make
make install
***** End Code Block *****
\NewEntry
IPRoute2-2.6.14-051107

***** Begin Code Block *****
sed -i '/^TARGETS/s@arpd@@g' misc/Makefile
sh configure
make CC="gcc ${BUILD64}" SBINDIR=/sbin
make SBINDIR=/sbin install
***** End Code Block *****
\NewEntry
Texinfo-4.8

***** Begin Code Block *****
patch -Np1 -i ../patches/texinfo-4.8-tempfile_fix-2.patch
CC="gcc ${BUILD64}" ./configure --prefix=/usr
make
make install
make TEXMF=/usr/share/texmf install-tex
***** End Code Block *****
\NewEntry
Autoconf-2.59

***** Begin Code Block *****
CC="gcc ${BUILD64}" ./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Automake-1.9.6

***** Begin Code Block *****
CC="gcc ${BUILD64}" ./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Bash-3.1

***** Begin Code Block *****
patch -Np1 -i ../patches/bash-3.1-fixes-5.patch
CC="gcc ${BUILD64}" CXX="g++ ${BUILD64}" \
    ./configure --prefix=/usr --bindir=/bin \
    --without-bash-malloc --with-installed-readline
make
make install
exec /bin/bash --login +h
***** End Code Block *****
\NewEntry
File-4.16 32 Bit Libraries

***** Begin Code Block *****
CC="gcc ${BUILD32}" ./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
File-4.16 64 Bit

***** Begin Code Block *****
CC="gcc ${BUILD64}" ./configure --prefix=/usr \
   --libdir=/usr/lib64
make
make install
***** End Code Block *****
\NewEntry
Grep-2.5.1a

***** Begin Code Block *****
CC="gcc ${BUILD64}" ./configure --prefix=/usr \
   --bindir=/bin
make
make install
***** End Code Block *****
\NewEntry
Libtool-1.5.22 32 Bit Libraries

***** Begin Code Block *****
CC="gcc ${BUILD32}" ./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Libtool-1.5.22 64 Bit

***** Begin Code Block *****
CC="gcc ${BUILD64}" ./configure --prefix=/usr \
   --libdir=/usr/lib64
make
make install
chown -R root:root /usr/share/libtool/libltdl
***** End Code Block *****
\NewEntry
Bzip2-1.0.3 32 Bit Libraries

***** Begin Code Block *****
make -f Makefile-libbz2_so CC="gcc ${BUILD32}" CXX="g++ ${BUILD32}"
make clean
make CC="gcc ${BUILD32}" CXX="g++ ${BUILD32}"
cp libbz2.a /usr/lib
cp -a libbz2.so* /lib
ln -s ../../lib/libbz2.so.1.0 /usr/lib/libbz2.so
***** End Code Block *****
\NewEntry
Bzip2-1.0.3 64 Bit

***** Begin Code Block *****
patch -Np1 -i ../patches/bzip2-1.0.3-install_docs-1.patch
patch -Np1 -i ../patches/bzip2-1.0.3-bzgrep_security-1.patch
patch -Np1 -i ../patches/bzip2-1.0.3-remove_tempfile-1.patch
sed -i -e 's@^\(all:.*\) test@\1@g' \
    -e 's@/lib\(/\| \|$\)@/lib64\1@g' Makefile
make -f Makefile-libbz2_so CC="gcc ${BUILD64}" CXX="g++ ${BUILD64}"
make clean
make CC="gcc ${BUILD64}" CXX="g++ ${BUILD64}"
make install
cp bzip2-shared /bin/bzip2
cp -a libbz2.so* /lib64
ln -s ../../lib64/libbz2.so.1.0 /usr/lib64/libbz2.so
rm /usr/bin/{bunzip2,bzcat,bzip2}
ln -s bzip2 /bin/bunzip2
ln -s bzip2 /bin/bzcat
***** End Code Block *****
\NewEntry
Diffutils-2.8.7

***** Begin Code Block *****
CC="gcc ${BUILD64}" ./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Kbd-1.12

***** Begin Code Block *****
patch -Np1 -i ../patches/kbd-1.12-gcc4_fixes-1.patch
CC="gcc ${BUILD64}" ./configure
make CC="gcc ${BUILD64}"
make install
***** End Code Block *****
\NewEntry
E2fsprogs-1.38 32 Bit Libraries

***** Begin Code Block *****
mkdir build
cd build
CC="gcc ${BUILD32}" ../configure --prefix=/usr \
    --with-root-prefix="" --enable-elf-shlibs --disable-evms
make CC="gcc ${BUILD32}" libs
make install-libs
***** End Code Block *****
\NewEntry
E2fsprogs-1.38 64 Bit

***** Begin Code Block *****
sed -i '/libdir=.*\/lib/s@/lib@/lib64@g' configure
mkdir build
cd build
CC="gcc ${BUILD64}" ../configure --prefix=/usr \
    --with-root-prefix="" --enable-elf-shlibs --disable-evms
make CC="gcc ${BUILD64}"
make install
make install-libs
***** End Code Block *****
\NewEntry
Gzip-1.3.5

***** Begin Code Block *****
patch -Np1 -i ../patches/gzip-1.3.5-security_fixes-1.patch
CC="gcc ${BUILD64}" ./configure --prefix=/usr
sed -i 's@"BINDIR"@/bin@g' gzexe.in
make
make install
mv /usr/bin/gzip /bin
rm /usr/bin/{gunzip,zcat}
ln -s gzip /bin/gunzip
ln -s gzip /bin/zcat
ln -s gzip /bin/compress
ln -s gunzip /bin/uncompress
***** End Code Block *****
\NewEntry
Man-1.6c

***** Begin Code Block *****
sed -i 's@-is@&R@g' configure
sed -i 's@MANPATH./usr/man@#&@g' src/man.conf.in
sed -i 's@)) |@) |@' src/makewhatis.sh
CC="gcc ${BUILD64}" ./configure -confdir=/etc
make
make install
***** End Code Block *****
\NewEntry
Man-pages-2.25

***** Begin Code Block *****
make install
***** End Code Block *****
\NewEntry
Make-3.80

***** Begin Code Block *****
CC="gcc ${BUILD64}" ./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Mktemp-1.5

***** Begin Code Block *****
patch -Np1 -i ../patches/mktemp-1.5-add_tempfile-3.patch
CC="gcc ${BUILD64}" ./configure --prefix=/usr --with-libc
make
make install
make install-tempfile
***** End Code Block *****
\NewEntry
Module-Init-Tools-3.2.2

***** Begin Code Block *****
touch modprobe.conf.5
CC="gcc ${BUILD64}" ./configure
make check
make distclean
CC="gcc ${BUILD64}" ./configure --prefix="/" --enable-zlib
make
make install
***** End Code Block *****
\NewEntry
Patch-2.5.9

***** Begin Code Block *****
CC="gcc ${BUILD64}" ./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Psmisc-22.1

***** Begin Code Block *****
CC="gcc ${BUILD64}" ./configure --prefix=/usr \
   --exec-prefix=""
make
make install
mv /bin/pstree* /usr/bin
ln -s killall /bin/pidof
***** End Code Block *****
\NewEntry
Shadow-4.0.14 32 Bit Libraries

***** Begin Code Block *****
CC="gcc ${BUILD32}" ./configure --libdir=/lib \
   --enable-shared --without-libpam --without-audit --without-selinux
sed -i 's/groups$(EXEEXT) //' src/Makefile
sed -i '/groups/d' man/Makefile
make
make install
mv /usr/bin/passwd /bin
mv /lib/libshadow.*a /usr/lib
rm /lib/libshadow.so
ln -sf ../../lib/libshadow.so.0 /usr/lib/libshadow.so
***** End Code Block *****
\NewEntry
Shadow-4.0.14 64 Bit

***** Begin Code Block *****
CC="gcc ${BUILD64}" ./configure --libdir=/lib64 \
   --enable-shared --without-libpam --without-audit --without-selinux
sed -i 's/groups$(EXEEXT) //' src/Makefile
sed -i '/groups/d' man/Makefile
make
make install
cp etc/{limits,login.access} /etc
sed -e's@#MD5_CRYPT_ENAB.no@MD5_CRYPT_ENAB yes@' \
    -e 's@/var/spool/mail@/var/mail@' \
    etc/login.defs > /etc/login.defs
mv /usr/bin/passwd /bin
mv /lib64/libshadow.*a /usr/lib64
rm /lib64/libshadow.so
ln -sf ../../lib64/libshadow.so.0 /usr/lib64/libshadow.so
install -d /etc/default
pwconv
grpconv
***** End Code Block *****
\NewEntry
Sysklogd-1.4.1

***** Begin Code Block *****
patch -Np1 -i ../patches/sysklogd-1.4.1-fixes-1.patch
make CC="gcc ${BUILD64}"
make install
cat > /etc/syslog.conf << "EOF"
# Begin /etc/syslog.conf

auth,authpriv.* -/var/log/auth.log
*.*;auth,authpriv.none -/var/log/sys.log
daemon.* -/var/log/daemon.log
kern.* -/var/log/kern.log
mail.* -/var/log/mail.log
user.* -/var/log/user.log
*.emerg *

# log the bootscript output:
local2.* -/var/log/boot.log

# End /etc/syslog.conf
EOF
***** End Code Block *****
\NewEntry
Sysvinit-2.86

***** Begin Code Block *****
sed -i 's@Sending processes@& started by init@g' \
    src/init.c
make -C src clobber
make -C src CC="gcc ${BUILD64}"
make -C src install
cat > /etc/inittab << "EOF"
# Begin /etc/inittab

id:3:initdefault:

si::sysinit:/etc/rc.d/init.d/rc sysinit

l0:0:wait:/etc/rc.d/init.d/rc 0
l1:S1:wait:/etc/rc.d/init.d/rc 1
l2:2:wait:/etc/rc.d/init.d/rc 2
l3:3:wait:/etc/rc.d/init.d/rc 3
l4:4:wait:/etc/rc.d/init.d/rc 4
l5:5:wait:/etc/rc.d/init.d/rc 5
l6:6:wait:/etc/rc.d/init.d/rc 6

ca:12345:ctrlaltdel:/sbin/shutdown -t1 -a -r now

su:S016:once:/sbin/sulogin

1:2345:respawn:/sbin/agetty -I '\033(K' tty1 9600
2:2345:respawn:/sbin/agetty -I '\033(K' tty2 9600
3:2345:respawn:/sbin/agetty -I '\033(K' tty3 9600
4:2345:respawn:/sbin/agetty -I '\033(K' tty4 9600
5:2345:respawn:/sbin/agetty -I '\033(K' tty5 9600
6:2345:respawn:/sbin/agetty -I '\033(K' tty6 9600

# End /etc/inittab
EOF
***** End Code Block *****
\NewEntry
Tar-1.15.1

***** Begin Code Block *****
patch -Np1 -i ../patches/tar-1.15.1-gcc4_fix_tests-1.patch
patch -Np1 -i ../patches/tar-1.15.1-sparse_fix-1.patch
CC="gcc ${BUILD64}" ./configure --prefix=/usr \
   --bindir=/bin --libexecdir=/usr/sbin
make
make install
***** End Code Block *****
\NewEntry
Util-linux-2.12r

***** Begin Code Block *****
sed -i 's@etc/adjtime@var/lib/hwclock/adjtime@g' \
    hwclock/hwclock.c
mkdir -p /var/lib/hwclock
patch -Np1 -i ../patches/util-linux-2.12r-cramfs-1.patch
patch -Np1 -i ../patches/util-linux-2.12r-gcc4_fixes-1.patch
CC="gcc ${BUILD64}" ./configure
make HAVE_KILL=yes HAVE_SLN=yes
make HAVE_KILL=yes HAVE_SLN=yes install
mv /usr/bin/logger /bin
***** End Code Block *****
\NewEntry
Udev-076

***** Begin Code Block *****
make CC="gcc ${BUILD64}" LD="gcc ${BUILD64}" \
    EXTRAS="extras/firmware extras/run_directory" udevdir=/dev
sed -i 's@/usr/bin/test@/bin/test@' test/udev-test.pl
make DESTDIR=/ EXTRAS="extras/firmware extras/run_directory" install
cp ../udev-config-cross-lfs-1.rules /etc/udev/rules.d/25-lfs.rules
install -m644 -D docs/writing_udev_rules/index.html /usr/share/doc/udev-076/index.html
/sbin/udevstart
***** End Code Block *****
\NewEntry
Hotplug-2004_09_23

***** Begin Code Block *****
make install
rm -rf /etc/init.d
rm -f /etc/hotplug/net.agent
mkdir /lib/firmware
***** End Code Block *****
\NewEntry
GRUB-0.97

***** Begin Code Block *****
CC="gcc ${BUILD32}" ./configure --prefix=/usr
make
make install
mkdir /boot/grub
cp /usr/lib/grub/x86_64-unknown/stage{1,2} /boot/grub
***** End Code Block *****
\NewEntry
net-tools-1.60

This package has been removed in favor of iproute2 in LFS. However, I prefer a few binaries out of it that aren't supplied elsewhere (will allow me to ease up to iproute2). Also, I prefer the net-tools version of hostname over coreutils. So, that is the only binary I replace, and it needs to be reflected in my package management logs.

***** Begin Code Block *****
patch -Np1 -i ../patches/net-tools-1.60-gcc34-3.patch
patch -Np1 -i ../patches/net-tools-1.60-kernel_headers-2.patch
patch -Np1 -i ../patches/net-tools-1.60-mii_ioctl-1.patch
yes "" | make config
sed -i -e 's|HAVE_IP_TOOLS 0|HAVE_IP_TOOLS 1|g' \
       -e 's|HAVE_MII 0|HAVE_MII 1|g' config.h
sed -i -e 's|# HAVE_IP_TOOLS=0|HAVE_IP_TOOLS=1|g' \
       -e 's|# HAVE_MII=0|HAVE_MII=1|g' config.make
make CC="gcc ${BUILD64}" COPTS="-D_GNU_SOURCE -Wall $CFLAGS"
make CC="gcc ${BUILD64}" update
***** End Code Block *****

NOTE: Update the coreutils package management log file. Only do this if the hostname binary was actually installed by coreutils.

***** Begin Code Block *****
sed -i '/\/bin\/hostname/d' /var/log/pinst/coreutils-*
sed -i '/\/usr\/share\/man\/man1\/hostname.1/d' \
    /var/log/pinst/coreutils-*
***** End Code Block *****

Add the following paths to the net-tools package management log (aside from the others that should be logged):
  /bin/hostname
  /usr/share/man/man1/hostname.1
\NewEntry
Stripping

***** Begin Code Block *****
logout
***** End Code Block *****

***** Begin Code Block *****
chroot $LFS /tools/bin/env -i \
    HOME=/root TERM=$TERM PS1='\u:\w\$ ' \
    PATH=/bin:/usr/bin:/sbin:/usr/sbin \
    /tools/bin/bash --login
/tools/bin/find /{,usr/}{bin,lib,lib64,sbin} -type f \
   -exec /tools/bin/strip --strip-debug '{}' ';'
***** End Code Block *****
\EndFolder
\NewEntry
Chapter 11
\NewFolder
\NewEntry
LFS-Bootscripts-3.2.2

***** Begin Code Block *****
make install
***** End Code Block *****
\NewEntry
Setclock

***** Begin Code Block *****
cat > /etc/sysconfig/clock << "EOF"
# Begin /etc/sysconfig/clock

UTC=0

# End /etc/sysconfig/clock
EOF
***** End Code Block *****
\NewEntry
Creating the /etc/inputrc File

***** Begin Code Block *****
cat > /etc/inputrc << "EOF"
# Begin /etc/inputrc
# Modified by Chris Lynn <roryo@roryo.dynup.net>

# Allow the command prompt to wrap to the next line
set horizontal-scroll-mode Off

# Enable 8bit input
set meta-flag On
set input-meta On

# Turns off 8th bit stripping
set convert-meta Off

# Keep the 8th bit for display
set output-meta On

# none, visible or audible
set bell-style none

# All of the following map the escape sequence of the
# value contained inside the 1st argument to the
# readline specific functions

"\eOd": backward-word
"\eOc": forward-word

# for linux console
"\e[1~": beginning-of-line
"\e[4~": end-of-line
"\e[5~": beginning-of-history
"\e[6~": end-of-history
"\e[3~": delete-char
"\e[2~": quoted-insert

# for xterm
"\eOH": beginning-of-line
"\eOF": end-of-line

# for Konsole
"\e[H": beginning-of-line
"\e[F": end-of-line

# End /etc/inputrc
EOF
***** End Code Block *****
\NewEntry
Configuring the localnet Script

***** Begin Code Block *****
echo "HOSTNAME=talon" > /etc/sysconfig/network
***** End Code Block *****
\NewEntry
Customizing the /etc/hosts File

***** Begin Code Block *****
cat > /etc/hosts << "EOF"
# Begin /etc/hosts (network card version)

127.0.0.1        localhost.localdomain localhost
192.168.2.30     talon
192.168.2.100    frylock
137.28.109.251   quasar.cs.uwec.edu quasar
137.28.109.75    blackhole.cs.uwec.edu acm.cs.uwec.edu acm blackhole

137.28.109.33    data.cs.uwec.edu data
137.28.109.34    mikey.cs.uwec.edu mikey
137.28.109.48    jake.cs.uwec.edu jake

207.7.108.101    xusia.net xusia

# End /etc/hosts (network card version)
EOF
***** End Code Block *****
\NewEntry
Configuring the network Script

***** Begin Code Block *****
cd /etc/sysconfig/network-devices &&
mkdir ifconfig.eth0 &&
cat > ifconfig.eth0/ipv4 << "EOF"
ONBOOT=yes
SERVICE=ipv4-static
IP=192.168.2.40
GATEWAY=192.168.2.1
PREFIX=24
BROADCAST=192.168.2.255
EOF
***** End Code Block *****

***** Begin Code Block *****
cat > /etc/resolv.conf << "EOF"
# Begin /etc/resolv.conf

nameserver 192.168.1.1

# End /etc/resolv.conf
EOF
***** End Code Block *****
\EndFolder
\NewEntry
Chapter 12
\NewFolder
\NewEntry
Linux-2.6.15.5

***** Begin Code Block *****
patch -Np1 -i ../patches/define-bits_per_byte.patch
patch -Np1 -i ../patches/
bzcat ../patches/patch-2.6.16-rc5.bz2 | patch -p1
bzcat ../patches/2.6.16-rc5-mm2.bz2 | patch -p1
make mrproper
make menuconfig
make
make modules_install
cp arch/x86_64/boot/bzImage /boot/lfskernel-2.6.15.5-sda6
cp System.map /boot/System.map-2.6.15.5-sda6
cp .config /boot/config-2.6.15.5-sda6
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
BLFS Notes
\NewFolder
\NewEntry
Configuration
\NewFolder
\NewEntry
Udev

In the function `make_extra_nodes' witihn thi file /etc/rc.d/init.d/udev, create additional symlinks, file ownership modifications, etc:

***** Begin Code Block *****
ln -s /dev/sr0 /dev/cdrom
ln -s /dev/sr1 /dev/dvd
# For nvidia drivers
modprobe nvidia
# Should give better response for video playback
echo 1024 > /proc/sys/dev/rtc/max-user-freq
***** End Code Block *****

Edit the file /etc/udev/permissions.d/00-lfs.permissions to make the device `rtc' belong to the video group because a user will require read/write access to this device file for dvd playback using MPlayer (at least that was one of the uses I found):

***** Begin Code Block *****
sed -i 's/rtc:root:root:0660/rtc:root:video:0660/' \
    /etc/udev/permissions.d/25-lfs.permissions
***** End Code Block *****
\NewEntry
Users/Groups

Create default useradd config file:

***** Begin Code Block *****
cat > /etc/default/useradd << "EOF"
# Begin /etc/default/useradd

GROUP=100
HOME=/home
INACTIVE=-1
EXPIRE=
SHELL=/bin/bash
SKEL=/etc/skel

# End /etc/default/useradd
EOF
***** End Code Block *****

Create /etc/skel and set some sane defaults:

***** Begin Code Block *****
mkdir /etc/skel
***** End Code Block *****

***** Begin Code Block *****
cat > /etc/skel/.bash_logout << "EOF"
# Begin ~/.bash_logout

clear

# End ~/.bash_logout
EOF
***** End Code Block *****

***** Begin Code Block *****
cat > /etc/skel/.bash_profile << "EOF"
# Begin ~/.bash_profile

# Personal environment variables and startup programs.

# Personal aliases and functions should go in ~/.bashrc.  System wide
# environment variables and startup programs are in /etc/profile.
# System wide aliases and functions are in /etc/bashrc.

if [ -f "$HOME/.bashrc" ] ; then
        source $HOME/.bashrc
fi

if [ -d "$HOME/bin" ] ; then
        PATH=$PATH:$HOME/bin
fi

export PATH 

# End ~/.bash_profile
EOF
***** End Code Block *****

***** Begin Code Block *****
cat > /etc/skel/.bashrc << "EOF"
# Begin ~/.bashrc

# Personal aliases and functions.

# Personal environment variables and startup programs should go in
# ~/.bash_profile.  System wide environment variables and startup
# programs are in /etc/profile.  System wide aliases and functions are
# in /etc/bashrc.

if [ -f "/etc/bashrc" ] ; then
        source /etc/bashrc
fi

# End ~/.bashrc
EOF
***** End Code Block *****

Create main cluster group (GIDs will start at 100 as specified in `/etc/default/useradd'):

***** Begin Code Block *****
groupadd <your_group>
***** End Code Block *****

Add users the following way (default UID begins at 1000):

***** Begin Code Block *****
useradd -g <group> -m <username>
***** End Code Block *****
\NewEntry
/etc/shells

Add any POSIX compatible shells to the `/etc/shells' file.

***** Begin Code Block *****
cat > /etc/shells << "EOF"
# Begin /etc/shells

/bin/sh
/bin/bash

# End /etc/shells
EOF
***** End Code Block *****
\NewEntry
Floppy and Disk Access

You have to add any users who need floppy or disk access to the 'floppy' and/or 'disk' group.

***** Begin Code Block *****
usermod -G floppy <username>
usermod -G disk <username>
***** End Code Block *****

Make sure to logout and back in again for the group settings to take effect for your user.
\NewEntry
Sound
\NewFolder
\NewEntry
Unmuting

Perform the following steps to unmute your sound and to save the settings to the system.

1. amixer | grep control
2. For each control name given do:
   # amixer set "<control name>" 50% unmute

I now have a script that automates the process above. It is located here:
  http://blackhole.cs.uwec.edu/~munozga/scripts/amixerset.pl

***** Begin Code Block *****
wget http://blackhole.cs.uwec.edu/~munozga/scripts/amixerset.pl
perl amixerset.pl
/etc/rc.d/init.d/alsa restart
rm -f amixerset.pl
***** End Code Block *****
\NewEntry
Modifying User Info

You have to add any users who need audio access to the 'audio' group.

***** Begin Code Block *****
usermod -G audio <username>
***** End Code Block *****

Make sure to logout and back in again for the group settings to take effect for your user.
\NewEntry
Udev Configuration

To make alsa work with udev, I add the following to the start up
script `/etc/rc.d/init.d/alsa', just before executing alsactl:

***** Begin Code Block *****
modprobe snd_pcm_oss
***** End Code Block *****

This will load the appropriate driver and create the device entries for dsp and mixer in /dev.
\NewEntry
/etc/modprobe.conf

For current udev, use the solution proposed on the LFS wiki:
  http://wiki.linuxfromscratch.org/index.php?pagename=Misc%3A%20UdevHotplugStatus

***** Begin Code Block *****
cat >> /etc/modprobe.conf << "EOF"
install snd-pcm modprobe -i snd-pcm ; modprobe snd-pcm-oss ; true
install snd-seq modprobe -i snd-seq ; modprobe snd-seq-oss ; true
install parport modprobe -i parport ; modprobe lp ; modprobe ppdev ; true
install mptbase modprobe -i mptbase ; modprobe mptscsih ; modprobe mptctl ; modprobe mptlan ; true
install scsi-mod modprobe -i scsi-mod ; modprobe sd-mod ; modprobe sr-mod ; true

EOF
***** End Code Block *****

Older versions of the kernel will requires something like this for loading modules:

***** Begin Code Block *****
cat > /etc/modprobe.conf << "EOF"
alias char-major-14 soundcore
alias char-major-116 snd
alias snd-card-0 snd-intel8x0
alias sound-slot-0 snd-card-0
alias sound-service-0-0 snd-mixer-oss
alias sound-service-0-1 snd-seq-oss
alias sound-service-0-3 snd-pcm-oss
alias sound-service-0-8 snd-seq-midi
alias sound-service-0-12 snd-pcm-oss
EOF
***** End Code Block *****
\NewEntry
Multiple Audio Streams (intel8x0)

This is an example of how to enable multiple audio streams under a sound card such as the intel8x0 (not all sound cards have this functionality by default; emu10k1 cards should be fine without this).

***** Begin Code Block *****
cat > ~/.asoundrc << "EOF"
pcm.intel8x0 {
   type hw
   card 0
}

ctl.intel8x0 {
   type hw
   card 0
}
EOF
***** End Code Block *****
\EndFolder
\NewEntry
Video
\NewFolder
\NewEntry
Modifying User Info

You have to add any users who need video access to the 'video' group.

***** Begin Code Block *****
usermod -G video <username>
***** End Code Block *****

Make sure to logout and back in again for the group settings to take effect for your user.
\NewEntry
Udev CDROM

Create the following udev rule to create a cdrom symlink. To determine what device file(s) are available for your cdrom drive, perform the following check:
  # dmesg | grep CD

***** Begin Code Block *****
cat > /etc/udev/rules.d/22-cdrom.rules << "EOF"
# Create a /dev/cdrom symlink 
 
KERNEL="sr0", SYMLINK="cdrom"

EOF
udevstart
***** End Code Block *****
\NewEntry
Udev DVD

Create the following udev rule to create a dvd symlink. To determine what device file(s) are available for your dvd drive, perform the following check:
  # dmesg | grep DVD

***** Begin Code Block *****
cat > /etc/udev/rules.d/23-dvd.rules << "EOF"
# Create a /dev/dvd symlink 
 
KERNEL="sr1", SYMLINK="dvd"

EOF
udevstart
***** End Code Block *****
\NewEntry
Udev Mouse

Create the following udev rule to create a /dev/mouse symlink.

***** Begin Code Block *****
cat > /etc/udev/rules.d/24-mouse.rules << "EOF"
# Create a /dev/dvd symlink 
 
KERNEL="mouse*", SYMLINK="mouse"

EOF
udevstart
***** End Code Block *****
\EndFolder
\NewEntry
Udev Permissions

***** Begin Code Block *****
cat >> /etc/udev/permissions.d/25-lfs.permissions << "EOF"
sr0:root:video:644
sr1:root:video:644
EOF
udevstart
***** End Code Block *****
\NewEntry
.gtkrc-2.0

# Spefify the path to the gtk2 them 'gtkrc' file.
include "/usr/share/themes/LighthouseBlue/gtk-2.0/gtkrc"

# Set gtk2 key bindings to emacs (enables CTRL + U to be clear line).
gtk-key-theme-name = "Emacs"
\EndFolder
\NewEntry
openMosix Setup
\NewFolder
\NewEntry
linux-2.4.24-om
\NewEntry
linux-2.4.21-om-migshm
\EndFolder
\NewEntry
Beowulf Setup
\NewFolder
\NewEntry
/etc/hosts
\NewEntry
Network Configuration
\NewEntry
Set user authentication

Common user authentication environment

On master node:

***** Begin Code Block *****
mkdir ~/.ssh
chmod 0700 ~/.ssh
ssh-keygen -t rsa
chmod 0600 ~/.ssh/id_rsa
cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys2
***** End Code Block *****

Make sure all slave nodes have the /home directories mounted from the
master node. Now using ssh to session to all other client nodes will be
authenticated through rsa generated key.
\NewEntry
NFS mounted ~/

client node:
/etc/fstab
master:/home  /home        nfs      rw,users,exec   0     0

head setup:
/etc/exportfs
/home node1(rw,no_root_squash,sync)
/home node2(rw,no_root_squash,sync)
/home node3(rw,no_root_squash,sync)
\NewEntry
Set user authentication

Common user authentication environment

On master node:

***** Begin Code Block *****
mkdir ~/.ssh
chmod 0700 ~/.ssh
ssh-keygen -t rsa
chmod 0600 ~/.ssh/id_rsa
cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys2
***** End Code Block *****

Make sure all slave nodes have the /home directories mounted from the
master node. Now using ssh to session to all other client nodes will be
authenticated through rsa generated key.
\NewEntry
MPICH-1.2.5.2

***** Begin Code Block *****
./configure --prefix=/opt/mpich-1.2.5.2 -rsh=ssh
make
cd examples/basic
make cpi
../../bin/mpirun -np 4 cpi
cd ../..
make testing
make install
***** End Code Block *****
\NewEntry
MPICH2-0.96p2

***** Begin Code Block *****
./configure --prefix=/opt/mpich2-0.96p2 \
    --enable-f77=no --enable-f90=no
make
make install
***** End Code Block *****

For each user:

***** Begin Code Block *****
cat > ~/mpd.hosts << "EOF"
node0
node1
node2
node3
node4
node5
node6
EOF
***** End Code Block *****

Replace <secretword> with your password (not user account password).
***** Begin Code Block *****
cat > ~/.mpd.conf << "EOF"
secretword=<secretword>
EOF
chmod 600 ~/.mpd.conf
***** End Code Block *****

Start mpi process daemon:

***** Begin Code Block *****
mpdboot
***** End Code Block *****
\NewEntry
/etc/exportfs

Head Node Only

***** Begin Code Block *****
cat > /etc/exportfs << "EOF"
/home node1(rw,no_root_squash,sync)
/home node2(rw,no_root_squash,sync)
/home node3(rw,no_root_squash,sync)
/home node4(rw,no_root_squash,sync)
/home node5(rw,no_root_squash,sync)
/home node6(rw,no_root_squash,sync)
/home node7(rw,no_root_squash,sync)
/home/munozga/media node1(rw,no_root_squash,sync)
/home/munozga/media node2(rw,no_root_squash,sync)
/home/munozga/media node3(rw,no_root_squash,sync)
/home/munozga/media node4(rw,no_root_squash,sync)
/home/munozga/media node5(rw,no_root_squash,sync)
/home/munozga/media node6(rw,no_root_squash,sync)
/home/munozga/media node7(rw,no_root_squash,sync)
EOF
chmod 0600 /etc/exportfs
***** End Code Block *****
\EndFolder
\NewEntry
Packages
\NewFolder
\NewEntry
General Dependencies
\NewFolder
\NewEntry
openssl-0.9.7f

Forward Dependencies:
    ntp
    bind
    python
    orbit2
    gnome-vfs
    dillo
    curl
    ruby
    subversion
    nmap
    gnutls

NOTE: The following hack can insert your own compiler flags (perform before the `./config'):
  sed -i -e 's/-m486/-march=i686/' Configure

***** Begin Code Block *****
patch -Np1 -i ../patches/openssl-0.9.7f-fix_manpages-1.patch
sed -i -e 's/-m486/-march=i586 -mcpu=i586 -mtune=i686/' Configure
./config --openssldir=/etc/ssl --prefix=/usr shared
make MANDIR=/usr/share/man
make MANDIR=/usr/share/man install
cp -r certs /etc/ssl
***** End Code Block *****
\NewEntry
tcpwrappers-7.6

Forward Dependencies:
    OpenSSH
    portmap
    esound
    orbit

NOTE: Modify the EXTRA_FLAGS variable for the linux make target for extra compiler options.

***** Begin Code Block *****
patch -Np1 -i ../patches/tcp_wrappers-7.6-shared_lib_plus_plus-1.patch
sed -i -e "s,^extern char \*malloc();,/* & */," scaffold.c
make REAL_DAEMON_DIR=/usr/sbin STYLE=-DPROCESS_OPTIONS linux
make install
***** End Code Block *****
\NewEntry
popt-1.7-5

Forward Dependencies:
    rsync
    orbit2
    libdv
    dia
    librsvg

***** Begin Code Block *****
patch -Np1 -i ../patches/popt_1.7-5.diff
./configure --prefix=/usr
cp configure.in configure.ac
touch configure.in configure.ac
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
Utilities
\NewFolder
\NewEntry
reiserfs-3.6.19

***** Begin Code Block *****
./configure --prefix=/usr --sbindir=/sbin
make
make install
ln -sf reiserfsck /sbin/fsck.reiserfs
ln -sf mkreiserfs /sbin/mkfs.reiserfs
***** End Code Block *****
\NewEntry
bc-1.06

Forward Dependencies:
    xscreensaver

***** Begin Code Block *****
patch -Np1 -i ../patches/bc-1.06-flex_invocation-1.patch
patch -Np1 -i ../patches/bc-1.06-readline-1.patch
./configure --prefix=/usr --with-readline
make
make install
***** End Code Block *****
\NewEntry
screen-4.0.2

NOTE: Pass the following extra config parameter to enable PAM support:
    --enable-pam

***** Begin Code Block *****
./configure --prefix=/usr --disable-socket-dir \
    --with-sys-screenrc=/etc/screenrc --enable-pam
sed -i -e "s%/usr/local/etc/screenrc%/etc/screenrc%" {etc,doc}/*
make
make install
install -m 644 etc/etcscreenrc /etc/screenrc
***** End Code Block *****
\NewEntry
fcron-2.9.5.1

NOTE: Syslog-ng should already have the configuration setup to handle cron.

Prior to installation, add fcron group and user (be consistent with the UID and GID):

***** Begin Code Block *****
groupadd -g 16 fcron
useradd -u 16 -d /dev/null -c "Fcron User" -g fcron -s /bin/false fcron
***** End Code Block *****

NOTE: Fcron will utilize pam automatically, but can use the following option to force the configure script:
    --with-pam=yes

NOTE: The following configure options may be to disable sendmail support (remove if configuring with a sendmail compatible MTA):
    --without-sendmail

***** Begin Code Block *****
./configure --without-sendmail --with-answer-all=no
make
make install
***** End Code Block *****

Install bootscripts:

***** Begin Code Block *****
make install-fcron
***** End Code Block *****
\NewEntry
hdparm-6.1

***** Begin Code Block *****
make
make install
***** End Code Block *****
\NewEntry
which-2.16

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
unzip-5.52

Forward Dependencies:
    firefox

NOTE: Add custom compiler options to the CF variable in the top-level Makefile under the 'linux' and 'linux_shlibz' make targets.

***** Begin Code Block *****
patch -Np1 -i ../patches/unzip-5.51-fix_Makefile-1.patch
patch -Np1 -i ../patches/unzip-5.51-fix_libz-1.patch
patch -Np1 -i ../patches/unzip-5.51-dont_make_noise-1.patch
cp unix/Makefile .
make prefix=/usr LOCAL_UNZIP=-DUSE_UNSHRINK linux
make prefix=/usr LOCAL_UNZIP=-DUSE_UNSHRINK linux_shlibz
make prefix=/usr LOCAL_UNZIP=-DUSE_UNSHRINK install
cp -d libunzip.so* /usr/lib
***** End Code Block *****
\NewEntry
zip-2.31

Forward Dependencies:
    firefox

NOTE: Add custom compiler flags to the CFLAGS variable in the file 'unix/Makefile'.

***** Begin Code Block *****
sed -i -e 's@$(INSTALL) man/zip.1@$(INSTALL_PROGRAM) man/zip.1@' \
    unix/Makefile
make prefix=/usr -f unix/Makefile generic_gcc
make prefix=/usr -f unix/Makefile install
install -m644 man/zip.1 /usr/share/man/man1
***** End Code Block *****
\NewEntry
pciutils-2.1.11

NOTE: Add the following environment variable to the make command to compile with custom compiler flags:
    OPT="$CFLAGS"

***** Begin Code Block *****
make PREFIX=/usr OPT="$CFLAGS"
make PREFIX=/usr install
***** End Code Block *****
\NewEntry
cpio-2.6

***** Begin Code Block *****
sed -i -e "s/invalid_arg/argmatch_invalid/" src/mt.c
./configure CPIO_MT_PROG=mt --prefix=/usr \
    --bindir=/bin --libexecdir=/tmp \
    --with-rmt=/usr/sbin/rmt
make
make install
***** End Code Block *****
\NewEntry
sysstat-5.1.5

NOTE: Add custom compiler flags to the CFLAGS variable in the top-level 'Makefile'.

***** Begin Code Block *****
make config
make
make install
***** End Code Block *****
\NewEntry
lynx-2.8.5

NOTE: Use the following configure option to enable ssh support:
    --with-ssl

NOTE: The other dependencies aren't worth it-I don't use this package for a whole lot.

***** Begin Code Block *****
./configure --prefix=/usr --libdir=/etc \
    --with-zlib --with-bzlib --with-ssl
make
make install
make docdir=/usr/share/doc/lynx-2.8.5/lynx_doc \
    helpdir=/usr/share/doc/lynx-2.8.5/lynx_help install-doc
make docdir=/usr/share/doc/lynx-2.8.5/lynx_doc \
    helpdir=/usr/share/doc/lynx-2.8.5/lynx_help install-help
chgrp -R root /usr/share/doc/lynx-2.8.5/lynx_doc
***** End Code Block *****
\NewEntry
sysfsutils-1.1.0

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
ncftp-3.1.8

***** Begin Code Block *****
./configure --prefix=/usr
make -C libncftp shared
make -C libncftp soinstall
make
make install
***** End Code Block *****
\NewEntry
rsync-2.6.3

NOTE: This program will automatically detect the library popt.

***** Begin Code Block *****
./configure --prefix=/usr
make
make install 
***** End Code Block *****
\NewEntry
cvs-1.11.18

NOTE: I don't use this for a server, so don't bother with any of the optional dependencies.

***** Begin Code Block *****
patch -Np1 -i ../patches/cvs-1.11.18-zlib-1.patch
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
wget-1.9.1

Forward Dependencies:
    imagemagick

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewEntry
traceroute-1.4a12

***** Begin Code Block *****
sed -i -e 's/-o bin/-o root/' Makefile.in
./configure --prefix=/usr
make
make install
make install-man
mv /usr/sbin/traceroute /usr/bin
***** End Code Block *****
\NewEntry
bind-9.3.0p1 (dig)

NOTE: OpenSSL is auto-detected by the configure script.

***** Begin Code Block *****
patch -Np1 -i ../patches/9.3.0-patch1
./configure --prefix=/usr
make -C lib/dns
make -C lib/isc
make -C lib/bind9
make -C lib/isccfg
make -C lib/lwres
make -C bin/dig
make -C bin/dig install
***** End Code Block *****
\NewEntry
strace-4.5.11

Strace is a system call trace, i.e. a debugging tool which prints out a trace of all the system calls made by a another process/program.

Home page: http://www.liacs.nl/~wichert/strace/

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
handy-1.11

Handy calc is a small commandline calculator similar to GNU bc.

Homepage: http://www.ne.jp/asahi/linux/timecop/

***** Begin Code Block *****
make
install -m0755 bc /usr/bin/hbc
***** End Code Block *****
\NewEntry
lsof-4.74

Lsof lists information about any files that are open by processes currently running on the system.

Homepage: ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/

***** Begin Code Block *****
./Configure linux
make
install -m 4755 -o root -g root lsof /usr/bin
install -m 444 lsof.8 /usr/share/man/man8
***** End Code Block *****
\NewEntry
sudo-1.6.8p8

Sudo (superuser do) allows a system administrator to give certain users (or groups of users) the ability to run some (or all) commands as root or another user while logging the commands and arguments.

Homepage: http://www.sudo.ws/sudo/

Forward Dependencies:
    none

Required Dependencies:
    libc

***** Begin Code Block *****
./configure --prefix=/usr --libexecdir=/usr/lib
make
make install
***** End Code Block *****

To give a user full access:

***** Begin Code Block *****
sudoedit /etc/sudoers
***** End Code Block *****

And add the following line:
  <username> ALL = NOPASSWD: ALL
\NewEntry
tcpdump-3.8.3

Tcpdump  prints  out  the  headers of packets on a network interface that match the boolean expression.

Home page: http://www.tcpdump.org/

Required Dependencies:
    libpcap

Optional Dependencies:
    samba (for SMB printer support--not recommended)

NOTE: If samba is installed, specify '--disable-smb' to explicitly suppress building with samba support. To disable IPv6 over IPv4, specify '--disable-ipv6'.

***** Begin Code Block *****
./configure --prefix=/usr --disable-smb --disable-ipv6
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
libpcap-0.8.3

Forward Dependencies:
    tcpdump
    nmap
    ethereal

NOTE: DAG dependency not installed to limit bloat. If the build fails complaining of an undefined reference to `pcap_debug', then pass '--enable-yydebug' to the configure script (required for tcpdump).

***** Begin Code Block *****
./configure --prefix=/usr --enable-yydebug
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
nmap-3.81

NOTE: OpenSSL, PCRE, GTK+-1, and libpcap were all auto-detected by the configure script.

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
ethereal-0.10.10

NOTE: Glib-2, GTK+-2, libpcap, python, and PCRE were auto-detected by the configure script. To enable OpenSSL support use the following option:
    --enable-openssl

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc \
    --enable-randpkt --enable-threads --enable-ssl
make
make install
***** End Code Block *****
\NewEntry
synergy-1.2.2

Synergy lets you easily share a single mouse and keyboard between multiple computers with different operating systems, each with its own display, without special hardware.

Homepage: http://synergy2.sourceforge.net/index.html

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****

Server:

synergys -f --config synergy.conf

Client:

ssh -f -N -L 24800:<server-hostname>:24800 <server-hostname>
synergyc -f localhost
\NewEntry
irssi-0.8.9

Irssi is a modular IRC client for UNIX.

Homepage: http://www.irssi.org/

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
FUSE
\NewFolder
\NewEntry
fuse-2.2.1

With FUSE it is possible to implement a fully functional filesystem in a userspace program.

Home page: http://fuse.sourceforge.net/

Dependencies:
    none

NOTE: The kernel source needs to be built for fuse to determine the
kernel version.

***** Begin Code Block *****
./configure --prefix=/usr --enable-kernel-module \
    --enable-lib --enable-util --enable-auto-modprobe
make
make install
***** End Code Block *****
\NewEntry
sshfs-fuse-1.1

This is a filesystem client based on the SSH File Transfer Protocol.

Homepage: http://fuse.sourceforge.net/sshfs.html

Required Dependencies:
    fuse
    openssh
    pkgconfig
    glib-2

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
SSH
\NewFolder
\NewEntry
openssh-4.1p1

Forward Dependencies:
    gnome-vfs
    subversion

NOTE: Use explicit GID and UID for sshd group and user. They should be located within privledged ranges for both group and user.

***** Begin Code Block *****
install -v -d -m700 /var/lib/sshd
chown root:sys /var/lib/sshd
groupadd -g 15 sshd
useradd -u 15 -c 'sshd PrivSep' -d /var/lib/sshd -g sshd -s /bin/false sshd
***** End Code Block *****

NOTE: Choose to compile with the tcpwrapper, PAM, and kerberos with the following options to configure:
    --with-tcp-wrappers
    --with-pam
    --with-kerberos5=/usr

***** Begin Code Block *****
sed -i "s:-lcrypto:/usr/lib/libcrypto.a:g" configure
./configure --prefix=/usr --sysconfdir=/etc/ssh \
    --libexecdir=/usr/sbin --with-md5-passwords \
    --with-privsep-path=/var/lib/sshd \
    --with-tcp-wrappers --with-pam
make
make install
***** End Code Block *****

Install bootscripts:

***** Begin Code Block *****
make install-sshd
***** End Code Block *****
\EndFolder
\NewEntry
NFS
\NewFolder
\NewEntry
portmap-5beta

Forward Dependencies:
    nfs-utils
    fam

NOTE: Add custom compiler flags to the CFLAGS variable in the top-level 'Makefile'.

***** Begin Code Block *****
patch -Np1 -i ../patches/portmap-5beta-compilation_fixes-3.patch
patch -Np1 -i ../patches/portmap-5beta-glibc_errno_fix-1.patch
make
make install
***** End Code Block *****

***** Begin Code Block *****
make install-portmap
***** End Code Block *****
\NewEntry
nfs-utils-1.0.7

***** Begin Code Block *****
groupadd -g 65534 nogroup
useradd -c nobody -d /home -g nogroup -s /bin/bash -u 65534 nobody
***** End Code Block *****

***** Begin Code Block *****
patch -Np1 -i ../patches/nfs-utils-1.0.7-gcc4.patch
./configure --prefix=/usr --sysconfdir=/etc \
    --disable-nfsv4 --disable-gss
make
make install
***** End Code Block *****

Bootscripts for the client:

***** Begin Code Block *****
make install-nfs-client
***** End Code Block *****

The "stop" section of the nfs-client script should be changed to the following (otherwise when shutting down it will always respond "Not Running"):

***** Begin Code Block *****
skill -9 lockd
#killproc /usr/sbin/rpc.lockd
killproc /usr/sbin/rpc.statd
***** End Code Block *****

Bootscripts for the server:

***** Begin Code Block *****
make install-nfs-server
***** End Code Block *****

The "stop" section of the nfs-server script should be changed to be the following (otherwise when shutting down it always responds "Not running"):

***** Begin Code Block *****
killproc /usr/sbin/rpc.statd
skill -9 nfsd
#killproc /usr/sbin/rpc.nfsd
killproc /usr/sbin/rpc.mountd
***** End Code Block *****
\EndFolder
\NewEntry
Samba
\NewFolder
\NewEntry
samba-3.0.11

Forward Dependencies:
    gnome-vfs
    mplayer

NOTE: I don't compile against stunnel since I don't need to have encrypted access to SWAT.

***** Begin Code Block *****
cd source
install -d /var/cache/samba
./configure \
    --prefix=/usr \
    --sysconfdir=/etc \
    --localstatedir=/var \
    --with-piddir=/var/run \
    --with-fhs \
    --with-smbmount \
    --with-pam
make
make install
mv /usr/lib/samba/libsmbclient.so /usr/lib
ln -sf ../libsmbclient.so /usr/lib/samba
chmod 644 /usr/include/libsmbclient.h \
          /usr/lib/samba/libsmbclient.a
install -m755 nsswitch/libnss_win{s,bind}.so /lib
ln -sf libnss_winbind.so /lib/libnss_winbind.so.2
ln -sf libnss_wins.so /lib/libnss_wins.so.2
cp ../examples/smb.conf.default /etc/samba
install -m644 ../docs/*.pdf /usr/share/samba
if [ -f nsswitch/pam_winbind.so ]; then 
    install -m755 nsswitch/pam_winbind.so /lib/security
fi
echo "swat            901/tcp" >> /etc/services
echo "swat_tunnel     902/tcp" >> /etc/services
***** End Code Block *****

***** Begin Code Block *****
make install-samba
***** End Code Block *****
\EndFolder
\NewEntry
Subversion
\NewFolder
\NewEntry
subversion-1.2.0 Client

NOTE: Yelp not installed due to too many GNOME dependencies. Apache, Heimdal/MIT Kerberos are not required for this build, so not installed. Xinitd is not used on any of my systems, so not installed.

NOTE: libxml2, expat, Berkely db, GDBM, python, and java were all auto-detected. OpenSSH was not explicitly checked for, but is a run-time dependency. OpenSSL is not detected; use the following configure script option to enable OpenSSL:
    --enable--ssl

***** Begin Code Block *****
./configure --prefix=/usr --with-ssl
make
make install
install -v -d -m755 /usr/share/doc/subversion-1.2.0
cp -v -R doc/* /usr/share/doc/subversion-1.2.0
***** End Code Block *****

If the following error results:
  svn: Unrecognized URL scheme ...
then add the following preprocessor commands to neon/config.h
  #define HAVE_OPENSSL_OPENSSLV_H 1
  #define HAVE_OPENSSL_SSL_H 1
  #define NEON_SSL 1
\NewEntry
Subversion-1.1.3 Server

TODO: This commands are not verified yet.

Server Configuration

Perform the following only if it is also to be a subversion server
(repository):

***** Code Block *****
groupadd -g 18 svn
useradd -c "subversion" -d /home/svn -g svn -s /bin/false -u 18 svn
mkdir /home/svn
***** End Code Block *****

Wrapper scripts to ensure correct umask:

***** Begin Code Block *****
mv /usr/bin/svn /usr/bin/svn.orig
mv /usr/bin/svnserve /usr/bin/svnserve.orig
cat >> /usr/bin/svn << "EOF"
#!/bin/sh
umask 002
/usr/bin/svn.orig "$@"
EOF
cat >> /usr/bin/svnserve << "EOF"
#!/bin/sh
umask 002
/usr/bin/svnserve.orig "$@"
EOF
chmod 0755 /usr/bin/svn{,serve}
***** End Code Block *****

To setup subversion in daemon mode:

***** Code Block *****
make install-svn
***** End Code Block *****

To setup a repository:

***** Code Block *****
svnadmin create /home/svn
find /home/svn -exec chown user:group {} \;
chmod 755 /home/svn/db
chmod g+s /home/svn/db
find /home/svn/db -type f -exec chmod 0644 {} \;
***** End Code Block *****
\EndFolder
\NewEntry
NTP
\NewFolder
\NewEntry
ntp-4.2.0

NOTE: OpenSSL should be detected automatically.

***** Begin Code Block *****
patch -Np1 -i ../patches/ntp-4.2.0-gcc4.patch
./configure --prefix=/usr --bindir=/usr/sbin --sysconfdir=/etc
make
make install
***** End Code Block *****

***** Begin Code Block *****
cat > /etc/ntp.conf << "EOF"
server pool.ntp.org
server clock.psu.edu

driftfile /var/cache/ntp.drift
EOF
***** End Code Block *****

Install bootscripts:

***** Begin Code Block *****
make install-ntp
ln -sf ../init.d/setclock /etc/rc.d/rc0.d/K46setclock
ln -sf ../init.d/setclock /etc/rc.d/rc6.d/K46setclock
***** End Code Block *****
\EndFolder
\NewEntry
Mail
\NewFolder
\NewEntry
Procmail-3.22

***** Begin Code Block *****
make LOCKINGTEST=/tmp install
make install-suid
***** End Code Block *****
\NewEntry
Fetchmail-6.2.5

***** Begin Code Block *****
./configure --prefix=/usr --with-ssl --enable-fallback=procmail
make
make install
***** End Code Block *****

Perform this as your user:

***** Code Block *****
cat > ~/.fetchmailrc << "EOF"
set logfile /var/log/fetchmail.log
set no bouncemail
set postmaster root

poll SERVERNAME :
    user "username" pass "password";
    mda "/usr/bin/procmail -f %F -d %T";
EOF
chmod 0600 ~/.fetchmailrc
***** End Code Block *****

Set SERVERNAME to the hostname of your email server (POP access), and set username and password to what your email server will use to authenticate.
\NewEntry
Postfix-2.1.4

NOTE: If the build errors out complaining about undefined references to thread functions:
undefined reference to `pthread_condattr_setpshared'
undefined reference to `pthread_mutexattr_destroy'
undefined reference to `pthread_mutexattr_init'
undefined reference to `pthread_mutex_trylock'
Then add AUXLIBS="-lpthread" to the `make' command below. See
http://www.postfix.org/DB_README.html for further information on this ssue.

NOTE: If you are building postifx with cyrus sasl support, add the command:
make makefiles CCARGS="-DUSE_SSL -DUSE_SASL_AUTH -I/usr/include/sasl" \
    AUXLIBS="-L/usr/lib/sasl2 -lssl -lcrypto -lsasl2"
This was mentioned here:
  http://linuxfromscratch.org/pipermail/blfs-dev/2004-August/007146.html
When building with Cyrus sasl support, it was also suggested to use the Postfix/TLS patch:
  http://www.aet.tu-cottbus.de/personen/jaenicke/pfixtls/

NOTE: This package will utilize PCRE

***** Code Block *****
groupadd -g 16 postfix
groupadd -g 17 postdrop
groupadd -g 65534 nogroup
useradd -c postfix -d /dev/null -g postfix -s /bin/false -u 16 postfix
useradd -c nobody -d /home -g nogroup -s /bin/bash -u 65534 nobody
chown postfix:postfix /var/mail
***** End Code Block *****

Install postfix with:

***** Code Block *****
patch -p1 < ../patches/pfixtls.diff
make makefiles CCARGS="-DUSE_SSL -DUSE_SASL_AUTH -I/usr/include/sasl" \
    AUXLIBS="-L/usr/lib/sasl2 -lssl -lcrypto -lsasl2"
make
sh postfix-install daemon_directory=/usr/sbin \
                   manpage_directory=/usr/share/man \
                   sample_directory=/usr/share/doc/postfix \
                   -non-interactive
install -d /usr/share/doc/postfix
cp -rf html/* /usr/share/doc/postfix
***** End Code Block *****

Configure postfix with:

***** Code Block *****
cat > /etc/aliases << "EOF"
# Begin /etc/aliases

MAILER-DAEMON:    postmaster
postmaster:       root

root:             LOGIN
# End /etc/aliases
EOF
***** End Code Block *****

***** Code Block *****
sed -i 's/LOGIN/munozga@uwec.edu/' /etc/aliases
sed -i 's/#myhostname = host.domain.tld/myhostname = localhost.localdomain/' /etc/postfix/main.cf
/usr/bin/newaliases
/usr/sbin/postfix start
***** End Code Block *****

Install sysvinit script:

***** Code Block *****
make install-postfix
***** End Code Block *****
\NewEntry
gnupg-1.4.0

GnuPG is GNU's tool for secure communication and data storage. It can be used to encrypt data and to create digital signatures. It includes an advanced key management facility and is compliant with the proposed OpenPGP Internet standard as described in RFC2440.

Homepage: http://www.gnupg.org/

Forward Dependencies:
    libgcrypt

***** Begin Code Block *****
./configure --prefix=/usr --libexecdir=/usr/lib
make
make install
chmod 4755 /usr/bin/gpg
***** End Code Block *****
\NewEntry
Mutt-1.4.2.1i

***** Code Block *****
groupadd -g 18 mail
***** End Code Block *****

***** Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****

For gpg, execute as normal user (if not already setup):

***** Code Block *****
cat /usr/share/doc/mutt/samples/gpg.rc >> ~/.muttrc
***** End Code Block *****
\NewEntry
Grepmail-5.30

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
Kerberos
\NewFolder
\NewEntry
Heimdal-0.6.2

***** Begin Code Block *****
mv /usr/bin/ftp /usr/bin/ftpn
patch -Np1 -i ../patches/heimdal-0.6.2-cracklib-1.patch
patch -Np1 -i ../patches/heimdal-0.6.2-fhs_compliance-1.patch
./configure --prefix=/usr --sysconfdir=/etc/heimdal \
    --datadir=/var/lib/heimdal --libexecdir=/usr/sbin \
    --sharedstatedir=/usr/share --localstatedir=/var/lib/heimdal \
    --enable-shared --with-openssl=/usr
make
make install
mv /bin/login /bin/login.shadow
mv /bin/su /bin/su.coreutils
mv /usr/bin/{login,su} /bin
ln -sf ../../bin/login /usr/bin
mv /usr/lib/lib{otp.so.0,otp.so.0.1.4,kafs.so.0,kafs.so.0.4.0} /lib
mv /usr/lib/lib{krb5.so.17,krb5.so.17.3.0,asn1.so.6,asn1.so.6.0.2} /lib
mv /usr/lib/lib{roken.so.16,roken.so.16.0.3,crypto.so.0.9.7} /lib
mv /usr/lib/libdb-4.1.so /lib
ln -sf ../../lib/lib{otp.so.0,otp.so.0.1.4,kafs.so.0,kafs.so.0.4.0} \
    /usr/lib
ln -sf ../../lib/lib{krb5.so.17,krb5.so.17.3.0,asn1.so.6,asn1.so.6.0.2} /usr/lib
ln -sf ../../lib/lib{roken.so.16,roken.so.16.0.3,crypto.so.0.9.7} \
    /usr/lib
ln -sf ../../lib/libdb-4.1.so /usr/lib
ldconfig
***** End Code Block *****

NOTE: This package moves/removes other pre-existing binaries. This will screw up my package management. Update the package management logs or don't ever update inetutils, shadow, coreutils.

The following will update shadow and coreutils logs that had a binary renamed:

***** Begin Code Block *****
sed -i 's@/bin/login@/bin/login.shadow@' /var/log/pinst/shadow-*
sed -i 's@/bin/su@/bin/su.coreutils@' /var/log/pinst/coreutils-*
***** End Code Block *****

Hemidal will overwrite `rcp', `rsh', and `telnet' that were installed with inetutils. These binaries should be removed from the inetutils log, and added to the hemidal log. Also remember to update the name of the ftp to ftpn:

***** Begin Code Block *****
sed -i '/\/usr\/bin\/rcp/d' /var/log/pinst/inetutils-*
sed -i '/\/usr\/bin\/rsh/d' /var/log/pinst/inetutils-*
sed -i '/\/usr\/bin\/telnet/d' /var/log/pinst/inetutils-*
sed -i 's@/usr/bin/ftp@/usr/bin/ftpn@' /var/log/pinst/inetutils-*
***** End Code Block *****

Now, after logging hemidal, make sure it doesn't have any erroneous files logged:

***** Begin Code Block *****
sed -i '/\/bin\/su.coreutils/d' /var/log/pinst/hemidal-*
sed -i '/\/bin\/login.shadow/d' /var/log/pinst/hemidal-*
sed -i '/\/usr\/bin\/ftpn/d' /var/log/pinst/hemidal-*
***** End Code Block *****

The man pages for the files renamed should not have been updated by hemidal, so those should be fine.

Configuration (replace mppf with your hostname, and cs.uwec.edu with your domain):

***** Begin Code Block *****
install -d /etc/heimdal &&
cat > /etc/heimdal/krb5.conf << "EOF"
# Begin /etc/heimdal/krb5.conf

[libdefaults]
    default_realm = CS.UWEC.EDU
    encrypt = true

[realms]
    cs.uwec.edu = {
        kdc = mppf.cs.uwec.edu
        admin_server = mppf.cs.uwec.edu
        kpasswd_server = mppf.cs.uwec.edu
    }

[domain_realm]
    .cs.uwec.edu = cs.uwec.edu

[logging]
    kdc = FILE:/var/log/kdc.log
    admin_server = FILE:/var/log/kadmin.log
    default = FILE:/var/log/krb.log

# End /etc/heimdal/krb5.conf
EOF
***** End Code Block *****

Replace munozga with your username

***** Begin Code Block *****
install -d -m 755 /var/lib/heimdal
kstash
kadmin -l
kadmin> add munozga
kadmin> add --random-key host/mppf.cs.uwec.edu
kadmin> ext host/mppf.cs.uwec.edu
***** End Code Block *****

Add additional daemons like this:

***** Begin Code Block *****
add --random-key ssh/mppf.cs.uwec.edu
***** End Code Block *****

Exit the kadmin and test:

***** Begin Code Block *****
/usr/sbin/kdc &
kinit munozga
klist
ktutil list
***** End Code Block *****

Install bootscripts:

***** Begin Code Block *****
make install-heimdal
***** End Code Block *****

Remember to add entries into the /etc/services:
kx               49150/tcp   # Heimdal kerberos X
kx               49150/udp   # Heimdal kerberos X
\NewEntry
pam_krb5-1.3-rc7

Requires:
  PAM
  heimdal or MIT krb5

***** Begin Code Block *****
./configure --prefix=/usr --with-pamdir=/lib/security
make
make install
***** End Code Block *****

--with-pamdir: Specifies where to place the pam module
\NewEntry
Cyrus SASL-2.1.19

***** Begin Code Block *****
./configure --prefix=/usr \
    --sysconfdir=/etc \
    --localstatedir=/var/lib/sasl \
    --with-dbpath=/var/lib/sasl \
    --with-saslauthd=/var/lib/sasl \
    --with-openssl=/usr
make
make install
ldconfig
***** End Code Block *****

Remember to test the installation as per the hint.
\EndFolder
\NewEntry
LDAP
\NewFolder
\NewEntry
OpenLDAP-2.1.30

***** Begin Code Block *****
./configure --prefix=/usr --libexecdir=/usr/sbin \
    --sysconfdir=/etc --localstatedir=/var/lib \
    --disable-debug --enable-ldbm
make depend
make
make test
make install
***** End Code Block *****

In addition, perform the following commands to enable connection encryption (requires openssl):

***** Begin Code Block *****
mkdir /etc/openldap/ssl
cd /etc/openldap/ssl
openssl req -new -x509 -nodes -out slapd.pem -keyout slapd.key -days 365
***** End Code Block *****

Use the following script to start openldap for a server:

***** Begin Code Block *****
cat > /etc/rc.d/init.d/openldap << "EOF"
#!/bin/bash
# Begin $rc_base/init.d/

# Based on sysklogd script from LFS-3.1 and earlier.
# Rewritten by Gerard Beekmans  - gerard@linuxfromscratch.org

source /etc/sysconfig/rc
source $rc_functions

case "$1" in
	start)
		echo "Starting OpenLDAP..."
		loadproc /usr/sbin/slapd -h "ldap:///  ldaps:///"
		;;

	stop)
		echo "Stopping OpenLDAP..."
		killproc /usr/sbin/slapd
		;;

	restart)
		$0 stop
		sleep 1
		$0 start
		;;

	*)
		echo "Usage: $0 {start|stop|restart}"
		exit 1
		;;
esac

# End $rc_base/init.d/
EOF
chmod 0755 /etc/rc.d/init.d/openldap
ln -s  /etc/rc.d/init.d/openldap /etc/rc.d/rc0.d/K41openldap
ln -s  /etc/rc.d/init.d/openldap /etc/rc.d/rc1.d/K41openldap
ln -s  /etc/rc.d/init.d/openldap /etc/rc.d/rc2.d/K41openldap
ln -s  /etc/rc.d/init.d/openldap /etc/rc.d/rc3.d/S29openldap
ln -s  /etc/rc.d/init.d/openldap /etc/rc.d/rc4.d/S29openldap
ln -s  /etc/rc.d/init.d/openldap /etc/rc.d/rc5.d/S29openldap
ln -s  /etc/rc.d/init.d/openldap /etc/rc.d/rc6.d/K41openldap
***** End Code Block *****

Also make sure to add the following to /etc/syslog.conf:

***** Begin Code Block *****
local4.* -/var/log/openldap.log
***** End Code Block *****

Then restart the logging daemon with:

***** Begin Code Block *****
/etc/rc.d/init.d/syslogd restart
***** End Code Block *****
\EndFolder
\NewEntry
Firewall
\NewFolder
\NewEntry
iptables-1.3.1

Forward Dependencies:
    firestarter

***** Begin Code Block *****
make PREFIX=/usr LIBDIR=/lib BINDIR=/sbin
make PREFIX=/usr LIBDIR=/lib BINDIR=/sbin install
***** End Code Block *****
\EndFolder
\NewEntry
Development
\NewFolder
\NewEntry
Perl CPAN Modules

Enter a perl shell to install CPAN modules:
  # perl -MCPAN -e shell
\NewFolder
\NewEntry
Mail::Mailer

install Mail::Mailer
\NewEntry
Mail::IMAPClient

force install Mail::IMAPClient
\NewEntry
File::Slurp

install File::Slurp
\NewEntry
Getopt::Long

install Getopt::Long
\NewEntry
List::Util

install List::Util
\EndFolder
\NewEntry
icc-idb-8.1

***** Begin Code Block *****
tar xvjpf packages/icc-idb-8.1.tar.bz2 -C /opt
***** End Code Block *****

OR

***** Begin Code Block *****
tar xvjpf packages/icc-idb-mkl-vtune-8.1-extracted.tar.bz2 -C /opt
***** End Code Block *****
\NewEntry
ruby-1.8.2

Forward Dependencies:
    vim (graphics)

NOTE: OpenSSL, Tk, Berkely DB, and GDBM were not explicitly checked for by configure. However, all of the Ruby extensions using these packages were built successfully.

OPTIMIZATIONS: Do not use --fomit-frame-pointer when compiling Ruby. This option is known to break the build.

***** Begin Code Block *****
./configure --prefix=/usr --enable-shared \
    --enable-pthread --enable-install-doc
make
make install
make install-doc
***** End Code Block *****
\NewEntry
ruby-gnome2-all-0.12.0

Ruby-GNOME2 is a set of Ruby language bindings for the GNOME 2.0 development environment.

Homepage: http://ruby-gnome2.sourceforge.jp/

***** Begin Code Block *****
ruby ./extconf.rb
make
make install
***** End Code Block *****
\NewEntry
ruby-gtktrayicon-0.1.0

Ruby/GtkTrayIcon is a Ruby binding for the System Tray Protocol Specification based on code from the EGG library.

Homepage: http://ruby-gnome2.sourceforge.jp/

***** Begin Code Block *****
ruby ./extconf.rb
make
make install
***** End Code Block *****
\NewEntry
rbbr-0.6.0

rbbr (RuBy BRowser) is an application to browse modules/classes hierarchy and their constants and methods.

Homepage: http://ruby-gnome2.sourceforge.jp/hiki.cgi?rbbr
          http://ruby-gnome2.sourceforge.jp/data/ruby-gnome2-api.tar.gz

***** Begin Code Block *****
tar xvjf ../packages/ruby-gnome2-api.tar.bz2 -C data/rbbr/rd
ruby install.rb config
ruby install.rb setup
ruby install.rb install
***** End Code Block *****
\NewEntry
rubygems-0.8.10

Rails is a full-stack, open-source web framework in Ruby for writing real-world applications with joy and less code than most frameworks spend doing XML sit-ups.

Homepage: http://www.rubyonrails.com/

***** Begin Code Block *****
ruby setup.rb config --prefix=/usr
ruby setup.rb install
***** End Code Block *****
\NewEntry
valgrind-3.0.0

Valgrind is a GPL'd system for debugging and profiling x86-Linux programs.

Home page: http://valgrind.kde.org/

Dependencies:
    none

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
gdb-6.3

GDB, the GNU Project debugger, allows you to see what is going on `inside' another program while it executes -- or what another program was doing at the moment it crashed.

Home page: http://www.gnu.org/software/gdb/gdb.html

Optional Dependencies:
    gmp

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
gmp-4.1.4

Forward Dependencies:
    gdb

Dependencies:
    none

NOTE: This package will auto-detect the architecture in an attempt to optimize the build. When building generically, fix this issue.

***** Begin Code Block *****
./configure --prefix=/usr --enable-cxx \
    --enable-mpbsd --enable-mpfr
make
make install
***** End Code Block *****
\NewEntry
lesstif-0.94.4

Forward Dependencies:
    gdb
    xpdf

NOTE: LessTif will install a windown manager into the X11R6 directory. If the X Window System is ever removed, and re-installed, then these files should be re-installed as well.

***** Begin Code Block *****
find -name Makefile.in | \
    xargs sed -i 's@$(prefix)/LessTif@$(prefix)/share/LessTif@g'
./configure --prefix=/usr \
    --enable-build-21 \
    --disable-debug \
    --enable-production \
    --disable-build-tests \
    --with-xdnd
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
ddd-3.3.10

GNU DDD is a graphical front-end for command-line debuggers such as GDB, DBX, WDB, Ladebug, JDB, XDB, the Perl debugger, the bash debugger, or the Python debugger.

Homepage: http://www.gnu.org/software/ddd/

Required Dependencies:
    motif

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
splint-3.1.1

Splint is a tool for statically checking C programs for security vulnerabilities and coding mistakes.

Home page: http://www.splint.org/

Dependencies:
    none

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block ****
\NewEntry
doxygen-1.4.1

***** Begin Code Block *****
rm src/unistd.h
./configure --prefix /usr --docdir /usr/share/doc
make
make install
***** End Code Block *****
\NewEntry
bochs-2.1.1

Bochs is a highly portable open source IA-32 (x86) PC emulator written in C++, that runs on most popular platforms.

Home page: http://bochs.sourceforge.net/

Dependencies:
    X11

NOTE: To enable the bochs debugger (recommended), use the following two configure options:
    --enable-debugger
    --enable-disasm

***** Begin Code Block *****
./configure --prefix=/usr --enable-debugger \
    --enable-disasm --disable-docbook
make
make install
***** End Code Block *****
\NewEntry
qemu-0.8.0

QEMU is a generic and open source processor emulator which achieves a good emulation speed by using dynamic translation.

Homepage: http://fabrice.bellard.free.fr/qemu/

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
guile-1.6.7

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
monodevelop-svn-20050313

NOTE: This is a version taken directly from HEAD SVN:
    svn co svn://svn.myrealbox.com/monodevelop/trunk/MonoDevelop

MonoDevelop is a project to port SharpDevelop to Gtk#.

Homepage: http://www.monodevelop.com/

Required Dependencies:
    gnome-vfs-2.0 >= 2.0
    mono >= 1.0
    gtk-sharp >= 1.9.2 (gtk-sharp, gnome-sharp, gnome-vfs-sharp,
                        glade-sharp, gconf-sharp, gtkhtml-sharp)
    gtksourceview-sharp >= 0.6.99
    gecko-sharp >= 0.7 (At this time, this is a HEAD SVN version)
    monodoc >= 1.0
    gtk+-2.0 >= 2.2.0
    libglade-2.0 >= 2.0.0
    libxml-2.0 >= 2.2.8

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
gtksourceview-sharp-svn-20050313 (0.6.99)

NOTE: Version 0.6.99 is taken from HEAD SVN:
  svn co svn://svn.myrealbox.com/source/trunk/gtksourceview-sharp

Homepage: http://www.mono-project.com/

Required Dependencies:
    mono >= 1.0
    gtk-sharp-2.0 >= 1.9.0
    monodoc >= 0.16
    gtksourceview-1.0 >= 1.0.0

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
gtk-sharp-1.9.2

Gtk# is a .Net language binding for the gtk+ toolkit and assorted GNOME libraries.

Homepage: http://gtk-sharp.sourceforge.net/

Required Dependencies:
    mono >= 0.96
    pango >= 1.4
    gtk+-2.0 >= 2.4
    libgnomecanvas-2.0 >= 2.2.0
    libgnomeui-2.0 >= 2.2.0
    libglade-2.0 >= 2.3.6
    libxml-2.0 >= 2.3.16
    libart-2.0 >= 2.3.16
    gnome-vfs-2.0 >= 2.6.0

Optional Dependencies:
    libgnomeprintui-2.2 >= 2.6.0
    gnome-panel-2.0 >= 2.4 (for libpanelapplet-2.0.pc)
    libgda >= 1.0.0
    librsvg-2.0 >= 2.0.1
    gtkhtml-3.0 >= 3.0.10 OR gtkhtml-3.1 >= 3.2.0
    libgnomedb

NOTE: The symlinks to gapi2-codegen and gapi2-fixup are for gmime-2.1.13.

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
ln -s /usr/bin/gapi2-codegen /usr/bin/gapi-codegen
ln -s /usr/bin/gapi2-fixup /usr/bin/gapi-fixup
ln -s /usr/lib/pkgconfig/vte-sharp-2.0.pc \
    /usr/lib/pkgconfig/vte-sharp.pc
ln -s /usr/lib/pkgconfig/gda-sharp-2.0.pc \
    /usr/lib/pkgconfig/gda-sharp.pc
ln -s /usr/lib/pkgconfig/gnome-sharp-2.0.pc \
    /usr/lib/pkgconfig/gnome-sharp.pc
ln -s /usr/lib/pkgconfig/gtkhtml-sharp-2.0.pc \
    /usr/lib/pkgconfig/gtkhtml-sharp.pc
ln -s /usr/lib/pkgconfig/gnome-vfs-sharp-2.0.pc \
    /usr/lib/pkgconfig/gnome-vfs-sharp.pc
ln -s /usr/lib/pkgconfig/gnomedb-sharp-2.0.pc \
    /usr/lib/pkgconfig/gnomedb-sharp.pc
ln -s /usr/lib/pkgconfig/art-sharp-2.0.pc \
    /usr/lib/pkgconfig/art-sharp.pc
ln -s /usr/lib/pkgconfig/gtk-dotnet-2.0.pc \
    /usr/lib/pkgconfig/gtk-dotnet.pc
ln -s /usr/lib/pkgconfig/gapi-2.0.pc \
    /usr/lib/pkgconfig/gapi.pc
ln -s /usr/lib/pkgconfig/rsvg-sharp-2.0.pc \
    /usr/lib/pkgconfig/rsvg-sharp.pc
ln -s /usr/lib/pkgconfig/glade-sharp-2.0.pc \
    /usr/lib/pkgconfig/glade-sharp.pc
ln -s /usr/lib/pkgconfig/gconf-sharp-2.0.pc \
    /usr/lib/pkgconfig/gconf-sharp.pc
ln -s /usr/lib/pkgconfig/gtk-sharp-2.0.pc \
    /usr/lib/pkgconfig/gtk-sharp.pc
***** End Code Block *****

NOTE: The symlinks are required for some older packages (e.g. monodoc-1.0.6) designed for previous versions of gtk-sharp that must have had different names for the pkgconfig files.
\NewFolder
\NewEntry
mono-1.1.4

Homepage: http://www.mono-project.com/

Forward Dependencies:
    gtk-sharp
    monodoc
    monodevelop
    gtksourceview-sharp
    dbus

Required Dependencies:
    glib-2.0 >= 1.3.11

Optional Dependencies:
    ICU (for complete support of international .NET features)
    libgdiplus (for System.Drawing)
    cairo == 0.2.0 (for System.Drawing)
    java (required?)

NOTE: mono is known to conflict with versions of pnet (Portable .NET).

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc \
    --with-ikvm-jni=yes --with-icu=yes \
    --with-preview=yes
make
make check
make install
find /usr/lib/mono/gac -type f -name *.dll -exec chmod 755 {} \;
***** End Code Block *****

Test the installation:

***** Begin Code Block *****
echo 'class X { static void Main () { System.Console.Write("OK") ;}}' > x.cs
mcs x.cs
mono x.exe
***** End Code Block *****

If you receive erros when starting anything mono-related that say something like the following:
  ** (./MonoDevelop.exe:27900): WARNING **: Could not find assembly
  System, references from /usr/lib/monodevelop/bin/./MonoDevelop.exe
  (assemblyref_index=1)
     Major/Minor: 1,0
     Build:       5000,0
     Token:       b77a5c561934e089
  System error: No such file or directory
  cannot open assembly ./MonoDevelop.exe

Then it may be one of two things:
  1) You need to set the environment variable for MONO_GAC_PREFIX if
     you installed mono (or some other mono-related package) into an
     alternate prefix (e.g. `export MONO_GAC_PREFIX=/usr/local').
  2) You don't have permissions for the offending file. With this
     version of mono (1.0.6), many of the library files were installed
     with improper permissions. If that is the case then use the
     following command to fix the permissions:

***** Begin Code Block *****
find /usr/lib/mono/gac -type f -name *.dll -exec chmod 755 {} \;
***** End Code Block *****
\NewFolder
\NewEntry
icu-3.2

NOTE: This package has a hidden dependecy. It won't work without this dependency. Find out what this package is? If this problem occurs try ic-2.6.2: http://www.go-mono.com/packagers/icu/icu-2.6.2.tar.gz

ICU is a mature, widely used set of C/C++ and Java libraries for Unicode support, software internationalization and globalization (i18n/g11n).

Homepage: http://www-306.ibm.com/software/globalization/icu/index.jsp

Forward Dependencies:
    mono

***** Begin Code Block *****
cd source
./runConfigureICU LinuxRedHat --prefix=/usr
make
make check
make install
***** End Code Block *****
\NewEntry
libgdiplus-1.1.4

libgdiplus: An Open Source implementation of the GDI+ API. This is part of the Mono project.

Homepage: http://www.go-mono.com/

Forward Dependencies:
    mono

Required Dependencies:
    glib-2
    cairo == 0.2.0

Optional Dependencies:
    libtiff
    libjpeg
    libungif
    libpng
    glitz (can't get libgdiplus to compile with it correctly)

***** Begin Code Block *****
./configure --prefix=/usr --with-cairo=included
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
cairo-0.4.0

Cairo is a vector graphics library with cross-device output support.

Homepage: http://cairographics.org/

Forward Dependencies:
    libgdi

Required Dependencies:
    xorg
    libpng
    freetype
    libpixman

Optional Dependencies:
    glitz
    XCB   (not recommended--not sure what is up here?)
    gtk-doc

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
libpixman-0.1.4

libpixregion is a generic library for manipulating pixel regions.

Homepage: http://cairographics.org/

Forward Dependencies:
    cairo

Required Dependencies:
    none

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
glitz-0.4.0

NOTE: Not installed prior to cairo due to cairo + glitz incompatabilities.

Glitz is an OpenGL image compositing library.

Homepage: http://cairographics.org/

Forward Dependencies:
    cairo
    xserver

Required Dependencies:
    xorg

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\EndFolder
\EndFolder
\EndFolder
\NewEntry
monodoc-1.0.6

Forward Dependencies:
    gtksourceview-sharp
    dbus

Required Dependencies:
    mono >= 0.90
    gtk-sharp >= 0.91 (needs gtkhtml-sharp, glade-sharp)

NOTE: Create the monodoc index with `monodoc --make-index'. The index is created and will require root permissions. Otherwise the index for the documentation will not be available. This command can be run at anytime after monodoc has been installed.

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
monodoc --make-index
***** End Code Block *****
\NewFolder
\NewEntry
XML-LibXML-1.58

***** Begin Code Block *****
perl -MCPAN -e shell
cpan> install XML::LibXML
***** End Code Block *****
\NewFolder
\NewEntry
XML-LibXML-Common-0.13

***** Begin Code Block *****
perl -MCPAN -e shell
cpan> install XML::LibXML::Common
***** End Code Block *****
\NewEntry
XML-SAX-0.12

***** Begin Code Block *****
perl -MCPAN -e shell
cpan> install XML::SAX
***** End Code Block *****
\NewFolder
\NewEntry
XML::NamespaceSupport-1.08

***** Begin Code Block *****
perl -MCPAN -e shell
cpan> install XML::NamespaceSupport
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
XML-NodeFilter-0.01

***** Begin Code Block *****
perl -MCPAN -e shell
cpan> install XML::NodeFilter
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
gecko-sharp-svn-20050313 (0.6.99) (gtkmozembed-sharp)

NOTE: Version 0.6.99 is taken from HEAD SVN:
  svn co svn://svn.myrealbox.com/source/trunk/gtkmozembed-sharp

Forward Dependencies:
    monodevelop

Required Dependencies:
    gtk+-2
    firefox (or mozilla)
    mono >= 0.95
    gtk-sharp >= 1.9.0

NOTE: The symlink to gecko-sharp-2.0.pc is for beagle-0.0.7.

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
ln -s /usr/lib/pkgconfig/gecko-sharp-2.0.pc \
    /usr/lib/pkgconfig/gecko-sharp.pc
***** End Code Block *****
\EndFolder
\NewEntry
xml-rpc.net-0.9.1

XML-RPC.NET is a library for implementing XML-RPC Services and clients in the .NET environment.

Homepage: http://www.xml-rpc.net/

NOTE: The souce files *don't* extract into their own directory.

***** Begin Code Block *****
cd src
sn -k customkey.snk
sed -i 's/c:\\\\Cook Computing\\\\CookComputing.key/customkey.snk/g' \
    AssemblyInfo.cs
mcs /target:library /out:CookComputing.XmlRpc.dll *.cs \
    -r System.Web.dll -r System.Web.Services
gacutil -i CookComputing.XmlRpc.dll -package xml-rpc.net
chmod 755 \
    /usr/lib/mono/gac/CookComputing.XmlRpc/*/CookComputing.XmlRpc.dll
***** End Code Block *****
\NewEntry
xsp-1.0.6

The XSP server is a small web server that hosts the Mono System.Web classes for running what is commonly known as ASP.NET.

Homepage: http://www.go-mono.com/

Required Dependencies:
    mono (with version 2.0 preview)

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
Graphics
\NewFolder
\NewEntry
xorg-6.8.2

NOTE: The following packages are known to install either partially or completely within the X11R6 directory:
    freeglut-2.2.0
    lesstif-0.94.0
    nas-1.6

Prepare the X build:

***** Begin Code Block *****
sed -i '/^SUBDIRS =/s/ etc$//' programs/Xserver/Xprint/Imakefile
pushd config/util
make -f Makefile.ini lndir
cp lndir /usr/bin/
popd
mkdir ../xcbuild
cd ../xcbuild
lndir ../xc
***** End Code Block *****

Create the host.def file and modify it for optimizations, etc.

Compile:

NOTE: AgpGartDrivers won't build. Exclude them from the host.def file.

***** Begin Code Block *****
sed -i -e "s@^#include <linux/config.h>@/* & */@" \
    `grep -lr linux/config.h *`
( make World 2>&1 | tee xorg-compile.log && exit $PIPESTATUS )
make install
make install.man
ln -sf ../X11R6/bin /usr/bin/X11
ln -sf ../X11R6/lib/X11 /usr/lib/X11
ln -sf ../X11R6/include/X11 /usr/include/X11
ln -sf ../X11R6/bin /usr/bin/X11
ln -sf ../X11R6/lib/X11 /usr/lib/X11
ln -sf ../X11R6/include/X11 /usr/include/X11
***** End Code Block *****

TrueType Fonts:

***** Begin Code Block *****
tar xvjpf packages/TrueType.tar.bz2 -C /usr/X11R6/lib/X11/fonts
cd /usr/X11R6/lib/X11/fonts/TrueType
mkfontscale
mkfontdir
sed -i -e '/^<\/fontconfig>/i\
    <dir>/usr/X11R6/lib/X11/fonts/TTF</dir>\
    <dir>/usr/X11R6/lib/X11/fonts/Type1</dir>\
    <dir>/usr/X11R6/lib/X11/fonts/TrueType</dir>' /etc/fonts/local.conf
fc-cache
***** End Code Block *****
\NewFolder
\NewEntry
libpng-1.2.8

Forward Dependencies:
    xorg
    dillo
    mplayer
    ghostscript
    imagemagick
    libquicktime
    wxgtk
    dia

NOTE: Add custom compiler flags to the CFLAGS variable in 'scripts/makefile.linux'.

***** Begin Code Block *****
patch -Np1 -i ../patches/libpng-1.2.8-link_to_proper_libs-1.patch
make prefix=/usr ZLIBINC=/usr/include \
    ZLIBLIB=/usr/lib -f scripts/makefile.linux
make prefix=/usr install -f scripts/makefile.linux
***** End Code Block *****
\NewEntry
fontconfig-2.3.1

Forward Dependencies:
    xorg
    pango
    mplayer
    libgnomeprint

NOTE: If this package does not build with docbook, then move docbook2html to /tmp to force the configure script to fail detecting docbook. Disabling docbook with the configure command will not stop it from building.

***** Begin Code Block *****
sed -i.orig \
    -e "/CATALOG \/etc\/sgml\/OpenSP-1.5.1.cat/d" \
    /etc/sgml/catalog \
    /etc/sgml/sgml-docbook.cat
./configure --prefix=/usr --sysconfdir=/etc --disable-docs \
    --with-add-fonts=/usr/X11R6/lib/X11/fonts/TTF,/usr/X11R6/lib/X11/fonts/Type1,/usr/X11R6/lib/X11/fonts/TrueType
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
freetype-2.1.9

Forward Dependencies:
    fontconfig
    mplayer
    transcode
    imagemagick
    xpdf
    dia

***** Begin Code Block *****
patch -Np1 -i ../patches/freetype-2.1.9-bytecode_interpreter-1.patch
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
expat-1.95.8

Forward Dependencies:
    fontconfig
    subversion
    wxgtk
    dbus

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
docbook-utils-0.6.14

Forward Dependencies:
    xorg

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
for doctype in html ps dvi man pdf rtf tex texi txt
do
    ln -s docbook2$doctype /usr/bin/db2$doctype
done
***** End Code Block *****
\NewFolder
\NewEntry
openjade-1.3.2

***** Begin Code Block *****
./configure --prefix=/usr --enable-http --disable-static \
    --enable-default-catalog=/etc/sgml/catalog \
    --enable-default-search-path=/usr/share/sgml \
    --datadir=/usr/share/sgml/openjade-1.3.2
make
make install
ln -sf openjade /usr/bin/jade
ln -sf libogrove.so /usr/lib/libgrove.so
ln -sf libospgrove.so /usr/lib/libspgrove.so
ln -sf libostyle.so /usr/lib/libstyle.so
install -m644 dsssl/catalog /usr/share/sgml/openjade-1.3.2/
install -m644 dsssl/*.{dtd,dsl,sgm} \
    /usr/share/sgml/openjade-1.3.2
install-catalog --add /etc/sgml/openjade-1.3.2.cat \
    /usr/share/sgml/openjade-1.3.2/catalog
install-catalog --add /etc/sgml/sgml-docbook.cat \
    /etc/sgml/openjade-1.3.2.cat
echo "SYSTEM \"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd\" \
    \"/usr/share/xml/docbook/xml-dtd-4.3/docbookx.dtd\"" >> \
    /usr/share/sgml/openjade-1.3.2/catalog
***** End Code Block *****
\NewFolder
\NewEntry
OpenSP-1.5.1

***** Begin Code Block *****
patch -Np1 -i ../patches/OpenSP-1.5.1-LITLEN-1.patch
patch -Np1 -i ../patches/OpenSP-1.5.1-gcc34-1.patch
./configure --prefix=/usr --disable-static --enable-http \
    --enable-default-catalog=/etc/sgml/catalog \
    --enable-default-search-path=/usr/share/sgml
make pkgdatadir=/usr/share/sgml/OpenSP-1.5.1
make pkgdatadir=/usr/share/sgml/OpenSP-1.5.1 install
ln -sf onsgmls /usr/bin/nsgmls
ln -sf osgmlnorm /usr/bin/sgmlnorm
ln -sf ospam /usr/bin/spam
ln -sf ospcat /usr/bin/spcat
ln -sf ospent /usr/bin/spent
ln -sf osx /usr/bin/sx
ln -sf osx /usr/bin/sgml2xml
ln -sf libosp.so /usr/lib/libsp.so
***** End Code Block *****
\NewFolder
\NewEntry
sgml-common-0.6.3

***** Begin Code Block *****
patch -Np1 -i ../patches/sgml-common-0.6.3-manpage-1.patch
aclocal
automake -acf
autoconf
./configure --prefix=/usr --sysconfdir=/etc
make
make install
install-catalog --add /etc/sgml/sgml-ent.cat \
    /usr/share/sgml/sgml-iso-entities-8879.1986/catalog
install-catalog --add /etc/sgml/sgml-docbook.cat \
    /etc/sgml/sgml-ent.cat
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
docbook-dsssl-1.78

***** Begin Code Block *****
mkdir -p /usr/share/sgml/docbook/dsssl-stylesheets-1.78/dtds/decls &&
mkdir -p /usr/share/sgml/docbook/dsssl-stylesheets-1.78/lib &&
mkdir -p /usr/share/sgml/docbook/dsssl-stylesheets-1.78/common &&
mkdir -p /usr/share/sgml/docbook/dsssl-stylesheets-1.78/html &&
mkdir -p /usr/share/sgml/docbook/dsssl-stylesheets-1.78/print &&
mkdir -p /usr/share/sgml/docbook/dsssl-stylesheets-1.78/test &&
mkdir -p /usr/share/sgml/docbook/dsssl-stylesheets-1.78/images &&
install bin/collateindex.pl /usr/bin &&
cp catalog VERSION /usr/share/sgml/docbook/dsssl-stylesheets-1.78 &&
cp dtds/decls/*.dcl \
    /usr/share/sgml/docbook/dsssl-stylesheets-1.78/dtds/decls &&
cp lib/dblib.dsl /usr/share/sgml/docbook/dsssl-stylesheets-1.78/lib &&
cp common/*.dsl /usr/share/sgml/docbook/dsssl-stylesheets-1.78/common &&
cp common/*.ent /usr/share/sgml/docbook/dsssl-stylesheets-1.78/common &&
cp html/*.dsl /usr/share/sgml/docbook/dsssl-stylesheets-1.78/html &&
cp print/*.dsl /usr/share/sgml/docbook/dsssl-stylesheets-1.78/print &&
cp images/*.gif /usr/share/sgml/docbook/dsssl-stylesheets-1.78/images &&
install-catalog --add /etc/sgml/dsssl-docbook-stylesheets.cat \
    /usr/share/sgml/docbook/dsssl-stylesheets-1.78/catalog &&
install-catalog --add /etc/sgml/sgml-docbook.cat \
    /etc/sgml/dsssl-docbook-stylesheets.cat
***** End Code Block *****
\NewEntry
docbook-sgml-dtd-3.1

***** Begin Code Block *****
sed -i -e '/ISO 8879/d' \
    -e 's|DTDDECL "-//OASIS//DTD DocBook V3.1//EN"|SGMLDECL|g' \
    docbook.cat &&
install -d /usr/share/sgml/docbook/sgml-dtd-3.1 &&
chown -R root:root . &&
install docbook.cat /usr/share/sgml/docbook/sgml-dtd-3.1/catalog &&
cp -af *.dtd *.mod *.dcl /usr/share/sgml/docbook/sgml-dtd-3.1 &&
install-catalog --add /etc/sgml/sgml-docbook-dtd-3.1.cat \
    /usr/share/sgml/docbook/sgml-dtd-3.1/catalog &&
install-catalog --add /etc/sgml/sgml-docbook-dtd-3.1.cat \
    /etc/sgml/sgml-docbook.cat
cat >> /usr/share/sgml/docbook/sgml-dtd-3.1/catalog << "EOF"
  -- Begin Single Major Version catalog changes --

PUBLIC "-//Davenport//DTD DocBook V3.0//EN" "docbook.dtd"

  -- End Single Major Version catalog changes --
EOF
***** End Code Block *****
\NewEntry
jadetex-3.13

***** Begin Code Block *****
cp -v -R /usr/share/texmf/tex/latex/config . &&
cd config &&
tex -ini -progname=latex latex.ini &&
cd ..
mv /usr/share/texmf/web2c/latex.fmt \
   /usr/share/texmf/web2c/latex.fmt.orig &&
install -v -m644 config/latex.fmt /usr/share/texmf/web2c &&
make install &&
ln -v -sf tex /usr/bin/jadetex &&
ln -v -sf pdftex /usr/bin/pdfjadetex &&
mktexlsr
***** End Code Block *****
\NewFolder
\NewEntry
tex-2.0.2

***** Begin Code Block *****
install -v -d -m755 /usr/share/texmf
gzip -dc ../packages/tetex-texmf-2.0.2.tar.gz \
    | (umask 0; cd /usr/share/texmf; tar -xf -)
gzip -dc ../packages/tetex-texmfsrc-2.0.2.tar.gz \
    | (umask 0; cd /usr/share/texmf; tar -xf -)
patch -Np1 -i ../patches/tetex-src-2.0.2-flex-1.patch
patch -Np1 -i ../patches/tetex-src-2.0.2-remove_readlink-1.patch
./configure --with-x=no --prefix=/usr \
    --without-texinfo --with-system-ncurses --with-system-zlib \
    --exec-prefix=/usr --bindir=/usr/bin
make all
make install
texconfig dvips paper a4
texconfig font rw
***** End Code Block *****
\NewFolder
\NewEntry
ed-0.2

***** Begin Code Block *****
patch -Np1 -i ../patches/ed-0.2-mkstemp-1.patch
./configure --prefix=/usr --exec-prefix=""
make
make install
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
SGMLSpm-1.03ii

***** Begin Code Block *****
sed -i -e "s@/usr/local/bin@/usr/bin@" \
       -e "s@/usr/local/lib/perl5@/usr/lib/perl5/site_perl/5.8.6@" \
       -e "s@/usr/local/lib/www/docs@/usr/share/doc/perl5@" \
    Makefile
make install
install -v -d -m755 /usr/share/doc/perl5
make install_html
rm -v -f /usr/share/doc/perl5/SGMLSpm/sample.pl
install -v -m644 DOC/sample.pl /usr/share/doc/perl5/SGMLSpm
***** End Code Block *****
\EndFolder
\EndFolder
\EndFolder
\NewEntry
NVIDIA Binary Drivers
\NewFolder
\NewEntry
NVIDIA-Linux-x86-1.0-5336-pkg1

Quick hack
==========

Links:
  http://webpages.charter.net/decibelshelp/LinuxHelp_UDEVPrimer.html

Add the following to the function `make_extra_nodes' in the start
up script `/etc/rc.d/init.d/udev':

***** Begin Code Block *****
mknod -m /dev/nvidia0 c 195 0
mknod -m /dev/nvidiactl c 195 255
***** End Code Block *****

Add additional /dev/nvidia? device files by adding additional lines,
while incrementing both device file number and the minor number.

Correct hack
============

Links:
  http://www.reactivated.net/udevrules.php#nvidia
  http://gobolinux.org/kb/index.php/Udev%20Howto

Sysfs patch can be found here:
  http://lkml.org/lkml/diff/2004/2/1/56/1

To patch the driver (execute within top-level directory):

***** Begin Code Block *****
patch -p1 < ../patches/nvidia-sysfs-1.0-5336-pkg1.patch
***** End Code Block *****

To patch with the minion.de patch (http://www.minion.de/):

***** Begin Code Block *****
cd usr/src/nv
patch -p1 < ../../../../patches/NVIDIA_kernel-1.0-5336-2.6.diff
***** End Code Block *****

You may need to re-make parts of the kernel:

***** Begin Code Block *****
make mrproper
cp /boot/config-2.6.6-hda7 .config
make include/linux/autoconf.h
make include/linux/version.h
make include/asm
make scripts
***** End Code Block *****

Some of the above commands may not need to be run. However, it won't
hurt to make an attempt at building them, the kernel will simply
say that the make target is up to date.

Now, add the following to the function `make_extra_nodes' in the
start up script `/etc/rc.d/init.d/udev':

***** Begin Code Block *****
modprobe nvidia
***** End Code Block *****

This will force the load of the nvidia driver on boot and will
populate relevant /dev entries. Otherwise this may take too long
to occur.
\NewEntry
NVIDIA-Linux-x86-1.0-6629-pkg1

Homepage: http://www.nvidia.com/content/drivers/drivers.asp

Patches:
    http://www.minion.de/
    http://www.minion.de/files/1.0-6629/
    http://seclists.org/lists/linux-kernel/2005/Jan/att-7823/NVIDIA_kernel-multiagp.diff
    http://blackhole.cs.uwec.edu/~munozga/patches/

***** Begin Code Block *****
sh ./NVIDIA-Linux-x86-1.0-6629-pkg1.run --extract-only
***** End Code Block *****

***** Begin Code Block *****
cd usr/src/nv
patch -p3 < ../../../../patches/NVIDIA_kernel-1.0-6629-1155389.diff
patch -p3 < ../../../../patches/NVIDIA_kernel-1.0-6629-1161283.diff
patch -p3 < ../../../../patches/NVIDIA_kernel-1.0-6629-1165235.diff
patch -p3 < ../../../../patches/NVIDIA_kernel-1.0-6629-1171869.diff
patch -p3 < ../../../../patches/NVIDIA_kernel-1.0-6629-1175225.diff
patch -p3 < ../../../../patches/NVIDIA_kernel-1.0-6629-1182399.diff
patch -p3 < ../../../../patches/NVIDIA_kernel-1.0-6629-1189413.diff
patch -p3 < ../../../../patches/NVIDIA_kernel-1.0-6629-1201042.diff
patch -p3 < ../../../../patches/NVIDIA_kernel-multiagp.diff
cd ../../..
make install
***** End Code Block *****

OR my custom patch:

***** Begin Code Block *****
patch -Np1 -i ../patches/NVIDIA-Linux-x86-1.0-6629-pkg1-2.6.11-rc3-mm1-1.patch
make install
***** End Code Block *****
\EndFolder
\NewEntry
openbox-3.2

Required Dependencies:
    pkgconfig
    glib-2.0
    libxml2

Optional Dependencies:
    startup-notification

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
glib-2.6.3

Forward Dependencies:
    openbox
    pango
    atk
    libIDL
    shared-mime-info
    gnet
    gtkspell
    pygtk
    shared-mime-info
    sshfs-fuse
    streamtuner
    dia
    libgda
    libcroco
    libgsf
    libsoup
    dbus
    gmime

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
pkgconfig-0.15.0

Forward Dependencies:
    openbox
    glib
    libvorbis
    curl
    libdv
    subversion
    libxklavier

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
gtk-doc-1.3

***** Begin Code Block *****
./configure --prefix=/usr
make install
***** End Code Block *****
\NewFolder
\NewEntry
libxslt-1.1.12

NOTE: Python and libgcryp will be auto-detected by configure.

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
libxml2-2.6.19

Forward Dependencies:
    openbox
    gconf
    libbonobo
    shared-mime-info
    libxslt
    libglade
    transcode
    imagemagick
    subversion
    pan
    shared-mime-info
    xscreensaver
    streamtuner
    dia
    libgnomeprint
    gtk-sharp
    libgda
    librsvg
    libcroco
    libgsf
    libsoup
    dbus
    libxklavier

***** Begin Code Block *****
./configure --prefix=/usr --with-history
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
Python-2.4.1

Forward Dependencies:
    libxml2
    libxslt
    libglade
    vim (graphics)
    subversion
    pygtk
    pyorbit
    streamtuner
    pypanel
    vte
    dia
    dbus

NOTE: OpenSSL, Tk, GDBM, and DB (with the help of a patch) will be auto-detected by the python build system. Although, non are reported by configure, but the 'make' build will utilize them correctly.

***** Begin Code Block *****
patch -Np1 -i ../patches/Python-2.4.1-gdbm-1.patch
./configure --prefix=/usr --enable-shared
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
tk-8.4.9

Forward Dependencies:
    python
    ruby
    gaim

***** Begin Code Block *****
export VERSION=8.4.9 &&
export V=`echo $VERSION | cut -d "." -f 1,2` &&
export DIR=$PWD &&
cd unix &&
./configure --prefix=/usr --enable-threads &&
make &&
sed -i "s:${DIR}/unix:/usr/lib:" tkConfig.sh &&
sed -i "s:${DIR}:/usr/include/tk${V}:" tkConfig.sh &&
make install &&
install -d /usr/include/tk${V}/unix &&
install -m644 *.h /usr/include/tk${V}/unix/ &&
install -d /usr/include/tk${V}/generic &&
install -m644 ../generic/*.h /usr/include/tk${V}/generic/ &&
rm -f /usr/include/tk${V}/generic/{tk,tkDecls,tkPlatDecls}.h &&
ln -nsf ../../include/tk${V} /usr/lib/tk${V}/include &&
ln -sf libtk${V}.so /usr/lib/libtk.so &&
ln -sf wish${V} /usr/bin/wish &&
unset VERSION &&
unset V &&
unset DIR
***** End Code Block *****
\NewEntry
gdbm-1.8.3

Forward Dependencies:
    python
    ruby
    subversion

***** Begin Code Block *****
./configure --prefix=/usr
make
make BINOWN=root BINGRP=root install
make BINOWN=root BINGRP=root install-compat
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
libgcrypt-1.2.1

Libgcrypt is a general purpose crypto library based on the code used in GnuPG.

Homepage: http://www.gnupg.org/

Forward Dependencies:
    libxslt

Required Dependencies:
    libpgp-error

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
libgpg-error-1.0

This is a library that defines common error values for all GnuPG components.

Homepage: http://www.gnupg.org/

Forward Dependencies:
    libgcrypt

Required Dependencies:
    none

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\EndFolder
\EndFolder
\NewEntry
docbook-xml-4.3

***** Begin Code Block *****
install -d /usr/share/xml/docbook/xml-dtd-4.3 &&
chown -R root:root . &&
cp -af docbook.cat *.dtd ent/ *.mod \
    /usr/share/xml/docbook/xml-dtd-4.3 &&
if [ ! -e /etc/xml/catalog ]; then mkdir -p /etc/xml; xmlcatalog \
    --noout --create /etc/xml/catalog; fi &&
if [ ! -e /etc/xml/docbook ]; then xmlcatalog --noout --create \
    /etc/xml/docbook; fi &&
xmlcatalog --noout --add "public" \
    "-//OASIS//ELEMENTS DocBook XML Information Pool V4.3//EN" \
    "file:///usr/share/xml/docbook/xml-dtd-4.3/dbpoolx.mod" \
    /etc/xml/docbook &&
xmlcatalog --noout --add "public" \
    "-//OASIS//DTD DocBook XML V4.3//EN" \
    "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" \
    /etc/xml/docbook &&
xmlcatalog --noout --add "public" \
    "-//OASIS//ENTITIES DocBook XML Character Entities V4.3//EN" \
    "file:///usr/share/xml/docbook/xml-dtd-4.3/dbcentx.mod" \
    /etc/xml/docbook &&
xmlcatalog --noout --add "public" \
    "-//OASIS//ENTITIES DocBook XML Notations V4.3//EN" \
    "file:///usr/share/xml/docbook/xml-dtd-4.3/dbnotnx.mod" \
    /etc/xml/docbook &&
xmlcatalog --noout --add "public" \
    "-//OASIS//ENTITIES DocBook XML Additional General Entities V4.3//EN" \
    "file:///usr/share/xml/docbook/xml-dtd-4.3/dbgenent.mod" \
    /etc/xml/docbook &&
xmlcatalog --noout --add "public" \
    "-//OASIS//ELEMENTS DocBook XML Document Hierarchy V4.3//EN" \
    "file:///usr/share/xml/docbook/xml-dtd-4.3/dbhierx.mod" \
    /etc/xml/docbook &&
xmlcatalog --noout --add "public" \
    "-//OASIS//DTD XML Exchange Table Model 19990315//EN" \
    "file:///usr/share/xml/docbook/xml-dtd-4.3/soextblx.dtd" \
    /etc/xml/docbook &&
xmlcatalog --noout --add "public" \
    "-//OASIS//DTD DocBook XML CALS Table Model V4.3//EN" \
    "file:///usr/share/xml/docbook/xml-dtd-4.3/calstblx.dtd" \
    /etc/xml/docbook &&
xmlcatalog --noout --add "rewriteSystem" \
    "http://www.oasis-open.org/docbook/xml/4.3" \
    "file:///usr/share/xml/docbook/xml-dtd-4.3" \
    /etc/xml/docbook &&
xmlcatalog --noout --add "rewriteURI" \
    "http://www.oasis-open.org/docbook/xml/4.3" \
    "file:///usr/share/xml/docbook/xml-dtd-4.3" \
    /etc/xml/docbook &&
xmlcatalog --noout --add "delegatePublic" \
    "-//OASIS//ENTITIES DocBook XML" \
    "file:///etc/xml/docbook" /etc/xml/catalog &&
xmlcatalog --noout --add "delegatePublic" \
    "-//OASIS//DTD DocBook XML" \
    "file:///etc/xml/docbook" /etc/xml/catalog &&
xmlcatalog --noout --add "delegateSystem" \
    "http://www.oasis-open.org/docbook/" \
    "file:///etc/xml/docbook" /etc/xml/catalog &&
xmlcatalog --noout --add "delegateURI" \
    "http://www.oasis-open.org/docbook/" \
    "file:///etc/xml/docbook" /etc/xml/catalog &&
xmlcatalog --noout --add "public" \
    "-//OASIS//DTD DocBook XML V4.1.2//EN" \
    "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd" \
    /etc/xml/docbook &&
xmlcatalog --noout --add "delegateSystem" \
    "http://www.oasis-open.org/docbook/xml/4.1.2/" \
    "file:///etc/xml/docbook" /etc/xml/catalog &&
xmlcatalog --noout --add "delegateURI" \
    "http://www.oasis-open.org/docbook/xml/4.1.2/" \
    "file:///etc/xml/docbook" /etc/xml/catalog &&
xmlcatalog --noout --add "rewriteSystem" \
    "http://www.oasis-open.org/docbook/xml/4.1.2" \
    "file:///usr/share/xml/docbook/xml-dtd-4.3" \
    /etc/xml/docbook &&
xmlcatalog --noout --add "rewriteURI" \
    "http://www.oasis-open.org/docbook/xml/4.1.2" \
    "file:///usr/share/xml/docbook/xml-dtd-4.3" \
    /etc/xml/docbook &&
xmlcatalog --noout --add "rewriteURI" \
    "http://www.oasis-open.org/docbook/xml/4.2" \
    "file:///usr/share/xml/docbook/xml-dtd-4.3" \
    /etc/xml/docbook
***** End Code Block *****
\NewEntry
docbook-xsl-1.67.2

***** Begin Code Block *****
install -d /usr/share/xml/docbook/xsl-stylesheets-1.67.2 &&
chown -R root:root . &&
cp -af INSTALL VERSION common eclipse extensions fo html htmlhelp \
    images javahelp lib manpages params profiling template xhtml \
    /usr/share/xml/docbook/xsl-stylesheets-1.67.2 &&
install -d /usr/share/doc/xml &&
cp -af doc/* /usr/share/doc/xml &&
cd /usr/share/xml/docbook/xsl-stylesheets-1.67.2 &&
sh INSTALL &&
if [ ! -f /etc/xml/catalog ]; then mkdir -p /etc/xml; xmlcatalog \
    --noout --create /etc/xml/catalog; fi &&
if [ ! -e /etc/xml/docbook ]; then xmlcatalog --noout --create \
    /etc/xml/docbook; fi &&
xmlcatalog --noout --add "rewriteSystem" \
    "http://docbook.sourceforge.net/release/xsl/1.67.2" \
    "/usr/share/xml/docbook/xsl-stylesheets-1.67.2" /etc/xml/catalog &&
xmlcatalog --noout --add "rewriteURI" \
    "http://docbook.sourceforge.net/release/xsl/1.67.2" \
    "/usr/share/xml/docbook/xsl-stylesheets-1.67.2" /etc/xml/catalog &&
xmlcatalog --noout --add "delegateSystem" \
    "http://docbook.sourceforge.net/release/xsl/" \
    "file:///etc/xml/docbook" /etc/xml/catalog &&
xmlcatalog --noout --add "delegateURI" \
    "http://docbook.sourceforge.net/release/xsl/" \
    "file:///etc/xml/docbook" /etc/xml/catalog &&
xmlcatalog --noout --add "rewriteSystem" \
    "http://docbook.sourceforge.net/release/xsl/1.65.1" \
    "/usr/share/xml/docbook/xsl-stylesheets-1.67.2" \
    /etc/xml/catalog &&
xmlcatalog --noout --add "rewriteURI" \
    "http://docbook.sourceforge.net/release/xsl/1.65.1" \
    "/usr/share/xml/docbook/xsl-stylesheets-1.67.2" \
    /etc/xml/catalog &&
xmlcatalog --noout --add "rewriteSystem" \
"http://docbook.sourceforge.net/release/xsl/current" "/usr/share/xml/docbook/xsl-stylesheets-1.67.2" /etc/xml/catalog &&
xmlcatalog --noout --add "rewriteURI" \
"http://docbook.sourceforge.net/release/xsl/current" "/usr/share/xml/docbook/xsl-stylesheets-1.67.2" /etc/xml/catalog &&
cd /usr/share/xml/docbook/ &&
ln -s xsl-stylesheets-1.65.1 xsl-stylesheets-current
***** End Code Block *****
\EndFolder
\NewEntry
startup-notification-0.8

Forward Dependencies:
    openbox
    gaim
    gnome-desktop
    libwnck
    gnome-panel

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
GNOME2
\NewFolder
\NewEntry
gnome-applets-2.10.0

***** Begin Code Block *****
PRE=`pkg-config --variable=prefix ORBit-2.0`
./configure --prefix=$PRE --libexecdir=$PRE/sbin \
    --localstatedir=/var/lib --sysconfdir=/etc/gnome \
    --enable-gstreamer
make tooldir=$PRE/lib/gnome-applets
make tooldir=$PRE/lib/gnome-applets install
make -C man install-man
unset PRE
***** End Code Block *****
\NewFolder
\NewEntry
gail-1.8.2

Forward Dependencies:
    gnome-applets
    gtkhtml-3

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --disable-gtk-doc
make
make install
***** End Code Block *****
\NewEntry
gnome-panel-2.10.0

Forward Dependencies:
    gtk-sharp

Required Dependencies:
    gnome-menus

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --localstatedir=/var/lib --sysconfdir=/etc/gnome --disable-gtk-doc
make
make install
chmod 644 `pkg-config --variable=prefix ORBit-2.0`/share/gnome/help/\
{fish-applet-2,window-list,workspace-switcher}/C/*.xml
***** End Code Block *****
\NewFolder
\NewEntry
gnome-desktop-2.10.0

Forward Dependencies:
    gnome-panel

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --sysconfdir=/etc/gnome --localstatedir=/var/lib
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
libgnomeui-2.10.0

Forward Dependencies:
    gnome-python (gnome.ui)
    firestarter
    grip
    gucharmap
    libgnomeprintui
    gnome-desktop
    gtk-sharp

Optional Dependencies:
    esound
    audiofile

NOTE: esound, audiofile, libjpeg, gnome-keyring were auto-detected by configure.

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --disable-gtk-doc
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
libbonoboui-2.8.1

Forward Dependencies:
    libgnomeui

NOTE: libgnome and libgnomecanvas are auto-detected by configure.

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0`
make
make install
sed -i -e "s,/gnome/head/INSTALL,/usr," \
    /usr/lib/bonobo/servers/Bonobo_Sample_Controls.server
***** End Code Block *****
\NewFolder
\NewEntry
libgnome-2.10.0

Forward Dependencies:
    firefox
    libbonoboui
    libgnomeui
    firestarter
    dia

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --sysconfdir=/etc/gnome --localstatedir=/var/lib --disable-gtk-doc
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
gnome-vfs-2.10.0

Forward Dependencies:
    firefox
    firestarter
    librsvg
    libgsf

NOTE: FAM is used for notifying nautilus of file alterations. I installed FAM as a dependency for this package solely because otherwise I have installed it later for another package dependency. Samba, CDParanoia, FAM, OpenSSH, OpenSSL are auto-detected by the configure script.

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --sysconfdir=/etc/gnome --disable-gtk-doc
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
intltool-0.33

Forward Dependencies:
    gnome-vfs
    pan
    firestarter
    gucharmap

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
XML-Parser-2.34

Forward Dependencies:
    intltool
    libbonobo
    gnome-mime-data
    shared-mime-info
    firestarter
    gnome-icon-theme
    libgnomeprint

***** Begin Code Block *****
perl Makefile.PL
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
gtk+-2.6.4

Forward Dependencies:
    firefox
    gconf
    libglade
    vim (graphics)
    gtkspell
    pan
    pygtk
    gnome-keyring
    gkrellm
    xscreensaver
    gaim
    wxgtk
    streamtuner
    xvid4conf
    vte
    grip
    gucharmap
    dia
    gqview
    gtkglext
    gliv
    librsvg
    libwnck
    gtk-sharp
    dbus

NOTE: Both libtiff and libjpeg are auto-detected by the gtk+-2 configure script.

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
pango-1.8.1

Forward Dependencies:
    gtk+-2
    gtkspell
    pygtk
    wxgtk
    dia
    libgnomeprint

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewEntry
atk-1.9.1

Forward Dependencies:
    gtk+-2
    pygtk

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
libtiff-3.7.1

Forward Dependencies:
    gtk+-2
    gtk+-1
    lcms
    imagemagick
    wxgtk

NOTE: Both libjpeg and freeglut will be auto-detected by the libtiff configure script.

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
libjpeg-6b

Forward Dependencies:
    libtiff
    gtk+-2
    gtk+-1
    firefox
    dillo
    mplayer
    ghostscript
    imagemagick
    transcode
    libquicktime
    libgnomeui
    xscreensaver
    wxgtk

***** Begin Code Block *****
./configure --prefix=/usr --enable-static --enable-shared
make
make install
***** End Code Block *****
\NewEntry
freeglut-2.2.0

Forward Dependencies:
    libtiff

NOTE: freeglut will install development headers into the X11R6 include directory (/usr/X11R6/include). If the X Window System ever needs to be removed and re-installed, then make sure to re-install these headers.

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
libbonobo-2.8.1

Forward Dependencies:
    gnome-vfs

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --sysconfdir=/etc/gnome
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
ORBit2-2.12.1

Forward Dependencies:
    gconf
    libbonobo
    pyorbit

Required Dependencies:
    pkg-config >= 0.14.0
    glib-2.0 >= 2.0.0
    libidl
    popt

Optional Dependencies:
    gtk-doc
    openssl

NOTE: libIDL, popt, nad OpenSSL are all auto-detected by the configure script.

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc/gnome
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
libidl-0.8.5

Forward Dependencies:
    firefox
    orbit2

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
GConf-2.10.0

Forward Dependencies:
    gnome-vfs
    firestarter

NOTE: ORBIT2, GTK+-2, and libxml2 are all auto-detected by the configure script.

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --sysconfdir=/etc/gnome --disable-gtk-doc
make
make install
***** End Code Block *****
\NewEntry
gnome-mime-data-2.4.2

Forward Dependencies:
    gnome-vfs

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc/gnome
make
make install
install -d -m755 /usr/man/man5
install -m644 man/gnome-vfs-mime.5 /usr/man/man5
***** End Code Block *****
\NewEntry
shared-mime-info-0.15

Forward Dependencies:
    gnome-vfs

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
cdparanoia-III-9.8

Forward Dependencies:
    gnome-vfs
    mplayer
    grip

***** Begin Code Block *****
patch -Np1 -i ../patches/cdparanoia-III-alpha9.8-includes-1.patch
patch -Np1 -i ../patches/cdparanoia-III-alpha9.8-gcc34-1.patch
./configure --prefix=/usr
make
make install
chmod 755 /usr/lib/libcdda_*.so.0.9.8
***** End Code Block *****
\NewEntry
fam-2.7.0

Forward Dependencies:
    gnome-vfs

***** Begin Code Block *****
patch -Np1 -i ../patches/fam-2.7.0-dnotify-1.patch
chmod 755 configure
autoreconf -f -i
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****

***** Begin Code Block *****
make install-fam
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
libgnomecanvas-2.10.0

Forward Dependencies:
    libgnomeui
    gail
    gtk-sharp

NOTE: libglade and libart_lgpl were auto-detected by configure.

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --disable-gtk-doc
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
libglade-2.5.1

Forward Dependencies:
    bmp (beep-media-player)
    pygtk
    libgnomecanvas
    xscreensaver
    firestarter
    gtk-sharp

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
libart_lgpl-2.3.17

Forward Dependencies:
    libgnomecanvas
    dia
    libgnomeprint
    librsvg

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
gnome-keyring-0.4.2

Forward Dependencies:
    libgnomeui

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
scrollkeeper-0.3.14

Forward Dependencies:
    glade
    gnome-desktop

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc \
    --localstatedir=/var --disable-static \
    --with-omfdirs=/usr/share/omf:/opt/gnome/share/omf:\
/opt/kde-3.3.2/share/omf:/opt/gnome-2.8/share/omf
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
libwnck-2.10.0

Forward Dependencies:
    gnome-panel

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0`
make
make install
***** End Code Block *****
\NewEntry
evolution-data-server-1.2.1

Forward Dependencies:
    evolution

NOTE: The symlink to libecal-1.0.pc and libebook-1.0.pc is needed for libgnomedb-1.2.1.

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --sysconfdir=/etc/gnome \
    --enable-nntp=yes --enable-nss=yes --enable-smime=yes \
    --with-nspr-includes=/usr/include/firefox-1.0.1/nspr \
    --with-nss-includes=/usr/include/firefox-1.0.1/nss \
    --with-nspr-libs=/usr/lib/firefox-1.0.1 \
    --with-nss-libs=/usr/lib/firefox-1.0.1
make
make install
ln -s /usr/lib/pkgconfig/libecal-1.2.pc \
    /usr/lib/pkgconfig/libecal-1.0.pc
ln -s /usr/lib/pkgconfig/libebook-1.2.pc \
    /usr/lib/pkgconfig/libebook-1.0.pc
ln -s /usr/lib/pkgconfig/evolution-data-server-1.2.pc \
    /usr/lib/pkgconfig/evolution-data-server-1.0.pc
***** End Code Block *****
\NewFolder
\NewEntry
libsoup-2.2.3

Forward Dependencies:
    gtkhtml-3

NOTE: GnuTLS is auto-detected by configure.

***** Begin Code Block *****
sed -i -e "s@status \& GNUTLS_CERT_NOT_TRUSTED ||@/* &*/@" \
    libsoup/soup-gnutls.c
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
gnutls-1.2.0

GnuTLS is a project that aims to develop a library which provides a secure layer, over a reliable transport layer.

Home page: http://www.gnu.org/software/gnutls/

Optional Dependencies:
    libgcrypt >= 1.2.0
    libopencdk >= 0.5.5
    libtasn1 >= 0.2.11
    openssl
    lzo

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
opencdk-0.5.5

Open Crypto Development Kit. This library provides basic parts of the OpenPGP message format.

Home page: http://www.gnu.org/software/gnutls/download.html

Forward Dependencies:
    gnutls

Required Dependencies:
    libgcrypt >= 1.1.94

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
libtasn1-0.2.13

A library for Abstract Syntax Notation One (ASN.1) and Distinguish Encoding Rules (DER) manipulation.

Home page: http://www.gnu.org/software/gnutls/download.html

Forward Dependencies:
    gnutls

Dependencies:
    none

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
lzo-1.08

Forward Dependencies:
    mplayer
    transcode
    gnutls

***** Begin Code Block *****
./configure --prefix=/usr --enable-shared
make
make install
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
firefox-1.0.1

***** Begin Code Block *****
export MOZILLA_OFFICIAL="1" &&
export BUILD_OFFICIAL="1" &&
export MOZ_PHOENIX="1" &&
./configure --prefix=/usr \
            --with-default-mozilla-five-home=/usr/lib/firefox-1.0 \
            --with-system-zlib \
            --with-system-png \
            --with-system-jpeg \
            --enable-application=browser \
            --enable-default-toolkit=gtk2 \
            --enable-extensions=all,-typeaheadfind \
            --enable-crypto \
            --enable-xft \
            --enable-xinerama \
            --enable-optimize \
            --enable-reorder \
            --enable-strip \
            --enable-cpp-rtti \
            --enable-single-profile \
            --disable-freetype2 \
            --disable-accessibility \
            --disable-debug \
            --disable-tests \
            --disable-logging \
            --disable-pedantic \
            --disable-installer \
            --disable-mailnews \
            --disable-ldap \
            --disable-composer \
            --disable-profilesharing
make
make install
install -d /usr/include/firefox-1.0.1/nss
cp -Lf dist/private/nss/*.h dist/public/nss/*.h \
    /usr/include/firefox-1.0.1/nss
chmod 0644 /usr/include/firefox-1.0.1/nss/*
cd /usr/lib/firefox-1.0.1
export LD_LIBRARY_PATH="$PWD"
export MOZILLA_FIVE_HOME="$PWD"
./regxpcom
./regchrome
touch `find . -name *.rdf`
***** End Code Block *****
\EndFolder
\NewEntry
gnome-menus-2.10.0

Forward Dependencies:
    gnome-panel

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --localstatedir=/var/lib --sysconfdir=/etc/gnome --disable-gtk-doc
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
libxklavier-2.0

Forward Dependencies:
    gnome-applets

***** Begin Code Block *****
./configure --prefix=/usr
make LDFLAGS="-liconv"
make install
***** End Code Block *****
\NewEntry
libgtop-2.10.0

***** Begin Code Block *****
./configure --prefix=/usr --infodir=/usr/share/info
make
make install
***** End Code Block *****
\NewEntry
gst-plugins-0.8.8

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc \
    --with-gconf-schema-file-dir=/etc/gnome/gconf/schemas \
    --enable-gdk-pixbuf-loader
make
make install
gst-register
***** End Code Block *****
\NewFolder
\NewEntry
gstreamer-0.8.9

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc \
    --localstatedir=/var --disable-docs-build
make
make install
gst-register
***** End Code Block *****
\NewEntry
libmng-1.0.8

***** Begin Code Block *****
chmod 755 autogen.sh
sh autogen.sh
./configure --prefix=/usr
make
make install
cp doc/man/*.3 /usr/share/man/man3
cp doc/man/*.5 /usr/share/man/man5
***** End Code Block *****
\NewEntry
libmikmod-3.1.11

***** Begin Code Block *****
sed -i -e "s/VERSION=10/VERSION=11/" \
       -e "s/sys_asoundlib/alsa_asoundlib/" \
       -e "s/snd_cards/snd_card_load/g" \
       -e "s|sys/asoundlib.h|alsa/asoundlib.h|g" \
    configure.in
autoconf
./configure --prefix=/usr
make
make install
chmod 755 /usr/lib/libmikmod.so.2.0.4
***** End Code Block *****
\NewEntry
libid3tag-0.15.1b

libid3tag is a library for reading and (eventually) writing ID3 tags, both ID3v1 and the various versions of ID3v2.

Homepage: http://www.underbit.com/products/mad/

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
gucharmap-1.4.3

NOTE: Scrollkeeper not installed to avoid the dependency of docbook XML DTD.

***** Begin Code Block *****
./configure --prefix=/usr --localstatedir=/var/lib
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
gnome-terminal-2.10.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --localstatedir=/var/lib --sysconfdir=/etc/gnome
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
vte-0.11.12

Forward Dependencies:
    grip

NOTE: GTK+-2, python, and pygtk were auto-detected by configure.

***** Begin Code Block *****
sed -i -e 's%\\177:%&kh=\\EOH:@7=\\EOF:%g' termcaps/xterm
./configure --prefix=/usr --libexecdir=/usr/sbin --disable-gtk-doc
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
nautilus-2.10.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --sysconfdir=/etc/gnome --disable-doc
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
eel-2.10.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0`
make
make install
***** End Code Block *****
\NewEntry
librsvg-2.9.5

Forward Dependencies:
    gtk-sharp

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc --disable-gtk-doc
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
libcroco-0.6.0

Forward Dependencies:
    librsvg

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
libgsf-1.11.1

Forward Dependencies:
    librsvg
    gsf-sharp

Required Dependencies:
    glib-2.0 >= 2.0.0
    libxml-2.0 >= 2.4.16
    libbonobo-2.0 >= 2.0.0
    gnome-vfs-2.0 >= 2.2.0

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
libgnomeprintui-2.10.0.1

Forward Dependencies:
    gtk-sharp-1.0.6
    librsvg
    gal

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --disable-gtk-doc
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
gnome-icon-theme-2.10.0

Forward Dependencies:
    libgnomeprintui

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
hicolor-icon-theme-0.5

Forward Dependencies:
    gnome-icon-theme

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
libgnomeprint-2.10.0

Forward Dependencies:
    libgnomeprintui
    gtk-sharp

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --sysconfdir=/etc/gnome --disable-gtk-doc
make
make install
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
libexif-0.6.11

libexif is a library for parsing, editing, and saving EXIF data.

Homepage: http://sourceforge.net/projects/libexif

Forward Dependencies:
    beagle

Required Dependencies:
    none

***** Begin Code Block *****
sed -i 's/po m4/m4/g' Makefile.am Makefile.in
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
control-center-2.10.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --localstatedir=/var/lib --sysconfdir=/etc/gnome
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
metacity-2.10.0

NOTE: I didn't need to install the xrender.pc as it already existed on my system.

***** Begin Code Block *****
./configure --prefix=/usr --libexecdir=/usr/sbin --sysconfdir=/etc \
    --with-gconf-schema-file-dir=/etc/gnome/gconf/schemas
make
make install
***** End Code Block *****
\NewEntry
xscreensaver-4.20

Forward Dependencies:
    gaim

Optional Dependencies:
    gtk+-2
    libxml2
    gdk-pixbuf

NOTE: All required and optional dependencies checked for by configure.

***** Begin Code Block *****
sed -i -e "s,@GNOME_DATADIR@,/usr/share," driver/Makefile.in
./configure --prefix=/usr \
    --with-configdir=/usr/lib/xscreensaver/config
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
yelp-2.6.5

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --localstatedir=/var/lib
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
libgtkhtml-2.6.3

Forward Dependencies:
    gnome-python
    blogtk

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0`
make
make install
***** End Code Block *****
\NewEntry
gnome-doc-utils-0.1

Forward Dependencies:
    yelp

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --localstatedir=/var/lib
make
make install
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
desktop-file-utils-0.10

Forwarnd Dependencies:

Required Dependencies:
    pkgconfig
    glib-2.0 >= 2.2.0
    popt

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
gnome-themes-2.10.0

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
gtk-engines-2.6.2

Forward Dependencies:
    gnome-themes

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
gnome-session-2.10.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --localstatedir=/var/lib --sysconfdir=/etc/gnome
make
make install
***** End Code Block *****
\NewEntry
gnome2-user-docs-2.8.1

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --localstatedir=/var/lib
make
make install
chmod 644 `pkg-config --variable=prefix ORBit-2.0`/share/gnome/help/\
{gnome-access-guide,system-admin-guide,user-guide}/C/*.xml
***** End Code Block *****
\NewEntry
gtkhtml-3.6.1

Forward Dependencies:
    evolution
    gtk-sharp

Required Dependency:
    gal

NOTE: The symklinks are needed for gtk-sharp to detect this library.

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin
make
make install
ln -s /usr/lib/pkgconfig/libgtkhtml-3.6.pc \
    /usr/lib/pkgconfig/libgtkhtml-3.0.pc
ln -s /usr/lib/libgtkhtml-3.6.so /usr/lib/libgtkhtml-3.0.so.4
***** End Code Block *****
\NewFolder
\NewEntry
gal-2.4.1

Forward Dependencies:
    gtkhtml-3

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0`
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
bug-buddy-2.10.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --sysconfdir=/etc/gnome --localstatedir=/var/lib
make
make install
***** End Code Block *****
\NewEntry
gedit-2.10.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --localstatedir=/var/lib --sysconfdir=/etc/gnome
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
gtksourceview-1.2.0

Forward Dependencies:
    gedit
    gtksourceview-sharp

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0`
make
make install
***** End Code Block *****
\NewEntry
aspell-0.60.2

Forward Dependencies:
    gtkspell

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
aspell6-en-6.0-0

NOTE: This needs to be installed *for* aspell, but not necessarily as a dependency. It is more for practical purposes (aspell needs a dictionary to work off of). Therefore, this package is not marked with any forward dependencies.

***** Begin Code Block *****
./configure
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
eog-2.9.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --localstatedir=/var/lib --sysconfdir=/etc/gnome
make
make install
***** End Code Block *****
\NewEntry
ggv-2.8.4

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --localstatedir=/var/lib --sysconfdir=/etc/gnome
make
make install
***** End Code Block *****
\NewEntry
file-roller-2.10.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --localstatedir=/var/lib --sysconfdir=/etc/gnome
make
make install
***** End Code Block *****
\NewEntry
gconf-editor-2.10.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --sysconfdir=/etc/gnome --localstatedir=/var/lib
make
make install
***** End Code Block *****
\NewEntry
gnome-utils-2.10.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --localstatedir=/var/lib --sysconfdir=/etc/gnome \
    --with-pam-prefix=/etc/pam.d
make
make install
***** End Code Block *****
\NewEntry
gnome-system-monitor-2.10.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --localstatedir=/var/lib --sysconfdir=/etc/gnome
make
make install
***** End Code Block *****
\NewEntry
gnome-media-2.10.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --sysconfdir=/etc/gnome --localstatedir=/var/lib
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
nautilus-cd-burner-2.10.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --sysconfdir=/etc/gnome
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
??????????????nautilus-media-0.8.1

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --sysconfdir=/etc/gnome --localstatedir=/var/lib
make
make install
***** End Code Block *****
\NewEntry
gnome-netstatus-2.10.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --sysconfdir=/etc/gnome --localstatedir=/var/lib
make
make install
chmod 644 `pkg-config --variable=prefix ORBit-2.0`\
/share/gnome/help/gnome-netstatus/C/*.xml
***** End Code Block *****
\NewEntry
gcalctool-5.5.41

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --sysconfdir=/etc/gnome --localstatedir=/var/lib
make
make install
***** End Code Block *****
\NewEntry
gpdf-2.10.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --sysconfdir=/etc/gnome --localstatedir=/var/lib
make
make install
***** End Code Block *****
\NewEntry
zenity-2.10.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --localstatedir=/var/lib
make
make install
***** End Code Block *****
\NewEntry
at-spi-1.6.3

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/sbin \
    --disable-gtk-doc
make
make install
***** End Code Block *****
\NewEntry
libgail-gnome-1.1.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0`
make
make install
***** End Code Block *****
\NewEntry
epiphany-1.6.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --sysconfdir=/etc/gnome --localstatedir=/var/lib \
    --with-mozilla=firefox
make
make install
***** End Code Block *****
\NewEntry
epiphany-extensions-1.6.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --sysconfdir=/etc/gnome --localstatedir=/var/lib \
    --with-mozilla=firefox --with-extensions=all
make
make install
***** End Code Block *****
\NewEntry
gnome-system-tools-1.2.0

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
system-tools-backends-1.1.92

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
sound-juicer-2.10.0

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
libmusicbrainz-2.1.1

MusicBrainz is a user maintained community music metadatabase.

Homepage: http://www.musicbrainz.org/

Forward Dependencies:
    sound-juicer

***** Begin Code Block *****
./configure --prefix=/usr --enable-cpp-headers
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
vino-2.10.0

This package provides a VNC server that integrates with GNOME, allowing you to export your running desktop to another computer for remote use or diagnosis.

***** Begin Code Block *****
./configure --prefix=/usr --libexecdir=/usr/bin \
    --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewEntry
libgnomedb-1.2.1

The GNOME-DB project aims to provide a free unified data access architecture to the GNOME project.

Homepage: http://www.gnome-db.org/

Forward Dependencies:
    glade-2

Required Dependencies:
    gtk+-2.0 >= 2.4.0
    libgda >= 1.1.1
    libgnomeui-2.0 >= 1.103
    libbonobo-2.0
    libbonoboui-2.0
    libxml2
    libglade-2.0
    gtksourceview-1.0

Optional Packages:
    libecal-1.0 (part of evolution)
    gtk-doc >= 1.0

Homepage: http://www.gnome-db.org/

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc --disable-gtk-doc
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
libgda-1.2.1

libgda is a data abstraction layer. It can manage data stored in databases or XML files and it can be used by non-GNOME applications.

Homepage: http://www.gnome-db.org/

Forward Dependencies:
    libgnomedb
    gtk-sharp

Required Dependencies:
    glib-2.0 >= 2.0.0
    libxslt >= 1.0.9
    libxml-2.0

***** Begin Code Block *****
./configure --prefix=/usr --without-bdb --without-mysql \
    --sysconfdir=/etc
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
evolution-2.2.1.1

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/lib/libexec \
    --localstatedir=/var/lib --sysconfdir=/etc/gnome \
    --enable-nntp=yes --enable-nss=yes --enable-smime=yes \
    --enable-file-chooser \
    --with-nspr-includes=/usr/include/firefox-1.0.1/nspr \
    --with-nss-includes=/usr/include/firefox-1.0.1/nss \
    --with-nspr-libs=/usr/lib/firefox-1.0.1 \
    --with-nss-libs=/usr/lib/firefox-1.0.1
make
make install
ln -s evolution-2.0 \
    `pkg-config --variable=prefix ORBit-2.0`/bin/evolution
***** End Code Block *****
\NewFolder
\NewEntry
gnupg-1.4.0

***** Begin Code Block *****
./configure --prefix=/usr --libexecdir=/usr/lib
make
make install
***** End Code Block *****
\NewEntry
evolution-webcal-2.2.0

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --libexecdir=`pkg-config --variable=prefix ORBit-2.0`/lib/libexec \
    --localstatedir=/var/lib --sysconfdir=/etc/gnome
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
glade-2.6.8

Glade is a free user interface builder for GTK+ and GNOME.

Homepage: http://glade.gnome.org/

Required Dependencies:
    scrollkeeper

Optional Dependencies:
    gail
    libgnomedb

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
Dillo-0.8.4

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc/dillo
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
gtk+-1.2.10

Forward Dependencies:
    dillo
    alsa-tools
    lame
    libdv
    mplayer
    transcode
    ghostscript
    libquicktime
    nmap
    imlib
    gnome-libs
    gdk-pixbuf

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
glib-1.2.10

Forward Dependencies:
    gtk+-1
    dillo
    orbit

***** Begin Code Block *****
patch -Np1 -i ../patches/glib-1.2.10-gcc34-1.patch
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
pan-0.14.2.91

Optional Dependencies:
    libiconv

NOTE: intltool, GTK+-2, libxml2, gtkspell, and GNet are auto-detected by the configure script. In order to link correctly with libiconv, use the following configure option:
    --with-libiconv-prefix=/usr

***** Begin Code Block *****
./configure --prefix=/usr --with-libiconv-prefix=/usr
make
make install
***** End Code Block *****

If an error occurs complaining about undefined references to libiconv, then execute the following command manually, then resume the make process.

***** Begin Code Block *****
make LDFLAGS="-liconv"
***** End Code Block *****
\NewFolder
\NewEntry
gnet-2.0.7

Forward Dependencies:
    pan

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
gtkspell-2.0.9

Forward Dependencies:
    pan
    gaim
    tomboy

Required Dependencies:
    gtk+-2
    glib-2
    pango
    aspell (or pspell)

Optional Dependencies:
    gtk-doc

NOTE: To disable building the GTK documentation use the following option:
    --disable-gtk-doc

***** Begin Code Block *****
./configure --prefix=/usr --disable-gtk-doc
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
gkrellm-2.2.4

GKrellM is a single process stack of system monitors which supports applying themes to match its appearance to your window manager, Gtk, or any other theme.

Homepage: http://members.dslextreme.com/users/billw/gkrellm/gkrellm.html

Dependencies:
    gtk+-2

***** Begin Code Block *****
make
make install PREFIX=/usr
***** End Code Block *****
\NewFolder
\NewEntry
Plugins
\NewFolder
\NewEntry
gkrellm-volume-2.1.13

Homepage: http://gkrellm.luon.net/volume.phtml

NOTE: I installed this only within my own home directory and placed it
within my local plugins directory.

***** Begin Code Block *****
make enable_alsa=1
cp volume.so ~/.gkrellm2/plugins
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
gjots2-2.1.1

A simple jotter for X11/gtk-gnome.

Home page: http://bhepple.freeshell.org/gjots/

Required Dependencies:
    python >= 2.2
    gtk+-2
    libglade-2
    pygtk-2
    gnome-python-2 (gnome.ui)
    pyorbit-2

Optional Dependencies:
   openssl (for encrypting/decrypting files)
   gnupgp (for encrypting/decrypting files)
   ccrypt (for encrypting/decrypting files)

***** Begin Code Block *****
python setup.py install --prefix=/usr
***** End Code Block *****
\NewFolder
\NewEntry
gnome-python-2.10.0

PyGTK provides a convenient wrapper for the GTK library for use in Python programs, and takes care of many of the boring details such as managing memory and type casting. When combined with PyORBit and gnome-python, it can be used to write full featured Gnome applications.

Home page: http://www.pygtk.org/

Forward Dependencies:
    gjots2 (needs python module gnome.ui)

Required Dependencies:
    python >= 2.2
    pygtk >= 2.0
    glib >= 2.4.0
    libgnome >= 2.0.0
    pyorbit >= 2.0.1

Optional Dependencies:
    libgnomeui >= 2.0.0 (for python module gnome.ui)
    libgnomecanvas >= 2.0.0
    gnome-vfs >= 2.0.0
    libpanelapplet >= 2.0.0
    gconf >= 1.2.0
    libgtkhtml >= 2.3.1
    bonobo-activation >= 1.0.0
    libbonoboui >= 2.0.0
    libnautilus >= 2.0.0
    libgnomeprint >= 2.2.0
    libgnomeprintui >= 2.2.0

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
pyorbit-2.0.1

Home page: http://www.pygtk.org/

Forward Dependencies:
    gnome-python

Required Dependencies:
    python >= 2.2
    orbit-2 >= 2.4.4

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
pygtk-2.6.0

Home page: http://www.pygtk.org/

Forward Dependencies:
    pyorbit
    gnome-python
    streamtuner
    vte

Required Dependencies:
    python >= 2.3
    glib >= 2.4.0
    atk >= 1.0.0
    pango >= 1.4.0
    gtk+-2 >= 2.4.0
    libglade >= 2.3.6

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\EndFolder
\EndFolder
\NewEntry
gimp-2.2.4

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc --disable-print
make
make install
***** End Code Block *****
\NewEntry
dia-0.94

Dia is a gtk+ based diagram creation program released under the GPL license.

Homepage: http://www.gnome.org/projects/dia/

Required Dependencies:
    perl
    GLIB >= 2.0.0
    GTK+-2 >= 2.0.0
    pango >= 1.1.5
    freetype
    libart_lgpl
    libxml2 >= 2.3.9

Optional Dependencies:
    libgnome
    popt
    libpng
    python >= 1.5.2

***** Begin Code Block *****
./configure --prefix=/usr --with-python --enable-gnome
make
make install
***** End Code Block *****
\NewEntry
rox-2.3

ROX-Filer is a fast and powerful graphical file manager for the X Window System.
Home page: http://rox.sourceforge.net/phpwiki/index.php/ROX-Filer

Required Dependencies:
    gtk+-2 >= 2.2.0
    libxml2 >= 2.0.0
    gnome-vfs >= 2.8
    pango >=1.1.2
    shared-mime-info

NOTE: This is a non-standard build proess. The build instructions are a bit strange because of this.

***** Begin Code Block *****
patch -Np1 -i ../patches/rox-2.3-hide_choices-1.patch
./ROX-Filer/AppRun --compile
install -m0644 rox.1 /usr/share/man/man1
cp -rf ROX-Filer /usr/share
cat > /usr/bin/rox << "EOF"
exec /usr/share/ROX-Filer/AppRun
EOF
chmod 0755 /usr/bin/rox
install -m644 rox.xml /usr/share/mime/packages
cp -rf Choices /usr/share
mkdir /usr/share/Choices/Mime-icons
mkdir -p /usr/share/icons
ln -s /usr/share/ROX-Filer/ROX /usr/share/icons/ROX
update-mime-database /usr/share/mime
***** End Code Block *****
\NewFolder
\NewEntry
shared-mime-info-0.16

The freedesktop.org shared MIME database spec.
Home page: http://freedesktop.org/Software/shared-mime-info

Required Dependencies:
    libxml >= 2.4
    glib >= 2.0.0

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
gaim-1.1.4

Gaim is a multi-protocol instant messaging (IM) client for Linux, BSD, MacOS X, and Windows. It is compatible with AIM and ICQ (Oscar protocol), MSN Messenger, Yahoo!, IRC, Jabber, Gadu-Gadu, SILC, GroupWise Messenger, and Zephyr networks.

Home page: http://gaim.sourceforge.net/

Required Dependencies:
    gtk+-2

Optional Dependencies:
    libao
    audiofile
    nas
    perl
    tcl
    tk
    gtkspell
    xscreensaver
    gnutls (for SSL support)
    startup-notification
    mozilla nss library (libnss)
    kerberos4 (optional zephyr plugin support)

NOTE: All dependency packages will be auto-detected except for NAS. To enable NAS, pass the following configure parameter:
    --enable-nas

***** Begin Code Block *****
./configure --prefix=/usr --enable-nas
make
make install
***** End Code Block *****
\NewEntry
grip-3.2.0

Grip is a cd-player and cd-ripper for the Gnome desktop.

Homepage: http://nostatic.org/grip/

Required Dependencies:
    gtk+-2
    libgnomeui >= 2.2.0
    alsa
    vte
    curl
    cdparanoia

Optional Dependencies:
    id3lib

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
gqview-2.0.0

GQview is an image browser that features single click access to view images and move around the directory tree.

Homepage: http://gqview.sourceforge.net/

Required Dependencies:
    GTK+-2 >= 2.4.0

Optional Dependencies:
    libiconv

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
qiv-2.0

qiv is a very small and pretty fast gdk/Imlib image viewer.

Homepage: http://www.klografx.net/qiv/

Required Dependencies:
    imlib-1

***** Begin Code Block *****
sed -i 's/# GTD_XINERAMA/GTD_XINERAMA/' Makefile
make
make install
mv /usr/local/bin/qiv /usr/bin
mv /usr/local/share/man/man1/qiv.1.gz /usr/share/man/man1
gunzip /usr/share/man/man1/qiv.1.gz
***** End Code Block *****
\NewEntry
vim-6.3

Forward Depenendies:
    none

Optional Dependencies:
    perl
    python
    ruby
    tcl
    gtk+-2.0

Note: LessTif not used as a dependency because I don't built the motif GUI.

Keep the non-X11 vim binary as `/usr/bin/vi'. This is in case X ever breaks and I need the non-X version.

***** Begin Code Block *****
cp /usr/bin/vim ../
pdel /var/log/pinst/vim-6.3
***** End Code Block *****

***** Begin Code Block *****
echo '#define SYS_VIMRC_FILE "/etc/vimrc"' >> src/feature.h
echo '#define SYS_GVIMRC_FILE "/etc/gvimrc"' >> src/feature.h
./configure --prefix=/usr --with-features=huge \
    --enable-perlinterp --enable-pythoninterp \
    --enable-tclinterp --enable-rubyinterp \
    --enable-multibyte --enable-gui=gtk2
make
make install
***** End Code Block *****

Copy vim back onto roots filesystem as vi:

***** Begin Code Block *****
mv ../vim /usr/bin/vi
***** End Code Block *****
\NewEntry
xchm-0.9.8

xCHM is a .chm viewer for UNIX (Linux, *BSD, Solaris).

Home page: http://xchm.sourceforge.net/

Dependencies:
    chmlib
    wxgtk

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
chmlib-0.35

CHMLIB is a library for dealing with Microsoft ITSS/CHM format files.

Home page: http://66.93.236.84/%7Ejedwin/projects/chmlib/

Forward Dependencies:
    xchm

Dependencies:
    none

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
wxGTK-2.5.4

wxGTK gives you a single, easy-to-use API for writing GUI applications on multiple platforms.

Home page: http://www.wxwidgets.org/

Dependencies:
    gtk+-2
    zlib
    png
    jpeg
    tiff
    expat
    pango
    sdl

Optional Dependencies:
    libgnomeprint

***** Begin Code Block *****
./configure --prefix=/usr --with-gtk --enable-gtk2 \
    --enable-unicode --with-sdl --enable-unicode \
    --with-gnomeprint
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
firestarter-1.0.3

Firestarter is an Open Source visual firewall program.

Homepage: http://www.fs-security.com/

Required Dependencies:
    iptables
    intltool
    XML::Parser
    gconf
    libgnome >= 2.0.0
    libgnomeui >= 2.0.0
    gtk+-2 >= 2.4.0
    gnome-vfs >= 2.6.0
    libglade >= 2.3.6

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
ln -s /var/log/messages.log /var/log/messages
ln -s /var/log/syslog.log /var/log/syslog
***** End Code Block *****
\NewEntry
tightvnc-1.3dev5

Download: http://prdownloads.sourceforge.net/vnc-tight/tightvnc-1.3dev5_unixsrc.tar.bz2?download

Forward Dependencies:
    none

Required Dependencies:
    XFree86
    libjpeg
    zlib

***** Begin Code Block *****
patch -Np1 -i ../patches/tightvnc-1.3_alpha5-gcc34.patch
patch -Np0 -i ../patches/tightvnc-1.3_alpha5-gentoo.diff
patch -Np0 -i ../patches/tightvnc-1.3_alpha5-gentoo.security.patch
patch -Np1 -i ../patches/tightvnc-1.3_alpha5-imake-tmpdir.patch
xmkmf
make World
cd Xvnc
./configure
make
cd ..
./vncinstall /usr/bin /usr/share/man
***** End Code Block *****
\NewEntry
tsclient-0.132

tsclient is a frontend for rdesktop and other remote desktop tools.

Homepage: http://gnomepro.com/tsclient/

Forward Dependencies:
    none

Required Dependencies:
    gtk+-2.0 >= 2.0.0
    glib-2.0 >= 2.0.0
    libpanelapplet-2.0
    rdesktop >= 1.3.0

***** Begin Code Block *****
./configure --prefix=/usr --libexecdir=/usr/bin
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
rdesktop-1.3.1

rdesktop is an open source client for Windows NT Terminal Server and Windows 2000/2003 Terminal Services, capable of natively speaking Remote Desktop Protocol (RDP) in order to present the user's NT desktop.

Homepage: http://www.rdesktop.org/

Forward Dependencies:
    tsclient

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
TeXmacs-1.0.4.6

Required Dependencies:
    tex
    guile

***** Begin Code Block *****
./configure --prefix=/usr --libexecdir=/usr/lib
make
make install
***** End Code Block *****
\NewEntry
openoffice-1.1.4

***** Begin Code Block *****
./install
mv /usr/local/OpenOffice.org1.1.4 /opt
ln -sf /opt/OpenOffice.org1.1.4 /opt/OpenOffice.org
ln -sf /opt/OpenOffice.org/program/soffice /usr/bin/soffice
ln -sf /opt/OpenOffice.org/program/swriter /usr/bin/swriter
ln -sf /opt/OpenOffice.org/program/sweb /usr/bin/sweb
ln -sf /opt/OpenOffice.org/program/smemo /usr/bin/smemo
ln -sf /opt/OpenOffice.org/program/smath /usr/bin/smath
ln -sf /opt/OpenOffice.org/program/sdraw /usr/bin/sdraw
ln -sf /opt/OpenOffice.org/program/scalc /usr/bin/scalc
***** End Code Block *****
\NewEntry
Azureus_2.2.0.2

Azureus is a java bittorrent client.

Homepage: http://azureus.sourceforge.net/

NOTE: Azureus runs from the extracted directory. There is no installer. Azureus needs to be executed while in the azureus working directory.

***** Begin Code Block *****
tar xvjf packages/Azureus_2.2.0.2_linux.GTK.tar.bz2
mv azureus /opt/azureus-2.2.0.2
find /opt/azureus-2.2.0.2 -type d -exec chmod 0755 {} \;
chown -R root:root /opt/azureus-2.2.0.2
ln -sf /opt/azureus-2.2.0.2 /opt/azureus
cat > /usr/bin/azureus << "EOF"
#!/bin/sh
cd /opt/azureus
./azureus
EOF
chmod 0755 /usr/bin/azureus
***** End Code Block *****
\NewEntry
evince-0.3.2

Evince is a document viewer for multiple document formats like pdf, postscript, and many others.

Homepage: http://www.gnome.org/projects/evince/

Required Dependencies:
    XML::Parser
    gtk+-2.0 >= 2.6.0
    libgnomeui-2.0 >= 2.4.0
    poppler >= 0.4.0
    gconf
    ghostscript
    gnome-doc-utils >= 0.3.2

Optional Dependencies:
    djvulibre >= 3.5.15

***** Begin Code Block *****
./configure --prefix=/usr --enable-djvu \
    --enable-dvi --enable-t1lib \
    --with-gconf-schema-file-dir=/etc/gnome/gconf/schemas
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
poppler-0.3.3

Poppler is a PDF rendering library based on the xpdf-3.0 code base.

Homepage: http://poppler.freedesktop.org/

Forward Dependencies:
    evince

Required Dependencies:
    libjpeg
    glib
    cairo >= 0.5.0
    gtk+-2.0 >= 2.2.0

Optional Dependencies:
    qt

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
rssowl-1_1_2005_03_12

Applications that collect data from RSS-compliant sites are called RSS readers or "aggregators." RSSOwl is such an application.

Homepage: http://www.rssowl.org/

Download the SWT jar files from eclipse.org. See the README.txt file for how to integrate the SWT files into rssowl.

***** Begin Code Block *****
cd src
ant deploy_linux
cd ..
install -vd /opt/rssowl-1.1-2005-03-12/{bin,lib}
ln -vs /opt/rssowl-1.1-2005-03-12 /opt/rssowl
install -vm644 rssowl.jar /opt/rssowl/lib
install -vm755 libswt-atk-gtk-3123.so libswt-awt-gtk-3123.so \
    libswt-cairo-gtk-3123.so libswt-gnome-gtk-3123.so \
    libswt-gtk-3123.so libswt-kde-gtk-3123.so \
    libswt-mozilla-gtk-3123.so libswt-pi-gtk-3123.so /opt/rssowl/lib
cat > /opt/rssowl/bin/rssowl << "EOF"
#!/bin/sh
export MOZILLA_FIVE_HOME=/usr/lib/firefox-1.0.1
export LD_LIBRARY_PATH=$MOZILLA_FIVE_HOME
java -jar -Djava.library.path=/opt/rssowl/lib \
    /opt/rssowl/lib/rssowl.jar
EOF
chmod 0755 /opt/rssowl/bin/rssowl
***** End Code Block *****
java -jar -Djava.library.path=. rssowl.jar
\NewFolder
\NewEntry
ant-1.6.2

Apache Ant is a Java-based build tool.

Homepage: http://ant.apache.org/

Forward Dependencies:
    rssowl (to build from source)

Requied Dependencies:
    java

All build commands must be run as root if installing to a privileged directory.

***** Begin Code Block *****
./build.sh -Ddist.dir=/opt/ant-1.6.2 dist
./build.sh install
ln -s /opt/ant-1.6.2 /opt/ant
***** End Code Block *****
\EndFolder
\NewEntry
gxmms-0.2.1

gxmms is a simple GNOME panel applet that lets you control the basic functions of the X Multimedia System (XMMS). This plugin works with beep-media-player as well, although, it required xmms to build from source.

Homepage: http://www.nongnu.org/gxmms/

Required Dependencies:
    xmms >= 1.2.6
    gtk+-2.0 >= 2.0.0
    libpanelapplet-2.0 >= 2.0.0

***** Begin Code Block *****
./configure --prefix=/usr --libexecdir=/usr/lib/gnome-applets
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
XMMS-1.2.10

Forward Dependencies:
    gxxms

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
tomboy-0.3.1

Tomboy is a desktop note-taking application for Linux and Unix.

Homepage: http://www.beatniksoftware.com/tomboy/

Forward Dependencies:
    none

Requied Dependencies:
    gtk+-2.0 >= 2.2.3
    atk >= 1.2.4
    libpanelapplet-2.0
    gtkspell-2.0 >= 2.0.9
    dbus-sharp

***** Begin Code Block *****
patch -Np1 -i ../patches/tomboy-PanelApplet_namespace_fix-1.patch
patch -Np1 -i ../patches/tomboy-TextBuffer_api_fix-1.patch
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
dbus-0.32 (dbus-sharp)

D-BUS is a simple IPC library based on messages.

Homepage: http://www.freedesktop.org/Software/dbus

NOTE: Once monod and monodoc is installed, re-install this package with the extra mono options.

Forward Dependencies:
    hal
    gnome-volume-manager
    tomboy
    beagle

Required Dependencies:
    libxml-2.0
    glib-2.0
    gtk+-2.0
    expat

Optional Dependencies:
    mono >= 0.95
    monodoc >= 0.16
    python
    Pyrex
    qt

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc \
    --enable-mono --enable-mono-docs
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
Pyrex-0.9.3

Pyrex lets you write code that mixes Python and C data types any way you want, and compiles it into a C extension for Python.

Homepage: http://nz.cosc.canterbury.ac.nz/~greg/python/Pyrex/

Forward Dependencies:
    dbus

Required Dependencies:
    python

***** Begin Code Block *****
python setup.py install
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
beagle-0.0.9

Beagle is a search tool that ransacks your personal information space to find whatever you're looking for.

CVS:
  $ cvs -z3 -d :pserver:anonymous@anoncvs.gnome.org:/cvs/gnome login
  $ cvs -z3 -d :pserver:anonymous@anoncvs.gnome.org:/cvs/gnome co beagle

Homepage: http://www.gnome.org/projects/beagle/

Required Dependencies:
    dbus-sharp
    gmime
    libexif
    gtk-sharp

Optional Dependencies:
    evolution-sharp >= 0.6
    gsf-sharp >= 0.2
    gst-sharp
    gmime-sharp >= 2.1.11
    dbus-sharp >= 0.23.1
    epiphany-1.2 >= 1.2.1
    wv-1.0
    mozilla/firefox
    pdfinfo (part of xpdf)

NOTE: Had to patch the ImLogViewer.cs file to conform to the newer gtk-sharp API.

***** Begin Code Block *****
./configure --prefix=/usr --with-mozilla=firefox \
    --enable-network --enable-webservices
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
gmime-2.1.13 (gmime-sharp)

The GMime suite provides a core library and set of utilities which may be used for the creation and parsing of messages using the Multipurpose Internet Mail Extension (MIME).

Homepage: http://spruce.sourceforge.net/gmime/

Forward Dependencies:
    beagle

Required Dependencies:
    glib-2.0
    mono
    gtk-sharp

Optional Dependencies:
    gtk-doc

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
sqlite-2.8.16

SQLite is a small C library that implements a self-contained, embeddable, zero-configuration SQL database engine.

Homepage: http://sqlite.org/

Forward Dependencies:
    beagle

Required Dependencies:
    tcl

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
evolution-sharp-cvs-20050313

NOTE: Taken from CVS HEAD:
  $ cvs -z3 -d :pserver:anonymous@anoncvs.gnome.org:/cvs/gnome login
  $ cvs -z3 -d :pserver:anonymous@anoncvs.gnome.org:/cvs/gnome co \
        evolution-sharp

Forward Dependencies:
    beagle

Required Dependencies:
    evolution-data-server-1.2
    libgtkhtml-3.0 >= 3.0.10
    mono >= 0.91
    gtk-sharp >= 0.91.1

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
gsf-sharp-svn-20050313

NOTE: Taken from SVN HEAD:
  $ svn co svn://svn.myrealbox.com/source/trunk/gsf-sharp

Forward Dependencies:
    beagle

Required Dependencies:
    mono >= 1.0
    gtk-sharp >= 0.98
    libgsf-1 >= 1.11.0
    monodoc >= 1.0

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
gst-sharp-svn-20050305

NOTE: Taken from SVN HEAD:
  $ svn co svn://svn.myrealbox.com/source/trunk/gst-sharp

Forward Dependencies:
    beagle

Required Dependencies:
    mono >= 1.0
    monodoc >= 1.0
    gtk-sharp-2.0 >= 1.9
    gstreamer >= 0.8.8
    gapi-2.0 >= 1.9

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
GTK2 Themes

Modify the ~/.gtkrc-2.0 file with the following format:
   include "/usr/share/themes/ThinIce/gtk-2.0/gtkrc"
Where the gtkrc file pointed to is the config file for the theme
that you want to run.

For GTK1 themes, modify the file ~/.gtkrc just as you would for GTK2.

H2O-gtk2:
  http://themes.freshmeat.net/projects/h2o-gtk2/

Plush:
  http://www.customize.org/details/33513

Confederate:
  http://themes.freshmeat.net/projects/confederate/

DaVinci:
  http://themes.freshmeat.net/projects/gtk2davinci/

Glacier:
  http://themes.freshmeat.net/projects/glacier/

LighthouseBlue:
  http://themes.freshmeat.net/projects/lighthouseblue/
\NewEntry
liferea-1.0-rc1

Liferea is an abbreviation for Linux Feed Reader. It is a news aggregator for online news feeds.

Homepage: http://liferea.sourceforge.net/

Required Dependencies:
    gtk+-2
    gconf
    gtkhtml or firefox

Optional Dependencies:
    dbus

***** Begin Code Block *****
./configure --prefix=/usr --disable-dbus \
    --with-gconf-schema-file-dir=/etc/gnome/gconf/schemas
make
make install
***** End Code Block *****
\NewEntry
xchat-2.4.3

XChat is an IRC (chat) program for Windows and UNIX (Linux/BSD) operating systems.

Homepage: http://www.xchat.org/

***** Begin Code Block *****
./configure --prefix=/usr 
make
make install
***** End Code Block *****
\NewEntry
BitTorrent-4.1.1

BitTorrent is a tool for distributing files.

Homepage: http://www.bittorrent.com/

***** Begin Code Block *****
python setup.py install --prefix=/usr
***** End Code Block *****
\NewEntry
aMule-2.0.3

The "all-platform eMule", it is a eMule-like client for ed2k network, supporting Linux, *BSD platforms, Solaris, *MacOSX and *Win32 (*soon). It was forked from xMule project back in september 2003 (not related to it anymore, except little bits of old code), to drive it to a brand new direction and quality. Uses wxWidgets (formely known as wxWindows) for multiplatform support.

Homepage: http://www.amule.org/

Required Dependencies:
    zlib >= 1.1.4
    libpng >= 1.2.0
    wxWidgets >= 2.4.2
    GTK+ >= 2.0.3

Optional Dependencies:
    gd-lib >= 2.0.0 (cas)

***** Begin Code Block *****
./configure --prefix=/usr --enable-optimize \
    --enable-amulecmdgui --enable-webservergui \
    --enable-wxcas --enable-alc
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
gd-2.0.33

GD is an open source code library for the dynamic creation of images by programmers.

Homepage: http://www.boutell.com/gd/

Required Dependencies:
    libpng
    freetype
    fontconfig
    libjpeg
    libxpm

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
sylpheed-2.0.0

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
gpgme-1.0.3

GPGME  (GnuPG Made Easy) is a C language library that allows to add support for cryptography to a program.

Homepage: http://www.gnupg.org/(en)/download/index.html#gpgme

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
tea-10.1

TEA is the GTK2-based text editor for Linux and *BSD.

Homepage: http://tea.linux.kiev.ua/

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
kazehakase-0.2.8

***** Begin Code Block *****
./configure --prefix=/usr --with-gecko-engine=firefox \
    --enable-gtkmozembed --enable-gtk-webcore \
    --enable-migemo
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
osb-nrcit-0.5.0

Homepage: http://gtk-webcore.sourceforge.net/

Required Dependencies:
    osb-jscore
    osb-nrcore

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
osb-jscore-0.5.0

Homepage: http://gtk-webcore.sourceforge.net/

***** Begin Code Block *****
sed -i '0,/^.*$/i#include "number_object.h"' kjs/lookup.h
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
osb-nrcore-0.5.0

Homepage: http://gtk-webcore.sourceforge.net/

***** Begin Code Block *****
sed -i '0,/^.*$/i#include "KWQDef.h"' kwiq/KWQDict.h
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
d4x-2.5.0

Homepage: http://www.krasu.ru/soft/chuchelo/

***** Begin Code Block *****
patch -Np0 -i ../patches/d4x-2.5.0-fix-compile-gtk26.patch
./configure --prefix=/usr --enable-libao
make
make install
***** End Code Block *****
\NewEntry
wxPython-2.6.1.0

Homepage: http://wxpython.org/

Required Dependencies:
    wxWindows

Optional Dependencies:
    gtk+-2
    libjpeg
    libpng
    tiff
    zlib
    expat
    sdl
    gnomeprint
    libmspack

***** Begin Code Block *****
mkdir bld
cd bld
../configure --prefix=/usr \
    --with-gtk \
    --with-gnomeprint \
    --with-opengl \
    --enable-debug \
    --enable-geometry \
    --enable-sound --with-sdl \
    --enable-display \
    --disable-debugreport \
    --enable-unicode \
    --enable-optimize \
    --enable-debug_flag
make
make -C contrib/src/animate
make -C contrib/src/gizmos
make -C contrib/src/stc
make install
make -C contrib/src/animate install
make -C contrib/src/gizmos install
make -C contrib/src/stc install
cd ../wxPython
UNICODE=1
python setup.py install
***** End Code Block *****
\NewEntry
boost_1_32_0

Homepage: http://www.boost.org/

***** Begin Code Block *****
bjam --prefix=/usr "-sTOOLS=gcc" install
***** End Code Block *****
\NewEntry
rpm-4.4.1

***** Begin Code Block *****
./configure --prefix=/usr --without-python \
    --without-apidocs --without-selinux \
    --without-lua --without-dmalloc \
    --without-efence
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
beecrypt-4.1.2

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
totem-1.1.5

Homepage: http://www.hadess.net/totem.php3

***** Begin Code Block *****
./configure --prefix=/usr --enable-gtk \
    --enable-mozilla \
    --with-gconf-schema-file-dir=/etc/gnome/gconf/schemas \
    --libexecdir=/usr/lib
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
xine-lib-1.1.0

Homepage: http://xinehq.de/

***** Begin Code Block *****
./configure --prefix=/usr --disable-opengl \
    --with-w32-path=/usr/lib/mplayer/codecs
make
make install
ln -s /usr/lib/mplayer/codecs /usr/lib/win32
***** End Code Block *****
\NewEntry
iso-codes-0.25

Homepage: ftp://pkg-isocodes.alioth.debian.org/pub/pkg-isocodes/

***** Begin Code Block *****
make
make install
rm -rf /share
***** End Code Block *****
\EndFolder
\NewEntry
gxine

Required Dependencies:
    xine-lib

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
Sound
\NewFolder
\NewEntry
esound-0.2.35

Forward Dependencies:
    libgnome
    libao
    mplayer
    libgnomeui
    gnome-libs

NOTE: Add the following configure option to utilize tcpwrappers:
    --with-libwrap

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc --with-libwrap
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
ALSA

Forward Dependencies:
    esound
    libao
    mplayer
    libquicktime
    grip
\NewFolder
\NewEntry
alsa-library-1.0.8

Forward Dependencies:
    alsa-utils
    alsa-tools
    alsa-oss

***** Begin Code Block *****
./configure --enable-static
make
make install
***** End Code Block *****
\NewEntry
alsa-utilities-1.0.8

***** Begin Code Block *****
./configure
make
make install
***** End Code Block *****

Install alsa bootscript:

***** Begin Code Block *****
make install-alsa
touch /etc/asound.state
alsactl store
***** End Code Block *****
\NewEntry
alsa-tools-1.0.8

Forward Dependencies:
    alsa-firmware

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****

ac3dec => yes
as10k1 => yes (If errors, place nop ';' after offending label)
echomixer => yes (Utilizes GTK+-1)
envy24control => yes
hdspconf => no (Requires FLTK)
hdsploader => yes
hdspmixer => no (Requires FLTK)
mixartloader => yes
pcxhrloader => yes
rmedigicontrol => yes
sb16_csp => yes
seq/sbiload => yes
sscape_ctl => yes
us428control => yes
usx2yloader => yes
vxloader => yes
\NewEntry
alsa-firmware-1.0.8

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
alsa-oss-1.0.8

Forward Dependencies:
    mpg123-0.59r

***** Begin Code Block *****
./configure
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
audiofile-0.2.6

Forward Dependencies:
    esound
    libgnomeui
    gaim
    gnome-libs

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
mpg123-0.59r

NOTE: Add custom compiler flags to the CFLAGS variable for the 'linux' makefile target in the top-level 'Makefile'.

***** Begin Code Block *****
make PREFIX=/usr linux
make PREFIX=/usr install
***** End Code Block *****
\NewEntry
bmp-0.9.7 (beep-media-player)

Required:
  pkgconfig
  glib-2.0 >= 2.4.0
  gtk+-2.0 >= 2.4.0
  libglade-2.0 >= 2.3.1
  alsa >= 1.0

Utilizes:
  gconf-2.0 >= 2.6.0
  gnome-vfs-2.0 >= 2.6.0
  esound >= 0.2
  ogg >= 1.0 vorbis >= 1.0 vorbisfile >= 1.0
  id3lib

***** Begin Code Block *****
./configure --prefix=/usr --enable-simd --enable-gconf \
    --enable-gnome-vfs
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
vorbis-tools-1.0.1

Forward Dependencies:
    bmp
    libvorbis

NOTE: libvorbis, curl, libao, flac, and speex were all auto-detected by the configure script.

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
curl-7.13.1

Forward Dependencies:
    vorbis-tools
    grip

NOTE: OpenSSL, and pkgconfig are auto-detected by configure.

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
find docs -name "Makefile*" \
       -o -name "*.1" \
       -o -name "*.3" | xargs rm
install -v -d -m755 /usr/share/doc/curl-7.13.0
cp -v -R docs/* /usr/share/doc/curl-7.13.0
***** End Code Block *****
\NewEntry
libao-0.8.5

Forward Dependencies:
    vorbis-tools
    gaim

NOTE: libao will auto-detect ALSA. However, libao will not auto-detect esound or NAS, so use the following configure options to enable them:
    --enable-esd
    --enable-nas

***** Begin Code Block *****
./configure --prefix=/usr --enable-esd --enable-nas
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
nas-1.6

Forward Dependencies:
    libao
    mplayer
    gaim

NOTE: NAS is installed entirely within the X11R6 directory. If the X Window System is ever removed and re-installed, then NAS will also have to be re-installed.

***** Begin Code Block *****
xmkmf
make Makefiles
make includes
make depend
make
make install install.man
***** End Code Block *****

Configure NAS:

***** Begin Code Block *****
cp /etc/nas/nasd.conf.eg /etc/nas/nasd.conf
***** End Code Block *****

Install bootscripts:

***** Begin Code Block *****
make install-nas
***** End Code Block *****
\EndFolder
\NewEntry
flac-1.1.2

Forward Dependencies:
    vorbis-tools

NOTE: libogg and NASM were auto-detected by the configure script.

NOTE: This package will compile by default with -O3. Make sure you don't over-ride this unless you really want to.

***** Begin Code Block *****
LIBS=-lm ./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
libvorbis-1.1.0

Forward Dependencies:
    mplayer
    libquicktime

NOTE: pkgconfig was auto-detected by the configure script. Unable to verify that libxslt is utilized by this package, whether auto-detected or manually switched on.

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
libogg-1.1.2

Forward Dependencies:
    libvorbis
    flac
    speex

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
nasm-0.98.39

Forward Dependencies:
    flac
    transcode
    libmpeg3

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
speex-1.0.4

Forward Dependencies:
    vorbis-tools

NOTE: libogg was auto-detected by the configure script.

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
id3lib-3.8.3

Forward Dependencies:
    bmp (beep-media-player)
    grip

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
bmp-midi-0.01

Midi format support. Port of xmms-midi. Uses old timidity 0.2i engine. For Timidity++ check out the bmp-meta-input-plugin.

Homepage: http://www.sosdg.org/~larne/w/Plugin_list

NOTE: You may need to make a symlink from the xmms include directory to the bmp include directory.

***** Begin Code Block *****
./configure --prefix=/usr --with-bmp-prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
streamtuner-0.99.99

streamtuner is a stream directory browser. Through the use of a plugin system, it offers an intuitive GTK+ 2.0 interface to Internet radio directories such as SHOUTcast and Live365.

Homepage: http://www.nongnu.org/streamtuner/

Required:
    GLIB - version >= 2.0.0
    GTK+ - version >= 2.4.0
    libcurl - version >= 7.10.8

Optional:
    libxml2 >= 2.0 (Xiph plugin)
    taglib >= 1.2 (local metadata support)
    python >= 2.3 (python plugin)
    pygtk >= 2.4.0 (python plugin)
    scrollkeeper (for documentation)

NOTE: All package dependencies were auto-detected. Did not utilize scrollkeeper (no need to add it to the bloat).

***** Begin Code Block *****
./configure --prefix=/usr --enable-shoutcast --enable-python
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
taglib-1.3.1

TagLib is a library for reading and editing the meta-data of several popular audio formats.

Homepage: http://developer.kde.org/~wheeler/taglib.html

Forward Dependencies:
    streamtuner

Dependencies:
    none

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
Video
\NewFolder
\NewEntry
libid3tag-0.15.0b

ID3 tag manipulation library (part of the MAD project)
Home page: http://www.underbit.com/products/mad/

Forward Dependencies:
    mpeg4ip

***** Begin Code Block *****
./configure --prefix=/usr --disable-debugging
make
make install
***** End Code Block *****
\NewEntry
MPlayer-1.0pre7

Forward Dependencies:
    transcode (compile-time support for libpostproc)

NOTE: Most packages are set on by default or set to be auto-detected by the configure script. Packages that are explicitly set to be disabled include fribidi. Use the following configure options to set them:
    --enable-fribidi
    --enable-menu
    --enable-gui
    --enable-tremor (should not be used in favor of libvorbis)
    --enable-libfame (should not use in favor of libavcodec)
  The following two options will enable external faad
    --enable-external-faad
    --disable-internal-faad

Options that may want to be turned on:
    --enable-gui (for the GTK+-1 GUI)
    --enable-runtime-cpudetection (use to compile generically)
    --enable-shared-pp

Optional Dependencies (not mentioned currently):
    mpeg2dec (libmpeg2)
    libdts

DVB - Not used since I don't have any hardware that can be used by
      these drivers. Requires linux source in `/usr/src/linux' as well.
polypaudio - Not used only because I didn't see a use for it, and it
      has further dependencies (samplerate, at the very least).
bio2jack (JACK) - Not used because I don't know what they are useful
      for. Seems like bloat until I know if it is useful.
DirectFB - Not used because I don't want yet another grahpics engine
      installed.
SVGALIB - Not installed due to compile errors. Not worth the trouble.
GGI - Not installed because it is another grapics subsystem.
LADSPA - Not installed because it looks like a plugin API and I don't
      want to install any other plugins. Too much work.
Dxr2 - This is support for the Creative Dxr2 DVD decoder card, which I
      don't have. Thus, this package is not installed.
DXR3 - This is support for VideoLogic DVD Player MPEG Decoder Card
      which I don't have. Thus, this package is not installed.
MP1E - This program records video and audio from a v4l or v4l2 video
      capture device and an oss or alsa audio device, as MPEG-1 system
      stream. Only x86 CPUs with MMX extension are supported. I don't
      have these types of devices, so not installed.
tremor - Not stable. The libvorbis library is preferable anyway.
tooLAME - Not sure how to install it so that it is actually utilized by
      mplayer. Not installed for these issues.
lirccd/LIRC - I have no use for infrared based controlers or the
      like--not installed.

Extract all codecs to `/usr/lib/mplayer/codecs'. Make sure all
permissions are normal for libraries (0755). All files need to be
in the top level directory (no subdirectories). Only one version of
rp8/9 should be installed.

NOTE: Building for libfame never worked, not matter how I tweaked
the source files or configure options. It doesn't work because it was removed from the mplayer tree, and it doesn't build with the external library. It was removed in favor of the libavcodec which is better than the fame library.

NOTE: Do not enable building with tremor. This is known to break the build and libvorbis provides the same functionality and is more stable. See the following link for a length discussion:
  http://lists.freebsd.org/pipermail/freebsd-ports-bugs/2004-September/041668.html

Install my custom codecs (all of the codecs I could find that worked):

***** Begin Code Block *****
install -d -m755 /usr/lib/mplayer/codecs
tar xvjpf ../packages/codecs.tar.bz2 -C /usr/lib/mplayer
***** End Code Block *****

***** Begin Code Block *****
patch -Np1 -i ../patches/MPlayer-1.0pre7-kernel_2.6-1.patch
CFLAGS= ./configure --prefix=/usr --confdir=/etc/mplayer \
    --enable-largefiles --enable-shared-pp --enable-menu \
    --enable-fribidi --with-codecsdir=/usr/lib/mplayer/codecs \
    --enable-external-faad --disable-internal-faad
make
make install
install -v -m755 -d /usr/share/doc/mplayer-1.0pre7
cp -v -R DOCS/* /usr/share/doc/mplayer-1.0pre7
ln -v -s libdha.so.1.0 /usr/lib/libdha.so
install -m644 etc/codecs.conf /etc/mplayer
install -m644 etc/*.conf /etc/mplayer
make -C libavcodec/libpostproc install
***** End Code Block *****

Compiled with the following features:
  Install prefix: /usr
  Data directory: /usr/share/mplayer
  Config direct.: /etc/mplayer

  Byte order: little-endian
  Optimizing for: athlon-xp mmx mmx2 3dnow 3dnowex sse mtrr

  Languages:
    Messages/GUI: en
    Manual pages:  en

  Enabled optional drivers:
    Input: ftp network edl tv live.com matroska cdda mpdvdkit2 vcd dvb smb 
    Codecs: qtx xvid libdv libavcodec real xanim dshow/dmo win32 faad2(external)
 libmpeg2 libdts liba52 mp3lib libtheora tremor(internal) libmad liblzo gif 
    Audio output: alsa esd arts oss nas sdl mpegpes(dvb) 
    Video output: xvidix cvidix sdl vesa gif89a md5sum pnm jpeg png mpegpes(dvb)
 aa opengl dga xv x11 xover tga 
    Audio filters: 
  Disabled optional drivers:
    Input: vstream tv-v4l2 tv-v4l tv-bsdbt848 dvdread 
    Codecs: opendivx x264 amr_wb amr_nb toolame 
    Audio output: sgi sun jack polyp dxr2 dsound win32 macosx 
    Video output: winvidix bl zr zr2 dxr3 dxr2 directx fbdev svga caca ggi xmga 
mga xvmc directfb tdfx_vid tdfxfb 3dfx quartz 
    Audio filters: ladspa
\NewFolder
\NewEntry
libdv-0.104

Forward Dependencies:
    mplayer
    transcode
    libquicktime

NOTE: popt, pkgconfig, and GTK+-1 (the configure script is no longer broken in detecting GTK+-1 as it was for libdv-0.103) were all auto-detected by the configure script. Use the following configure option to utilize SDL:
    --enable-sdl

***** Begin Code Block *****
./configure --prefix=/usr --enable-sdl
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
sdl-1.2.8

Forward Dependencies:
    libdv
    mplayer
    transcode
    wxgtk

NOTE: Use the following configure option to enable aalib support:
    --enable-video-aalib

***** Begin Code Block *****
./configure --prefix=/usr --disable-debug --enable-video-aalib
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
aalib-1.4rc5

Forward Dependencies:
    sdl
    mplayer

NOTE: slang was auto-detected by the configure script.

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
slang-1.4.9

Forward Dependencies:
    aalib
    libcaca

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
make elf
make install-elf
chmod 755 /usr/lib/libslang.so.1.4.9
***** End Code Block *****
\EndFolder
\EndFolder
\EndFolder
\NewEntry
libdvdread-0.9.4

Forward Dependencies:
    mplayer (no longer utilized in mplayer in favor of internal library)
    transcode

NOTE: To build with libdvdcss support, pass the following option to configure:
    --with-libdvdcss

***** Begin Code Block *****
./configure --prefix=/usr --with-libdvdcss
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
libdvdcss-1.2.8

Forward Dependencies:
    libdvdread

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
live-2005.03.11

Forward Dependencies:
    mplayer (allows for streaming video)

***** Begin Code Block *****
./genMakefiles linux
make
cd ..
cp -r live /usr/lib
***** End Code Block *****
\NewEntry
libungif-4.1.3

Forward Dependencies:
    mplayer
    imlib

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
xvid-1.1.0-beta1

Forward Dependencies:
    mplayer
    transcode

NOTE: NASM is auto-detected by the configure script.

***** Begin Code Block *****
cd build/generic
./configure --prefix=/usr
make
make install
ln -sf libxvidcore.so.4.1 /usr/lib/libxvidcore.so.4
ln -sf libxvidcore.so.4 /usr/lib/libxvidcore.so
***** End Code Block *****
\NewEntry
libmad-0.15.1b

Forward Dependencies:
    mplayer

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
lame-3.96.1

Forward Dependencies:
    mplayer
    transcode
    libquicktime
    cdrdao

NOTE: GTK+-1 and NASM were auto-detected by the configure script.

***** Begin Code Block *****
./configure --prefix=/usr --enable-mp3rtp --enable-nasm --enable-mp3x
make
make install
***** End Code Block *****
\NewEntry
libfame-0.9.1

Forward Dependencies:
    mplayer (disabled feature in favor of libavcodec)
    transcode

***** Begin Code Block *****
patch -Np1 -i ../patches/libfame-0.9.1-gcc34-1.patch
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
libtheora-1.0alpha4

Theora is Xiph.Org's first publicly released video codec, intended for use within the Foundation's Ogg multimedia streaming system.
Home page: http://www.theora.org/

Forward Dependencies:
    mplayer
    transcode

Required Dependencies (for library only):
    libogg >= 1.1

Optional Dependencies:
    libvorbis >= 1.0.1 (for example encoder)
    SDL (for player)
    doxygen (for documentation)

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
libmatroska-0.7.5

libmatroska is a C++ libary to parse Matroska files (.mkv and .mka).
Home page: http://dl.matroska.org/downloads/libmatroska/

Forward Dependencies:
    mplayer

***** Begin Code Block *****
cd make/linux
sed -i 's/prefix=\/usr\/local/prefix=\/usr/g' Makefile
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
libebml-0.7.3

libebml is a C++ libary to parse EBML files.
Home page: http://dl.matroska.org/downloads/libebml/

Forward Dependencies:
    libmatroska

***** Begin Code Block *****
cd make/linux
sed -i 's/prefix=\/usr\/local/prefix=\/usr/g' Makefile
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
libcaca-0.9

The libcaca library is a graphics library that outputs text instead of pixels, so that it can work on older video cards or text terminals. It is not unlike the famous AAlib library.
Home page: http://sam.zoy.org/projects/libcaca/

Forward Dependencies:
    mplayer

Requires:
    imlib2

Optional:
    doxygen
    slang

NOTE: slang and imlib2 are auto-detected by the configure script. doxygen is required to build the documentation, but in order to disable this use the following configure script (configure will fail if not specified):
    --disable-doc

***** Begin Code Block *****
./configure --prefix=/usr --disable-doc
make
make install
***** End Code Block *****
\NewEntry
fribidi-0.10.4

A Free Implementation of the Unicode BiDi algorithm.
Home page: http://freedesktop.org/Software/FriBidi

Forward Depenencies:
    mplayer

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
enca-1.6

Enca is an Extremely Naive Charset Analyser. It detects character set and encoding of text files and can also convert them to other encodings.

Homepage: http://trific.ath.cx/software/enca/

Forward Dependencies:
    mplayer

Optional Dependencies:
    GNU recode
    libiconv

***** Begin Code Block *****
./configure --prefix=/usr --libexecdir=/usr/share/enca
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
recode-3.6

This recode program has the purpose of converting files between various character sets and usages. When exact transliterations are not possible, as it is often the case, the program may get rid of the offending characters or fall back on approximations.
Home page: http://www.gnu.org/software/recode/recode.html

Forward Dependencies:
   enca

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
libiconv-1.9.1

This library provides an iconv() implementation, for use on systems which don't have one, or whose implementation cannot convert from/to Unicode.

Forward Dependencies:
    enca
    gqview
    gliv

NOTE: Static libraries will need to be built in order to compile any other packages with libiconv statically. This issue may come up if GCC is ever compiled.

***** Begin Code Block *****
./configure --prefix=/usr --enable-static
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
tremor-svn-20050208 (not installed)

The source code to the integer-only Ogg Vorbis decode library named 'Tremor'. Check the source code out with:
    svn co http://svn.xiph.org/trunk/Tremor tremor
Home page: http://www.xiph.org/ogg/vorbis/index.html

Forward Dependencies:
    mplayer (disabled feature in favor of libvorbis)

***** Begin Code Block *****
./autogen.sh
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
divx4linux-20030428

Download DivX® Video 5.0.5 for Linux
Home page: http://www.divx.com/divx/linux/

Forward Dependencies:
    mplayer

***** Begin Code Block *****
./install.sh
mv /usr/local/include/{decore.h,encore2.h,portab.h} /usr/include
mv /usr/local/lib/libdivx* /usr/lib
***** End Code Block *****
\NewEntry
libdts-0.0.2

libdca is a free library for decoding DTS Coherent Acoustics streams. It was renamed from libdts to libdca.

Homepage: http://developers.videolan.org/libdca.html

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
transcode-1.0.0

Optional Dependencies:
    libquicktime-0.9.3

LVE - Not installed due to strange compile time requirements.
MMX Jpeg - Not installed due to compile issues.
PVM3 - Not installed because this is a HPC type package.
LoRS/IBP - Not installed because this is a HPC/distributed computing
    package.

NOTE: avifile does not configure correctly for transcode. It is not used.

NOTE: mjpegtools needs to be compiled with yuv4 support to be utilized by transcode.

***** Begin Code Block *****
./configure --prefix=/usr --without-x \
    --enable-ogg --enable-vorbis --enable-theora \
    --enable-libdv --enable-libquicktime --enable-lzo \
    --enable-a52 --enable-libmpeg3 --enable-libxml2 \
    --enable-sdl --enable-gtk --enable-libfame \
    --enable-imagemagick --enable-libjpeg --enable-netstream \
    --enable-freetype2
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
ffmpeg-0.4.9-pre1

Forward Dependencies:
    mplayer
    mpeg4ip
    transcode

Optional Dependencies:
    lame
    libvorbis
    faad2
    faac
    liba52

CONFIGURE: lame, libvorbis, faad, faac, and liba52 requires the following configure options:
    --enable-mp3lame
    --enable-vorbis
    --enable-faad
    --enable-faadbin
    --enable-faac
    --enable-a52 (failed on my build, not used)
    --enable-a52bin (failed on my build, not used)
    --enable-gpl (required for liba52 and/or faad2)

    --enable-pp (required by vlc--mplayer may also install)

OPTIMIZATIONS: This build will use a level of -O3 for optizations by default. Try not to override developer optimizatoins with a custom level unless sure.

***** Begin Code Block *****
ffmpeg-cvs-2005-09-09:
./configure --prefix=/usr --enable-shared \
    --enable-mp3lame --enable-libogg \
    --enable-vorbis --enable-theora \
    --enable-faad --enable-faadbin \
    --enable-faac --enable-libgsm \
    --enable-xvid --enable-a52 \
    --enable-a52bin --enable-dts \
    --enable-pp --enable-pthreads \
    --enable-gpl

ffmpeg-0.4.9-pre1:
./configure --prefix=/usr --enable-shared \
    --enable-pthreads --disable-ffplay \
    --enable-mp3lame --enable-vorbis \
    --enable-faad --enable-faadbin \
    --enable-faac --enable-gpl --enable-pp \
    --enable-a52 --enable-a52bin
make
make -C doc {ffmpeg,ffserver,ffplay}.1
make install
make installlib
***** End Code Block *****

NOTE: The `make installlib' target will install the following two additional archives:
    /usr/lib/libavcodec.a
    /usr/lib/libavformat.a
\NewFolder
\NewEntry
liba52-0.7.4

Forward Dependencies:
    ffmpeg
    transcode

***** Begin Code Block *****
./configure --prefix=/usr --enable-shared
make
make install
***** End Code Block *****
\NewEntry
imlib2-1.2.0

Forward Dependencies:
    libcaca
    pypanel

NOTE libjpeg, libpng, libtiff, libungif, libzlib, and bzip2 were all auto-detected by the configure script.

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
install -d -m755 /usr/share/doc/imlib2-1.2.0
install -m644 doc/{*.gif,index.html} \
    /usr/share/doc/imlib2-1.2.0
***** End Code Block *****
\NewEntry
faac-1.24

Freeware Advanced Audio Coder
Home page: http://www.audiocoding.com/modules/mydownloads/

Forward Dependencies:
    ffmpeg

Optional Dependencies:
    mpeg4ip (circular if also compiling ffmpeg)

***** Begin Code Block *****
autoreconf -vif
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
faad2-2.0

Freeware Advanced Audio (AAC) Decoder including SBR decoding.
Home page: http://www.audiocoding.com/modules/mydownloads/

Forward Dependencies:
    ffmpeg
    mplayer

Optional Dependencies:
    xmms (XMMS plugins)
    mpeg4ip (possible circular dependency if also installing mpeg4ip)

NOTE: Pass the following options to compile with xmms plugins and to compile with mpeg4ip support:
    --with-xmms
    --with-mp4v2

If it complains of a missing seperator in the Makefile, then open the makefile to the offending line and make the seprator for the makefile target tabs rather than spaces.

RECALL: Only faad2 *or* faad should be installed.

***** Begin Code Block *****
autoreconf -vif
./configure --prefix=/usr --with-mp4v2
make
make install
***** End Code Block *****
\NewEntry
gsm-1.0-pl10

Used in newer (>0.4.9-pre1) versions of ffmpeg.

Homepage?: http://nthill.free.fr/openwrt/sources/gsm/

***** Begin Code Block *****
patch -p0 < ../patches/gsm-1.0.10-1.diff
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
ImageMagick-6.2.0-6

Forward Dependencies:
    transcode

***** Begin Code Block *****
sed -i -e 's/\$(LIBLTDL) \$/\$/' Makefile.in
./configure --prefix=/usr --with-modules \
    --with-windows-font-dir=/usr/X11R6/lib/X11/fonts/TrueType
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
ghostscript-8.50 (AFPL)

Forward Dependencies:
    imagemagick
    xpdf

NOTE: libjpeg, and libpng was auto-detected by the configure script. GTK+-1 was not checked for, but utilized during the shared library compilation.

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
make so
make soinstall
tar xvjf ../packages/ghostscript-fonts-std-8.11.tar.bz2 \
    -C /usr/share/ghostscript
tar xvjpf ../packages/gnu-gs-fonts-other-6.0.tar.bz2 \
    -C /usr/share/ghostscript
chmod 0755 /usr/share/ghostscript
chmod 0644 /usr/share/ghostscript/*
chown -R root:root /usr/share/ghostscript
***** End Code Block *****
\NewEntry
lcms-1.14

Forward Dependencies:
    imagemagick

NOTE: libtiff and libjpeg are auto-detected by configure.

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
enscript-1.6.4

Forward Dependencies:
    imagemagick

NOTE: libiconv is checked for, but not used to link against. Instead, it is used to check the build environment for other library support.

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc/enscript \
    --localstatedir=/var --with-media=Letter
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
avifile-0.7.43

Forward Dependencies:
    transcode (does not configure correctly)

NOTE: SDL, Xft, OSS audio, ac3passthrough (not sure what this is), divx encoder (from divx2linux), xvid4, ffmpeg, ffmpeg faad, mjpeg, win32, libmad, vorbis, lame were all auto-detected by the configure script. libiconv was also auto-detected, but when it is the makefile won't be built to link against the system libraries (or any library for that matter). Errors will result, which I fix by adding the -liconv to the relevant makefiles.

NOTE: QT is not required for this build.

***** Begin Code Block *****
install -d -m755 /usr/lib/avifile-0.7/win32
tar -xvjf ../packages/binaries-011002.tar.bz2 -C /usr/lib/avifile-0.7
sed -i 's/__THROW//g' lib/common/wave_type.c
sed -i 's/__THROW//g' lib/common/utils.c
sed -i 's/__THROW//g' lib/common/fcc_type.c
sed -i 's/__THROW//g' include/utils.h
./configure --prefix=/usr \
    --with-win32-path=/usr/lib/avifile-0.7/win32 \
    --with-iconv=/usr
sed -i 's/LIBS = -lnsl -ldl/LIBS = -lnsl -ldl -liconv/g' \
    samples/misc/Makefile
sed -i 's/LIBS = -lnsl -ldl/LIBS = -lnsl -ldl -liconv/g' \
    samples/qtvidcap/Makefile
make
sed -i -e "s,include/avifile,&-0.7," avifile.pc
make install
***** End Code Block *****
\NewEntry
libmpeg3-1.5.4

Forward Dependencies:
    transcode

***** Begin Code Block *****
patch -Np1 -i ../patches/libmpeg3-1.5.4-gcc34-1.patch
make
make install
cp i686/libmpeg3.a /usr/lib
cp {libmpeg3,mpeg3private,mpeg3protos}.h /usr/include
***** End Code Block *****
\NewEntry
mjpegtools-1.6.2 (MJPEG Tools)

Forward Dependencies:
    transcode (needs mjpegtools yuv4 support to compile)

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
libquicktime-0.9.4

Forward Dependencies:
    mjpegtools

NOTE: libquicktime-0.9.4 is not compatible with transcode-0.6.14.

Dependencies (not sure if optional):
    alsa
    gtk+-1
    libdv
    libvorbis
    lame
    jpeg-mmx (unable to get it to compile)
    libjpeg
    libavcodec (installed, not able to configure for it)
    libpng

***** Begin Code Block *****
./configure --prefix=/usr --enable-mt-jpeg
make
make install
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
dvdrip-0.52.2 (dvd::rip)

dvd::rip is a full featured DVD copy program written in Perl.

Homepage: http://www.exit1.org/dvdrip/

Required Dependencies:
    gtk+-1 perl
    Local::TextDomain (perl module)

Optional Dependencies:
    xvid4conf

***** Begin Code Block *****
perl Makefile.PL
make
make test
make install
***** End Code Block *****
\NewFolder
\NewEntry
Gtk-Perl-0.7009

Forward Dependencies:
    dvdrip

Required Dependencies:
    XML-Writer

Make sure to apply the GDK-Pixbuf patch if you need to compile it.

***** Begin Code Block *****
perl -pi -e '/CCMD/ && s|/m;|/mg;|' */Makefile.PL
perl Makefile.PL --without-guessing
make
cd GdkPixbuf
perl Makefile.PL
make
make install
cd ..
make install
***** End Code Block *****
\NewFolder
\NewEntry
gdk-pixbuf-0.22.0

***** Begin Code Block *****
./configure --prefix=/opt/gnome --disable-gtk-doc
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
gnome-libs-1.4.2

***** Begin Code Block *****
./configure --prefix=/opt/gnome --disable-gtk-doc
make
make install
***** End Code Block *****

If the build fails complaining about an undefined reference to libiconv_open, then perform the following make command:

***** Begin Code Block *****
make LDFLAGS="-liconv"
***** End Code Block *****
\NewFolder
\NewEntry
ORBit-0.5.17

Forward Dependencies:
    gnome-libs

NOTE: Glib-1 and tcpwrappers were auto-detected by the configure script.

***** Begin Code Block *****
./configure --prefix=/opt/gnome
make
make install
***** End Code Block *****
\NewEntry
imlib-1.9.15

Forward Dependencies:
    gnome-libs

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc/imlib
make
make install
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
XML-Writer-0.530

Forward Dependencies:
    gtk-perl

***** Begin Code Block *****
perl Makefile.PL
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
xvid4conf-1.12

XviD configuration panel for transcode.

Homepage: http://zebra.fh-weingarten.de/~transcode/xvid4conf/

Forward Dependencies:
    dvdrip

Required Dependencies:
    gtk+-2 >= 2.0.0

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
Perl Module - Locale::TextDomain

NOTE: The Locale::TextDomain perl module is required by DVD::Rip. It may need to be installed forcefully (force install Locale::TextDomain).

***** Begin Code Block *****
perl -MCPAN -e shell
cpan> force install Locale::TextDomain
***** End Code Block *****
\EndFolder
\NewEntry
vlc-0.8.2

Homepage: http://www.videolan.org/vlc/

NOTE:
Will require ffmpeg to be compiled with libpostproc support (--enable-pp in ffmpeg). However, this library is installed (by me) through mplayer, which ffmpeg is a dependency for. Seems like a nice little circualar dependecy here.

***** Begin Code Block *****
./configure --prefix=/usr --enable-wxwindows \
    --enable-release --enable-livedotcom \
    --enable-dvdread --enable-vcdx \
    --enable-cdda --enable-cddax \
    --enable-dts --enable-flac \
    --enable-vorbis --enable-speex \
    --enable-theora --enable-png \
    --enable-galaktos --with-ffmpeg-faac \
    --with-ffmpeg-mp3lame --with-ffmpeg-zlib
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
mpeg2dec-0.4.0b

A free MPEG-2 video stream decoder.

Home page: http://libmpeg2.sourceforge.net/

Forward Dependencies:
    vlc
    mpeg4ip

Optional Dependencies:
    sdl

OPTIMIZATIONS: This build will use a level of -O3 for optizations by default. Try not to override developer optimizatoins with a custom level unless sure.

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
CD-Writing
\NewFolder
\NewEntry
cdrtools-2.01

***** Begin Code Block *****
make INS_BASE=/usr DEFINSUSR=root DEFINSGRP=root
make INS_BASE=/usr DEFINSUSR=root DEFINSGRP=root install
***** End Code Block *****
\NewEntry
Cdrdao-1.1.9

NOTE: Not built with the graphical gcdmaster program. Too much bloat.

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
Printing
\NewFolder
\NewEntry
cups-1.1.23

CUPS provides a portable printing layer for UNIX®-based operating systems.

Homepage: http://www.cups.org/

***** Begin Code Block *****
useradd -c "Print Service User" -d /dev/null -g lp -s /bin/false -u 9 lp
***** End Code Block *****

***** Begin Code Block *****
./configure --prefix=/usr --enable-ssl
make
make install
***** End Code Block *****

rc startup scripts:

***** Begin Code Block *****
make install-cups
***** End Code Block *****
\NewEntry
hpijs-2.1.4

Homepage: http://hpinkjet.sourceforge.net/

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****

/etc/init.d/hplip restart

Restart cups

***** Begin Code Block *****
/etc/rc.d/init.d/cups restart
***** End Code Block *****

The HP DeskJet 5940 is compatible with the HP DeskJet 990C:
  http://www.linuxprinting.org/show_printer.cgi?recnum=HP-DeskJet_5940
\EndFolder
\EndFolder
\NewEntry
Not Installed
\NewFolder
\NewEntry
gliv-1.9.1

Required Dependencies:
    gtkglext >= 0.7.0
    gtk+-2 >= 2.4.0
    libiconv

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
gtkglext-1.0.6

Forward Dependencies:
    gliv

Required Dependencies:
    perl
    gtk+-2

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
PyPanel-2.2

PyPanel is a lightweight panel/taskbar written in Python and C for X11 window managers.

Homepage: http://pypanel.sourceforge.net/

Dependencies:
    Python >= 2.2
    Python-xlib >= 0.12
    Imlib2 >= 1.1.1

***** Begin Code Block *****
python setup.py install
***** End Code Block *****
\NewFolder
\NewEntry
python-xlib-0.12

The Python X Library is intended to be a fully functional X client library for Python programs.

Homepage: http://python-xlib.sourceforge.net/

Required Dependencies:
    python
    X11

Forward Dependencies:
    pypanel

***** Begin Code Block *****
python setup.py install
***** End Code Block *****
\EndFolder
\NewEntry
ifolder

The iFolder Project is a project focused on file sharing and collaboration.

Homepage: http://forge.novell.com/modules/xfmod/project/?ifolder

Forward Dependencies:
    none

Required Dependencies:
    mono
    gtk-sharp
    simias

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
simias-1.0.20050302

Simias is a technology that will allow various types of data to be stored and related in what is known as a collection.

Homepage: http://forge.novell.com/modules/xfmod/project/?ifolder

Forward Dependencies:
    ifolder

Required Dependencies:
    mono

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\NewEntry
deskbar-applet-0.2

This is a Linux/Gnome panel applet that is similar to Google's (Windows only) Deskbar.

Homepage: http://browserbookapp.sourceforge.net/deskbar.html

***** Begin Code Block *****
sed -i 's/libexec/share\/deskbar-applet/' DeskbarApplet.server
install -dv /usr/share/deskbar-applet
install -m755 -v deskbar-applet.py /usr/share/deskbar-applet
install -m644 DeskbarApplet.server /usr/lib/bonobo/servers
***** End Code Block *****
\NewEntry
PyComicsViewer-0.9.12

A Comic Viewer in Python.

Homepage: http://borco.net/html/PyComicsViewer/

***** Begin Code Block *****
python setup.py install --prefix=/usr --install-data=/usr/share
chmod 0644 /usr/share/PyComicsViewer/*
***** End Code Block *****

http://view.atdmt.com/*
\NewEntry
blam-1.6.1

Blam is a tool that helps you keep track of the growing number of news feeds distributed as RSS.

Homepage: http://www.imendio.com/projects/blam/

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewEntry
blogtk-1.1

BloGTK is a weblog client that allows you to post to your weblog from Linux without the need for a separate browser window.

Homepage: http://blogtk.sourceforge.net/

Required Dependencies:
    pygtk
    gtkhtml2 (python module)

***** Begin Code Block *****
make install
***** End Code Block *****
\NewEntry
mbloggy-0.1

mBloggy is a C#/Gtk# Weblog client for Linux.

Homepage: http://mbloggy.pablo.com.mx/

***** Begin Code Block *****
./configure --prefix=/usr
sed -i 's/MBloggy.Plugins.Struct/Plugins.Struct/g' gui/Wrapper.cs
make
make install
***** End Code Block *****
\NewEntry
muine-0.8.2

Muine is an music player.

Homepage: http://muine.gooeylinux.org/

Required Dependencies:
    XML-Parser
    Mono >= 1.0
    Gtk# >= 1.9.1
    glib-2.0 >= 2.0.0
    Gtk+-2.0 >= 2.4
    vorbis >= 1.0
    FLAC >= 1.1.0
    gdbm

Optional Dependencies:
    libid3tag >= 0.15.0b
    faad2
    xine-lib >= 1.0.0rc3b (used by default) or GStreamer 0.8
    dbus-sharp >= 0.21

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc --enable-gstreamer=yes
make
make install
***** End Code Block *****
\NewEntry
ikvm-0.12.0.0

IKVM.NET is an implementation of Java for Mono and the Microsoft .NET Framework.

Homepage: http://www.ikvm.net/

Required Dependencies:
    nant (for source compilation)
    mono

***** Begin Code Block *****

***** End Code Block *****
\NewFolder
\NewEntry
nant-0.85-rc2

NAnt is a free .NET build tool. In theory it is kind of like make without make's wrinkles. In practice it's a lot like Ant.

Homepage: http://nant.sourceforge.net/

Required Dependencies:
    pkgconfig
    mono >= 1.0 (with version 2.0 preview)

***** Begin Code Block *****
make install prefix=/usr
***** End Code Block *****
\EndFolder
\NewEntry
Xpdf-3.00pl3

***** Begin Code Block *****
patch -d xpdf -Np0 -i ../patches/xpdf-3.00pl1.patch
patch -d xpdf -Np0 -i ../patches/xpdf-3.00pl2.patch
patch -d xpdf -Np0 -i ../patches/xpdf-3.00pl3.patch
patch -Np1 -i ../patches/xpdf-3.00pl1-freetype_2.1.7_hack-2.patch
./configure --prefix=/usr --sysconfdir=/etc \
    --with-freetype2-includes=/usr/include/freetype2
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
t1lib-5.0.2

Optional Dependencies:
    LaTeX (for documentation)

Forward Dependencies:
    xpdf

NOTE: Compile with `make without_doc', otherwise the documentation will require LaTeX.

***** Begin Code Block *****
./configure --prefix=/usr
make without_doc
make install
***** End Code Block *****
\EndFolder
\NewEntry
bluefish-1.0

Bluefish is a powerful editor for experienced web designers and programmers.

Homepage: http://bluefish.openoffice.nl/

Required Dependencies:
    gtk+-2.0
    gnome-vfs-2.0
    libgnomeui >= 2.6

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
gwget-0.93

Gwget it's a download manager for the Gnome Desktop.

Homepage: http://gwget.sourceforge.net/

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc
make
make install
***** End Code Block *****
\NewEntry
pymusique-0.5

The fair interface to the iTunes Music Store.

Homepage: http://fuware.nanocrew.net/pymusique/

Required Dependencies:
    python
    python-gtk2
    phthon-mcrypt
    python-libxml2
    python-twisted
    python-twistedweb

Optional Dependencies:
    gnome-python
    python-mp4ff (tagging support)
    gstreamer-python or vlc-python (preview support)

***** Begin Code Block *****
python setup.py install --prefix=/usr
***** End Code Block *****
\NewFolder
\NewEntry
python-mcrypt-1.1

Python-mcrypt is a comprehensive Python interface to the mcrypt library, which provides a uniform interface to several symmetric encryption algorithms.

Homepage: http://sourceforge.net/projects/python-mcrypt/

Required Dependencies:
    mcrpyt

***** Begin Code Block *****
python setup.py build
python setup.py install --prefix=/usr
***** End Code Block *****
\NewFolder
\NewEntry
mcrypt-2.6.4

MCrypt is a replacement for the old crypt() package and crypt(1) command, with extensions.

Homepage: http://sourceforge.net/projects/mcrypt

Required Dependencies:
    libmcrypt
    mhash

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
libmcrypt-2.5.7

Libmcrypt is a thread-safe library providing a uniform interface to access several block and stream encryption algorithms.

Homepage: http://sourceforge.net/projects/mcrypt

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
mhash-0.9.2

Mhash is a free (under GNU Lesser GPL) library which provides a uniform interface to a large number of hash algorithms.

Homepage: http://mhash.sourceforge.net/

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\EndFolder
\EndFolder
\NewEntry
python-twisted-2.0.1

Twisted is an event-driven networking framework written in Python and licensed under the MIT license.

Homepage: http://twistedmatrix.com/projects/core/

Required Dependencies:
    zopeinterface
    pyopenssl

***** Begin Code Block *****
python setup.py install
***** End Code Block *****
\NewFolder
\NewEntry
ZopeInterface-3.0.1

This is a separate distribution of the zope.interface package used in Zope 3, along with the packages it depends on.

Homepage: http://www.zope.org/Products/ZopeInterface

***** Begin Code Block *****
python setup.py build
python setup.py install
***** End Code Block *****
\NewEntry
pyOpenSSL-0.6

A Python wrapper around the OpenSSL library

Homepage: http://sourceforge.net/projects/pyopenssl/

***** Begin Code Block *****
python setup.py build
python setup.py install
***** End Code Block *****
\EndFolder
\NewEntry
python-twistedweb-0.5.0

Twisted web has web servers and clients.

Homepage: http://twistedmatrix.com/projects/web/

***** Begin Code Block *****
python setup.py install
***** End Code Block *****
\EndFolder
\NewEntry
newton-0.0.7

Newton is a desktop wiki applet for the GNOME2 desktop environment.

Homepage: http://newton.sourceforge.net/

Required Dependencies:
    gnome-python-extras
    imaging (python imaging library--PIL)

***** Begin Code Block *****
./configure --prefix=/usr --libexecdir=/usr/bin \
    --with-gconf-schema-file-dir=/etc/gnome/gconf/schemas
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
gnome-python-extras-2.10.2

Homepage: http://ftp.gnome.org/pub/GNOME/sources/gnome-python-extras/2.10/

Required Dependencies:
    python >= 2.3
    glib >= 2.6.0
    gtk+ >= 2.4.0
    pygtk

Optional Dependencies:
    firefox
    libpanel-applet
    gtkhtml2
    libgnomeprint
    libgnomeprintui
    gtksourceview
    eggtray
    libwnck
    gtkspell
    gdl
    totem
    gtop
    nautilusburn

NOTE: If the gtkmozembed module is not picked up, and you have firefox installed, then create a symlink from the mozilla .pc file to the existing firefox .pc file:

***** Begin Code Block *****
ln -s /usr/lib/pkgconfig/firefox-gtkmozembed.pc \
    /usr/lib/pkgconfig/mozilla-gtkmozembed.pc
***** End Code Block *****

***** Begin Code Block *****
./configure --prefix=/usr --with-gtkmozembed=firefox
make
make install
***** End Code Block *****

The following modules will be built:

gtkhtml2
gnomeapplet
gnomeprint
gnomeprint.ui
gtksourceview
egg.trayicon
egg.recent
wnck
gtkmozembed (linking to firefox)
gtkspell
gtop
nautilusburn

The following modules will NOT be built:

gdl
totem.plparser
\NewEntry
Imaging-1.1.5

The Python Imaging Library (PIL) adds image processing capabilities to your Python interpreter.

Homepage: http://www.pythonware.com/products/pil/

***** Begin Code Block *****
python setup.py build_ext -i
python selftest.py
python setup.py install
***** End Code Block *****
\EndFolder
\NewEntry
winki-0.3.8

Winki The Ripper aims to be the easiest to use program for video encoding. It is actually just a graphical frontend for GNOME written in python to command line tools like mencoder, mplayer, mkvtoolnix, oggenc and lsdvd.

Homepage: http://www.winki-the-ripper.de/

Required Dependencies:
    pygtk

***** Begin Code Block *****
python setup.py install --prefix=/usr
chmod 0644 /etc/winkirc
find /usr/share/winki -type f -exec chmod 0644 {} \;
***** End Code Block *****
\NewEntry
suxpanel-0.4a

SuxPanel provides a simple and easy to use panel that sits atop your screen.

Homepage: http://www.linuxmag.com.br/~leandro/suxpanel/

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****
\NewEntry
PyPanel-2.3

PyPanel is a lightweight panel/taskbar written in Python and C for X11 window managers.

Homepage: http://pypanel.sourceforge.net/

Required Dependencies:
    python
    python-xlib

***** Begin Code Block *****
python setup.py install --prefix=/usr
***** End Code Block *****
\NewFolder
\NewEntry
python-xlib-0.12

The Python X Library is a complete X11R6 client-side implementation, written in pure Python. It can be used to write low-levelish X Windows client applications in Python.

Homepage: http://python-xlib.sourceforge.net/

Required Dependencies:
    python
    x11

***** Begin Code Block *****
python setup.py install --prefix=/usr
***** End Code Block *****
\EndFolder
\NewEntry
galeon-1.3.20

Galeon is a GNOME Web browser based on Gecko (the mozilla layout engine).

Homepage: http://galeon.sourceforge.net/

***** Begin Code Block *****
./configure --prefix=`pkg-config --variable=prefix ORBit-2.0` \
    --sysconfdir=/etc/gnome --localstatedir=/var/lib \
    --with-mozilla=firefox
make
make install
***** End Code Block *****
\NewEntry
NetworkManager-0.4

Homepage: http://people.redhat.com/dcbw/NetworkManager/index.html

***** Begin Code Block *****
./configure --prefix=/usr --sysconfdir=/etc \
    --with-distro=gentoo
make
make install
***** End Code Block *****
\NewFolder
\NewEntry
wireless_tools.27

The Wireless Extension (WE) is a generic API allowing a driver to expose to the user space configuration and statistics specific to common Wireless LANs.

Homepage: http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Tools.html

***** Begin Code Block *****
make install PREFIX=/usr
***** End Code Block *****
\EndFolder
\NewEntry
gnubiff-2.1.4

gnubiff is a mail notification program that checks for mail and displays headers when new mail has arrived.

Homepage: http://gnubiff.sourceforge.net/

***** Begin Code Block *****
./configure --prefix=/usr
make
make install
***** End Code Block *****

Disable gnome support with --disable-gnome
\NewEntry
mpeg4ip-1.2 (not installed)

MPEG4IP provides an end-to-end system to explore streaming multimedia. The package includes many existing open source packages and the "glue" to integrate them together. This is a tool for streaming video and audio that is standards-oriented and free from proprietary protocols and extensions.
Home page: http://mpeg4ip.sourceforge.net/

Forward Dependencies:
    faad2
    faac

Optional Dependencies:
    liba52
    id3lib
    xvid >= 1.0 (for mpeg-4 encoding)
    pkgconfig
    glib-2
    gtk+-2
    nasm >= 0.98.19 (for optimizations, otherwise low frame rates occur)
    faad2 (possible circular dependency)
    libvorbis
    alsa
    arts
    esound
    nas
    mpeg2dec (libmpeg2)
    sdl >= 1.27
    lame >= 3.92 (for mp4live)
    faac >= 1.20.1 (for mp4live)
    ffmpeg >= ffmpeg-0.4.8 (for mpeg-4 encoding-preferred over xvid)
    libid3tag (not checked for by configure)

NOTE: Do not configure (and build) with --enable-aesicm, it is not installed and I don't know what it is. If you need ipv6 support, then specify --enable-ipv6. By default, both the server and player are built. To disable one or the other specify --disable-server or --disable-player respectively.

NOTE: Building with gcc-2.95.3 is not supported.

NOTE: ffmpeg (>= 0.4.9-pre1) must be installed with `make installlib' for this package to compile successfully.

***** Begin Code Block *****
./configure --prefix=/usr --enable-ismacryp \
    --enable-server --enable-player \
    --enable-mp4live --enable-mmx
make
make install
***** End Code Block *****
\EndFolder
\EndFolder
